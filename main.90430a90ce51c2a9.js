"use strict";var v2=Object.defineProperty,y2=Object.defineProperties,b2=Object.getOwnPropertyDescriptors,EO=Object.getOwnPropertySymbols,D2=Object.prototype.hasOwnProperty,C2=Object.prototype.propertyIsEnumerable,TO=(We,_e,x)=>_e in We?v2(We,_e,{enumerable:!0,configurable:!0,writable:!0,value:x}):We[_e]=x,IO=(We,_e)=>{for(var x in _e||(_e={}))D2.call(_e,x)&&TO(We,x,_e[x]);if(EO)for(var x of EO(_e))C2.call(_e,x)&&TO(We,x,_e[x]);return We},SO=(We,_e)=>y2(We,b2(_e));(self.webpackChunkMyCargonaut=self.webpackChunkMyCargonaut||[]).push([[179],{2011:(We,_e,x)=>{x.d(_e,{Dh:()=>se,GT:()=>pe,cc:()=>Se,hO:()=>Ue,on:()=>G,pX:()=>ie,xv:()=>ce});var u=x(5e3),J=x(127),k=x(5813);We=x.hmd(We);const ae=["ngOnDestroy"],ie=(De,Be,$e,Ee={})=>new Proxy(De,{get:(ye,be)=>$e.runOutsideAngular(()=>{var Pe;if(De[be])return(null===(Pe=null==Ee?void 0:Ee.spy)||void 0===Pe?void 0:Pe.get)&&Ee.spy.get(be,De[be]),De[be];if(ae.indexOf(be)>-1)return()=>{};const Fe=Be.toPromise().then(H=>{const ve=H&&H[be];return"function"==typeof ve?ve.bind(H):ve&&ve.then?ve.then(q=>$e.run(()=>q)):$e.run(()=>ve)});return new Proxy(()=>{},{get:(H,ve)=>Fe[ve],apply:(H,ve,q)=>Fe.then(re=>{var ee;const ge=re&&re(...q);return(null===(ee=null==Ee?void 0:Ee.spy)||void 0===ee?void 0:ee.apply)&&Ee.spy.apply(be,q,ge),ge})})})}),pe=(De,Be)=>{Be.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(Ee=>{Object.defineProperty(De.prototype,Ee,Object.getOwnPropertyDescriptor($e.prototype||$e,Ee))})})};class le{constructor(Be){return Be}}const se=new u.OlP("angularfire2.app.options"),ce=new u.OlP("angularfire2.app.name");function G(De,Be,$e){const ye="object"==typeof $e&&$e||{};ye.name=ye.name||"string"==typeof $e&&$e||"[DEFAULT]";const Pe=J.Z.apps.filter(Fe=>Fe&&Fe.name===ye.name)[0]||Be.runOutsideAngular(()=>J.Z.initializeApp(De,ye));try{JSON.stringify(De)!==JSON.stringify(Pe.options)&&j("error",`${Pe.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Fe){}return new le(Pe)}const j=(De,...Be)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...Be)},te={provide:le,useFactory:G,deps:[se,u.R0b,[new u.FiY,ce]]};let Ue=(()=>{class De{constructor($e){J.Z.registerVersion("angularfire",k.q4.full,"core"),J.Z.registerVersion("angularfire",k.q4.full,"app-compat"),J.Z.registerVersion("angular",u.q4F.full,$e.toString())}static initializeApp($e,Ee){return{ngModule:De,providers:[{provide:se,useValue:$e},{provide:ce,useValue:Ee}]}}}return De.\u0275fac=function($e){return new($e||De)(u.LFG(u.Lbi))},De.\u0275mod=u.oAB({type:De}),De.\u0275inj=u.cJS({providers:[te]}),De})();function Se(De,Be,$e,Ee,ye){const[,be,Pe]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===De)||[];if(be)return function Ae(De,Be){try{return De.toString()===Be.toString()}catch($e){return De===Be}}(ye,Pe)||(he("error",`${Be} was already initialized on the ${$e} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:ye,was:Pe})),be;{const Fe=Ee();return globalThis.\u0275AngularfireInstanceCache.push([De,Fe,ye]),Fe}}const ke=!!We.hot,he=(De,...Be)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(We,_e,x)=>{x.d(_e,{q4:()=>la,iC:()=>Cd,fc:()=>$n,HU:()=>cu,vb:()=>Yh,JM:()=>Do});var u=x(5e3),J=x(5867),k=x(5861),ae=x(9681),ie=x(2090),pe=x(4859),le=x(1877),se=x(8766);const ce="@firebase/installations",G="0.5.9",te=`w:${G}`,Ue="FIS_v2",Be=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $e(w){return w instanceof ie.ZR&&w.code.includes("request-failed")}function Ee({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function ye(w){return{token:w.token,requestStatus:2,expiresIn:re(w.expiresIn),creationTime:Date.now()}}function be(w,T){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,k.Z)(function*(w,T){const U=(yield T.json()).error;return Be.create("request-failed",{requestName:w,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Fe({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function H(w,{refreshToken:T}){const M=Fe(w);return M.append("Authorization",function ee(w){return`${Ue} ${w}`}(T)),M}function ve(w){return q.apply(this,arguments)}function q(){return(q=(0,k.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function re(w){return Number(w.replace("s","000"))}function ge(w,T){return oe.apply(this,arguments)}function oe(){return(oe=(0,k.Z)(function*({appConfig:w,heartbeatServiceProvider:T},{fid:M}){const U=Ee(w),K=Fe(w),ne=T.getImmediate({optional:!0});if(ne){const nt=yield ne.getHeartbeatsHeader();nt&&K.append("x-firebase-client",nt)}const ze={method:"POST",headers:K,body:JSON.stringify({fid:M,authVersion:Ue,appId:w.appId,sdkVersion:te})},Qe=yield ve(()=>fetch(U,ze));if(Qe.ok){const nt=yield Qe.json();return{fid:nt.fid||M,registrationStatus:2,refreshToken:nt.refreshToken,authToken:ye(nt.authToken)}}throw yield be("Create Installation",Qe)})).apply(this,arguments)}function Me(w){return new Promise(T=>{setTimeout(T,w)})}const It=/^[cdef][\w-]{21}$/;function je(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function Lt(w){return function tt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return It.test(M)?M:""}catch(w){return""}}function un(w){return`${w.appName}!${w.appId}`}const Ut=new Map;function kt(w,T){const M=un(w);wt(M,T),function cr(w,T){const M=function qn(){return!xi&&"BroadcastChannel"in self&&(xi=new BroadcastChannel("[Firebase] FID Change"),xi.onmessage=w=>{wt(w.data.key,w.data.fid)}),xi}();M&&M.postMessage({key:w,fid:T}),function hi(){0===Ut.size&&xi&&(xi.close(),xi=null)}()}(M,T)}function wt(w,T){const M=Ut.get(w);if(M)for(const U of M)U(T)}let xi=null;const Ci="firebase-installations-store";let Yi=null;function lt(){return Yi||(Yi=(0,se.X3)("firebase-installations-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(Ci)}})),Yi}function ki(w,T){return rn.apply(this,arguments)}function rn(){return(rn=(0,k.Z)(function*(w,T){const M=un(w),K=(yield lt()).transaction(Ci,"readwrite"),ne=K.objectStore(Ci),fe=yield ne.get(M);return yield ne.put(T,M),yield K.done,(!fe||fe.fid!==T.fid)&&kt(w,T.fid),T})).apply(this,arguments)}function dn(w){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,k.Z)(function*(w){const T=un(w),U=(yield lt()).transaction(Ci,"readwrite");yield U.objectStore(Ci).delete(T),yield U.done})).apply(this,arguments)}function wi(w,T){return kn.apply(this,arguments)}function kn(){return(kn=(0,k.Z)(function*(w,T){const M=un(w),K=(yield lt()).transaction(Ci,"readwrite"),ne=K.objectStore(Ci),fe=yield ne.get(M),ze=T(fe);return void 0===ze?yield ne.delete(M):yield ne.put(ze,M),yield K.done,ze&&(!fe||fe.fid!==ze.fid)&&kt(w,ze.fid),ze})).apply(this,arguments)}function hn(w){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,k.Z)(function*(w){let T;const M=yield wi(w.appConfig,U=>{const K=Ns(U),ne=St(w,K);return T=ne.registrationPromise,ne.installationEntry});return""===M.fid?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}})).apply(this,arguments)}function Ns(w){return As(w||{fid:je(),registrationStatus:0})}function St(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Be.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},U=function Je(w,T){return dt.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:U}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Kn(w)}:{installationEntry:T}}function dt(){return(dt=(0,k.Z)(function*(w,T){try{const M=yield ge(w,T);return ki(w.appConfig,M)}catch(M){throw $e(M)&&409===M.customData.serverCode?yield dn(w.appConfig):yield ki(w.appConfig,{fid:T.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Kn(w){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,k.Z)(function*(w){let T=yield Tt(w.appConfig);for(;1===T.registrationStatus;)yield Me(100),T=yield Tt(w.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:U}=yield hn(w);return U||M}return T})).apply(this,arguments)}function Tt(w){return wi(w,T=>{if(!T)throw Be.create("installation-not-found");return As(T)})}function As(w){return function Qn(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Jn(w,T){return B.apply(this,arguments)}function B(){return(B=(0,k.Z)(function*({appConfig:w,heartbeatServiceProvider:T},M){const U=W(w,M),K=H(w,M),ne=T.getImmediate({optional:!0});if(ne){const nt=yield ne.getHeartbeatsHeader();nt&&K.append("x-firebase-client",nt)}const ze={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:te,appId:w.appId}})},Qe=yield ve(()=>fetch(U,ze));if(Qe.ok)return ye(yield Qe.json());throw yield be("Generate Auth Token",Qe)})).apply(this,arguments)}function W(w,{fid:T}){return`${Ee(w)}/${T}/authTokens:generate`}function Z(w){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,k.Z)(function*(w,T=!1){let M;const U=yield wi(w.appConfig,ne=>{if(!pt(ne))throw Be.create("not-registered");const fe=ne.authToken;if(!T&&Yt(fe))return ne;if(1===fe.requestStatus)return M=$(w,T),ne;{if(!navigator.onLine)throw Be.create("app-offline");const ze=Sn(ne);return M=Ze(w,ze),ze}});return M?yield M:U.authToken})).apply(this,arguments)}function $(w,T){return X.apply(this,arguments)}function X(){return(X=(0,k.Z)(function*(w,T){let M=yield Ne(w.appConfig);for(;1===M.authToken.requestStatus;)yield Me(100),M=yield Ne(w.appConfig);const U=M.authToken;return 0===U.requestStatus?Z(w,T):U})).apply(this,arguments)}function Ne(w){return wi(w,T=>{if(!pt(T))throw Be.create("not-registered");return function fi(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ze(w,T){return ot.apply(this,arguments)}function ot(){return(ot=(0,k.Z)(function*(w,T){try{const M=yield Jn(w,T),U=Object.assign(Object.assign({},T),{authToken:M});return yield ki(w.appConfig,U),M}catch(M){if(!$e(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ki(w.appConfig,U)}else yield dn(w.appConfig);throw M}})).apply(this,arguments)}function pt(w){return void 0!==w&&2===w.registrationStatus}function Yt(w){return 2===w.requestStatus&&!function ft(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+36e5}(w)}function Sn(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}function zo(){return(zo=(0,k.Z)(function*(w){const T=w,{installationEntry:M,registrationPromise:U}=yield hn(T);return U?U.catch(console.error):Z(T).catch(console.error),M.fid})).apply(this,arguments)}function Zo(){return(Zo=(0,k.Z)(function*(w,T=!1){const M=w;return yield Nn(M),(yield Z(M,T)).token})).apply(this,arguments)}function Nn(w){return pi.apply(this,arguments)}function pi(){return(pi=(0,k.Z)(function*(w){const{registrationPromise:T}=yield hn(w);T&&(yield T)})).apply(this,arguments)}function io(w){return Be.create("missing-app-config-values",{valueName:w})}const Ti="installations",et=w=>{const T=w.getProvider("app").getImmediate(),M=function Vn(w){if(!w||!w.options)throw io("App Configuration");if(!w.name)throw io("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!w.options[M])throw io(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,ae._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Bt=w=>{const T=w.getProvider("app").getImmediate(),M=(0,ae._getProvider)(T,Ti).getImmediate();return{getId:()=>function Pa(w){return zo.apply(this,arguments)}(M),getToken:K=>function Fa(w){return Zo.apply(this,arguments)}(M,K)}};(function Ii(){(0,ae._registerComponent)(new pe.wA(Ti,et,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("installations-internal",Bt,"PRIVATE"))})(),(0,ae.registerVersion)(ce,G),(0,ae.registerVersion)(ce,G,"esm2017");const dr="@firebase/remote-config",fn=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Va{constructor(T,M,U,K){this.client=T,this.storage=M,this.storageCache=U,this.logger=K}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-M,K=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${K}.`),K}fetch(T){var M=this;return(0,k.Z)(function*(){const[U,K]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(K&&M.isCachedDataFresh(T.cacheMaxAgeMillis,U))return K;T.eTag=K&&K.eTag;const ne=yield M.client.fetch(T),fe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&fe.push(M.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(fe),ne})()}}function Bc(w=navigator){return w.languages&&w.languages[0]||w.language}class Xn{constructor(T,M,U,K,ne,fe){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=U,this.projectId=K,this.apiKey=ne,this.appId=fe}fetch(T){var M=this;return(0,k.Z)(function*(){const[U,K]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Qe={sdk_version:M.sdkVersion,app_instance_id:U,app_instance_id_token:K,app_id:M.appId,language_code:Bc()},nt={method:"POST",headers:ze,body:JSON.stringify(Qe)},Rt=fetch(fe,nt),_t=new Promise((oi,Hr)=>{T.signal.addEventListener(()=>{const ys=new Error("The operation was aborted.");ys.name="AbortError",Hr(ys)})});let Tn;try{yield Promise.race([Rt,_t]),Tn=yield Rt}catch(oi){let Hr="fetch-client-network";throw"AbortError"===oi.name&&(Hr="fetch-timeout"),fn.create(Hr,{originalErrorMessage:oi.message})}let Fn=Tn.status;const jr=Tn.headers.get("ETag")||void 0;let Cr,nr;if(200===Tn.status){let oi;try{oi=yield Tn.json()}catch(Hr){throw fn.create("fetch-client-parse",{originalErrorMessage:Hr.message})}Cr=oi.entries,nr=oi.state}if("INSTANCE_STATE_UNSPECIFIED"===nr?Fn=500:"NO_CHANGE"===nr?Fn=304:("NO_TEMPLATE"===nr||"EMPTY_CONFIG"===nr)&&(Cr={}),304!==Fn&&200!==Fn)throw fn.create("fetch-status",{httpStatus:Fn});return{status:Fn,eTag:jr,config:Cr}})()}}class Bh{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,k.Z)(function*(){const U=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:U}){var K=this;return(0,k.Z)(function*(){yield function is(w,T){return new Promise((M,U)=>{const K=Math.max(T-Date.now(),0),ne=setTimeout(M,K);w.addEventListener(()=>{clearTimeout(ne),U(fn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const ne=yield K.client.fetch(T);return yield K.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Vc(w){if(!(w instanceof ie.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ne))throw ne;const fe={throttleEndTimeMillis:Date.now()+(0,ie.$s)(U),backoffCount:U+1};return yield K.storage.setThrottleMetadata(fe),K.attemptFetch(T,fe)}})()}}class jc{constructor(T,M,U,K,ne){this.app=T,this._client=M,this._storageCache=U,this._storage=K,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function kl(w,T){const M=w.target.error||void 0;return fn.create(T,{originalErrorMessage:M&&M.message})}const rs="app_namespace_store";class Hh{constructor(T,M,U,K=function pd(){return new Promise((w,T)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=U=>{T(kl(U,"storage-open"))},M.onsuccess=U=>{w(U.target.result)},M.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(rs,{keyPath:"compositeKey"})}}catch(M){T(fn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=T,this.appName=M,this.namespace=U,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,k.Z)(function*(){const U=yield M.openDbPromise;return new Promise((K,ne)=>{const ze=U.transaction([rs],"readonly").objectStore(rs),Qe=M.createCompositeKey(T);try{const nt=ze.get(Qe);nt.onerror=Rt=>{ne(kl(Rt,"storage-get"))},nt.onsuccess=Rt=>{const _t=Rt.target.result;K(_t?_t.value:void 0)}}catch(nt){ne(fn.create("storage-get",{originalErrorMessage:nt&&nt.message}))}})})()}set(T,M){var U=this;return(0,k.Z)(function*(){const K=yield U.openDbPromise;return new Promise((ne,fe)=>{const Qe=K.transaction([rs],"readwrite").objectStore(rs),nt=U.createCompositeKey(T);try{const Rt=Qe.put({compositeKey:nt,value:M});Rt.onerror=_t=>{fe(kl(_t,"storage-set"))},Rt.onsuccess=()=>{ne()}}catch(Rt){fe(fn.create("storage-set",{originalErrorMessage:Rt&&Rt.message}))}})})()}delete(T){var M=this;return(0,k.Z)(function*(){const U=yield M.openDbPromise;return new Promise((K,ne)=>{const ze=U.transaction([rs],"readwrite").objectStore(rs),Qe=M.createCompositeKey(T);try{const nt=ze.delete(Qe);nt.onerror=Rt=>{ne(kl(Rt,"storage-delete"))},nt.onsuccess=()=>{K()}}catch(nt){ne(fn.create("storage-delete",{originalErrorMessage:nt&&nt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Gc{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,k.Z)(function*(){const M=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),K=T.storage.getActiveConfig(),ne=yield M;ne&&(T.lastFetchStatus=ne);const fe=yield U;fe&&(T.lastSuccessfulFetchTimestampMillis=fe);const ze=yield K;ze&&(T.activeConfig=ze)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function ja(){return $c.apply(this,arguments)}function $c(){return($c=(0,k.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(w){return!1}})).apply(this,arguments)}!function ro(){(0,ae._registerComponent)(new pe.wA("remote-config",function w(T,{instanceIdentifier:M}){const U=T.getProvider("app").getImmediate(),K=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fn.create("registration-window");if(!(0,ie.hl)())throw fn.create("indexed-db-unavailable");const{projectId:ne,apiKey:fe,appId:ze}=U.options;if(!ne)throw fn.create("registration-project-id");if(!fe)throw fn.create("registration-api-key");if(!ze)throw fn.create("registration-app-id");const Qe=new Hh(ze,U.name,M=M||"firebase"),nt=new Gc(Qe),Rt=new le.Yd(dr);Rt.logLevel=le.in.ERROR;const _t=new Xn(K,ae.SDK_VERSION,M,ne,fe,ze),Tn=new Bh(_t,Qe),Fn=new Va(Tn,Qe,nt,Rt),jr=new jc(U,Fn,nt,Qe,Rt);return function Ht(w){const T=(0,ie.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(jr),jr},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(dr,"0.3.8"),(0,ae.registerVersion)(dr,"0.3.8","esm2017")}();const Wc="/firebase-messaging-sw.js",ei="/firebase-cloud-messaging-push-scope",Rs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",so="google.c.a.c_id",zc="google.c.a.c_l",_d="google.c.a.ts",gi="google.c.a.e";var oo=(()=>{return(w=oo||(oo={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",oo;var w})();function _i(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zc(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(M),K=new Uint8Array(U.length);for(let ne=0;ne<U.length;++ne)K[ne]=U.charCodeAt(ne);return K}const ti="fcm_token_details_db",Li="fcm_token_object_Store";function Pl(w){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,k.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(ti))return null;let T=null;return(yield(0,se.X3)(ti,5,{upgrade:(U=(0,k.Z)(function*(K,ne,fe,ze){var Qe;if(ne<2||!K.objectStoreNames.contains(Li))return;const nt=ze.objectStore(Li),Rt=yield nt.index("fcmSenderId").get(w);if(yield nt.clear(),Rt)if(2===ne){const _t=Rt;if(!_t.auth||!_t.p256dh||!_t.endpoint)return;T={token:_t.fcmToken,createTime:null!==(Qe=_t.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:_t.auth,p256dh:_t.p256dh,endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:"string"==typeof _t.vapidKey?_t.vapidKey:_i(_t.vapidKey)}}}else if(3===ne){const _t=Rt;T={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:_i(_t.auth),p256dh:_i(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:_i(_t.vapidKey)}}}else if(4===ne){const _t=Rt;T={token:_t.fcmToken,createTime:_t.createTime,subscriptionOptions:{auth:_i(_t.auth),p256dh:_i(_t.p256dh),endpoint:_t.endpoint,swScope:_t.swScope,vapidKey:_i(_t.vapidKey)}}}}),function(ne,fe,ze,Qe){return U.apply(this,arguments)})})).close(),yield(0,se.Lj)(ti),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),Fl(T)?T:null;var U}),Yc.apply(this,arguments)}function Fl(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const mr="firebase-messaging-store";let md=null;function Gt(){return md||(md=(0,se.X3)("firebase-messaging-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(mr)}})),md}function Xo(w){return ks.apply(this,arguments)}function ks(){return(ks=(0,k.Z)(function*(w){const T=jn(w),U=yield(yield Gt()).transaction(mr).objectStore(mr).get(T);if(U)return U;{const K=yield Pl(w.appConfig.senderId);if(K)return yield Ft(w,K),K}})).apply(this,arguments)}function Ft(w,T){return ea.apply(this,arguments)}function ea(){return(ea=(0,k.Z)(function*(w,T){const M=jn(w),K=(yield Gt()).transaction(mr,"readwrite");return yield K.objectStore(mr).put(T,M),yield K.done,T})).apply(this,arguments)}function Ha(w){return ss.apply(this,arguments)}function ss(){return(ss=(0,k.Z)(function*(w){const T=jn(w),U=(yield Gt()).transaction(mr,"readwrite");yield U.objectStore(mr).delete(T),yield U.done})).apply(this,arguments)}function jn({appConfig:w}){return w.appId}const tn=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vr(w,T){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,k.Z)(function*(w,T){const M=yield lo(w),U=os(T),K={method:"POST",headers:M,body:JSON.stringify(U)};let ne;try{ne=yield(yield fetch(yr(w.appConfig),K)).json()}catch(fe){throw tn.create("token-subscribe-failed",{errorInfo:fe})}if(ne.error)throw tn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw tn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Ps(w,T){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,k.Z)(function*(w,T){const M=yield lo(w),U=os(T.subscriptionOptions),K={method:"PATCH",headers:M,body:JSON.stringify(U)};let ne;try{ne=yield(yield fetch(`${yr(w.appConfig)}/${T.token}`,K)).json()}catch(fe){throw tn.create("token-update-failed",{errorInfo:fe})}if(ne.error)throw tn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw tn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function ta(w,T){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,k.Z)(function*(w,T){const U={method:"DELETE",headers:yield lo(w)};try{const ne=yield(yield fetch(`${yr(w.appConfig)}/${T}`,U)).json();if(ne.error)throw tn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(K){throw tn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function yr({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function lo(w){return ct.apply(this,arguments)}function ct(){return(ct=(0,k.Z)(function*({appConfig:w,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function os({p256dh:w,auth:T,endpoint:M,vapidKey:U}){const K={web:{endpoint:M,auth:T,p256dh:w}};return U!==Rs&&(K.web.applicationPubKey=U),K}const Bl=6048e5;function na(w){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,k.Z)(function*(w){const T=yield uo(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:_i(T.getKey("auth")),p256dh:_i(T.getKey("p256dh"))},U=yield Xo(w.firebaseDependencies);if(U){if(Wa(U.subscriptionOptions,M))return Date.now()>=U.createTime+Bl?jl(w,{token:U.token,createTime:Date.now(),subscriptionOptions:M}):U.token;try{yield ta(w.firebaseDependencies,U.token)}catch(K){console.warn(K)}return Te(w.firebaseDependencies,M)}return Te(w.firebaseDependencies,M)})).apply(this,arguments)}function Ga(w){return $a.apply(this,arguments)}function $a(){return($a=(0,k.Z)(function*(w){const T=yield Xo(w.firebaseDependencies);T&&(yield ta(w.firebaseDependencies,T.token),yield Ha(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function jl(w,T){return co.apply(this,arguments)}function co(){return(co=(0,k.Z)(function*(w,T){try{const M=yield Ps(w.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield Ft(w.firebaseDependencies,U),M}catch(M){throw yield Ga(w),M}})).apply(this,arguments)}function Te(w,T){return Et.apply(this,arguments)}function Et(){return(Et=(0,k.Z)(function*(w,T){const U={token:yield vr(w,T),createTime:Date.now(),subscriptionOptions:T};return yield Ft(w,U),U.token})).apply(this,arguments)}function uo(w,T){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,k.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zc(T)})})).apply(this,arguments)}function Wa(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}function Fs(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Ui(w,T){if(!T.notification)return;w.notification={};const M=T.notification.title;M&&(w.notification.title=M);const U=T.notification.body;U&&(w.notification.body=U);const K=T.notification.image;K&&(w.notification.image=K)}(T,w),function Hl(w,T){!T.data||(w.data=T.data)}(T,w),function Gl(w,T){if(!T.fcmOptions)return;w.fcmOptions={};const M=T.fcmOptions.link;M&&(w.fcmOptions.link=M);const U=T.fcmOptions.analytics_label;U&&(w.fcmOptions.analyticsLabel=U)}(T,w),T}function $l(w){return"object"==typeof w&&!!w&&so in w}function qc(w,T){const M=[];for(let U=0;U<w.length;U++)M.push(w.charAt(U)),U<T.length&&M.push(T.charAt(U));return M.join("")}function Or(w){return tn.create("missing-app-config-values",{valueName:w})}qc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ni{constructor(T,M,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Gh(w){if(!w||!w.options)throw Or("App Configuration Object");if(!w.name)throw Or("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const U of T)if(!M[U])throw Or(U);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:K,installations:M,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Bi(w){return za.apply(this,arguments)}function za(){return(za=(0,k.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Wc,{scope:ei}),w.swRegistration.update().catch(()=>{})}catch(T){throw tn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function as(w,T){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,k.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield Bi(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw tn.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function Wl(w,T){return Za.apply(this,arguments)}function Za(){return(Za=(0,k.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=Rs)})).apply(this,arguments)}function zl(){return(zl=(0,k.Z)(function*(w,T){if(!navigator)throw tn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw tn.create("permission-blocked");return yield Wl(w,null==T?void 0:T.vapidKey),yield as(w,null==T?void 0:T.serviceWorkerRegistration),na(w)})).apply(this,arguments)}function ia(w,T,M){return qa.apply(this,arguments)}function qa(){return(qa=(0,k.Z)(function*(w,T,M){const U=Ka(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:M[so],message_name:M[zc],message_time:M[_d],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ka(w){switch(w){case oo.NOTIFICATION_CLICKED:return"notification_open";case oo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Qc(){return(Qc=(0,k.Z)(function*(w,T){const M=T.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===oo.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Fs(M)):w.onMessageHandler.next(Fs(M)));const U=M.data;$l(U)&&"1"===U[gi]&&(yield ia(w,M.messageType,U))})).apply(this,arguments)}const Qa="@firebase/messaging",Jc=w=>{const T=new ni(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Kc(w,T){return Qc.apply(this,arguments)}(T,M)),T},ho=w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:U=>function Ya(w,T){return zl.apply(this,arguments)}(T,U)}};function Ja(){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,k.Z)(function*(){try{yield(0,ie.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xc(){(0,ae._registerComponent)(new pe.wA("messaging",Jc,"PUBLIC")),(0,ae._registerComponent)(new pe.wA("messaging-internal",ho,"PRIVATE")),(0,ae.registerVersion)(Qa,"0.9.13"),(0,ae.registerVersion)(Qa,"0.9.13","esm2017")}();const eu="analytics",$h="firebase_id",Rr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bs="https://www.googletagmanager.com/gtag/js",Mn=new le.Yd("@firebase/analytics");function tu(w){return Promise.all(w.map(T=>T.catch(M=>M)))}function Wh(w,T){const M=document.createElement("script");M.src=`${Bs}?l=${w}&id=${T}`,M.async=!0,document.head.appendChild(M)}function fo(w,T,M,U,K,ne){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,k.Z)(function*(w,T,M,U,K,ne){const fe=U[K];try{if(fe)yield T[fe];else{const Qe=(yield tu(M)).find(nt=>nt.measurementId===K);Qe&&(yield T[Qe.appId])}}catch(ze){Mn.error(ze)}w("config",K,ne)})).apply(this,arguments)}function zh(w,T,M,U,K){return xr.apply(this,arguments)}function xr(){return(xr=(0,k.Z)(function*(w,T,M,U,K){try{let ne=[];if(K&&K.send_to){let fe=K.send_to;Array.isArray(fe)||(fe=[fe]);const ze=yield tu(M);for(const Qe of fe){const nt=ze.find(_t=>_t.measurementId===Qe),Rt=nt&&T[nt.appId];if(!Rt){ne=[];break}ne.push(Rt)}}0===ne.length&&(ne=Object.values(T)),yield Promise.all(ne),w("event",U,K||{})}catch(ne){Mn.error(ne)}})).apply(this,arguments)}function nn(){const w=window.document.getElementsByTagName("script");for(const T of Object.values(w))if(T.src&&T.src.includes(Bs))return T;return null}const Ke=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sa=new class zt{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function nu(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function po(w){return ls.apply(this,arguments)}function ls(){return(ls=(0,k.Z)(function*(w){var T;const{appId:M,apiKey:U}=w,K={method:"GET",headers:nu(U)},ne=Rr.replace("{app-id}",M),fe=yield fetch(ne,K);if(200!==fe.status&&304!==fe.status){let ze="";try{const Qe=yield fe.json();(null===(T=Qe.error)||void 0===T?void 0:T.message)&&(ze=Qe.error.message)}catch(Qe){}throw Ke.create("config-fetch-failed",{httpStatus:fe.status,responseMessage:ze})}return fe.json()})).apply(this,arguments)}function pn(w){return cs.apply(this,arguments)}function cs(){return(cs=(0,k.Z)(function*(w,T=sa,M){const{appId:U,apiKey:K,measurementId:ne}=w.options;if(!U)throw Ke.create("no-app-id");if(!K){if(ne)return{measurementId:ne,appId:U};throw Ke.create("no-api-key")}const fe=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new tl;return setTimeout((0,k.Z)(function*(){ze.abort()}),void 0!==M?M:6e4),Ji({appId:U,apiKey:K,measurementId:ne},fe,ze,T)})).apply(this,arguments)}function Ji(w,T,M){return ut.apply(this,arguments)}function ut(){return(ut=(0,k.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:M},U,K=sa){const{appId:ne,measurementId:fe}=w;try{yield iu(U,T)}catch(ze){if(fe)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fe} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:ne,measurementId:fe};throw ze}try{const ze=yield po(w);return K.deleteThrottleMetadata(ne),ze}catch(ze){if(!ru(ze)){if(K.deleteThrottleMetadata(ne),fe)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fe} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:ne,measurementId:fe};throw ze}const Qe=503===Number(ze.customData.httpStatus)?(0,ie.$s)(M,K.intervalMillis,30):(0,ie.$s)(M,K.intervalMillis),nt={throttleEndTimeMillis:Date.now()+Qe,backoffCount:M+1};return K.setThrottleMetadata(ne,nt),Mn.debug(`Calling attemptFetch again in ${Qe} millis`),Ji(w,nt,U,K)}})).apply(this,arguments)}function iu(w,T){return new Promise((M,U)=>{const K=Math.max(T-Date.now(),0),ne=setTimeout(M,K);w.addEventListener(()=>{clearTimeout(ne),U(Ke.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function ru(w){if(!(w instanceof ie.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}class tl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Yl(){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,k.Z)(function*(){if(!(0,ie.hl)())return Mn.warn(Ke.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(w){return Mn.warn(Ke.create("indexeddb-unavailable",{errorInfo:w}).message),!1}return!0})).apply(this,arguments)}function ds(){return(ds=(0,k.Z)(function*(w,T,M,U,K,ne,fe){var ze;const Qe=pn(w);Qe.then(Fn=>{M[Fn.measurementId]=Fn.appId,w.options.measurementId&&Fn.measurementId!==w.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fn=>Mn.error(Fn)),T.push(Qe);const nt=Yl().then(Fn=>{if(Fn)return U.getId()}),[Rt,_t]=yield Promise.all([Qe,nt]);nn()||Wh(ne,Rt.measurementId),K("js",new Date);const Tn=null!==(ze=null==fe?void 0:fe.config)&&void 0!==ze?ze:{};return Tn.origin="firebase",Tn.update=!0,null!=_t&&(Tn[$h]=_t),K("config",Rt.measurementId,Tn),Rt.measurementId})).apply(this,arguments)}class Hs{constructor(T){this.app=T}_delete(){return delete Gn[this.app.options.appId],Promise.resolve()}}let Gn={},mi=[];const Gs={};let _o,fs,go="dataLayer",ps=!1;function Xi(w,T,M){!function oa(){const w=[];if((0,ie.ru)()&&w.push("This is a browser extension environment."),(0,ie.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map((U,K)=>`(${K+1}) ${U}`).join(" "),M=Ke.create("invalid-analytics-context",{errorInfo:T});Mn.warn(M.message)}}();const U=w.options.appId;if(!U)throw Ke.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Ke.create("no-api-key");Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Gn[U])throw Ke.create("already-exists",{id:U});if(!ps){!function Vs(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(go);const{wrappedGtag:ne,gtagCore:fe}=function Zh(w,T,M,U,K){let ne=function(...fe){window[U].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ne=window[K]),window[K]=function el(w,T,M,U){function ne(){return(ne=(0,k.Z)(function*(fe,ze,Qe){try{"event"===fe?yield zh(w,T,M,ze,Qe):"config"===fe?yield fo(w,T,M,U,ze,Qe):w("set",ze)}catch(nt){Mn.error(nt)}})).apply(this,arguments)}return function K(fe,ze,Qe){return ne.apply(this,arguments)}}(ne,w,T,M),{gtagCore:ne,wrappedGtag:window[K]}}(Gn,mi,Gs,go,"gtag");fs=ne,_o=fe,ps=!0}return Gn[U]=function us(w,T,M,U,K,ne,fe){return ds.apply(this,arguments)}(w,mi,Gs,T,_o,go,M),new Hs(w)}function gn(){return(gn=(0,k.Z)(function*(w,T,M,U,K){if(K&&K.global)w("event",M,U);else{const ne=yield T;w("event",M,Object.assign(Object.assign({},U),{send_to:ne}))}})).apply(this,arguments)}function br(){return nl.apply(this,arguments)}function nl(){return(nl=(0,k.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(w){return!1}})).apply(this,arguments)}const ii="@firebase/analytics";!function _s(){(0,ae._registerComponent)(new pe.wA(eu,(T,{options:M})=>Xi(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ae._registerComponent)(new pe.wA("analytics-internal",function w(T){try{const M=T.getProvider(eu).getImmediate();return{logEvent:(U,K,ne)=>function mo(w,T,M,U){w=(0,ie.m9)(w),function $s(w,T,M,U,K){return gn.apply(this,arguments)}(fs,Gn[w.app.options.appId],T,M,U).catch(K=>Mn.error(K))}(M,U,K,ne)}}catch(M){throw Ke.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ae.registerVersion)(ii,"0.7.9"),(0,ae.registerVersion)(ii,"0.7.9","esm2017")}();var ou=x(4408),Ql=x(7565);const aa=new class En extends Ql.v{}(class Lr extends ou.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(T,M,U):T.flush(this)}});var au=x(4986),Dd=x(8505),ri=x(5363),vi=x(9468);const la=new u.GfV("7.4.1"),vo="__angularfire_symbol__analyticsIsSupportedValue",Ur="__angularfire_symbol__analyticsIsSupported",ms="__angularfire_symbol__remoteConfigIsSupportedValue",Br="__angularfire_symbol__remoteConfigIsSupported",yo="__angularfire_symbol__messagingIsSupportedValue",bt="__angularfire_symbol__messagingIsSupported";function Do(w,T,M){if(T){if(1===T.length)return T[0];const ne=T.filter(fe=>fe.app===M);if(1===ne.length)return ne[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[Ur]||(globalThis[Ur]=br().then(w=>globalThis[vo]=w).catch(()=>globalThis[vo]=!1)),globalThis[bt]||(globalThis[bt]=Ja().then(w=>globalThis[yo]=w).catch(()=>globalThis[yo]=!1)),globalThis[Br]||(globalThis[Br]=ja().then(w=>globalThis[ms]=w).catch(()=>globalThis[ms]=!1));const Yh=(w,T)=>{const M=T?[T]:(0,J.C6)(),U=[];return M.forEach(K=>{K.container.getProvider(w).instances.forEach(fe=>{U.includes(fe)||U.push(fe)})}),U};function Vr(){}class tr{constructor(T,M=aa){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,U){const K=this.zone;return this.delegate.schedule(function(fe){K.runGuarded(()=>{T.apply(this,[fe])})},M,U)}}class rl{constructor(T){this.zone=T,this.task=null}call(T,M){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vr,{},Vr,Vr)),M.pipe((0,Dd.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cu=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new tr(Zone.current)),this.insideAngular=M.run(()=>new tr(Zone.current,au.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(u.LFG(u.R0b))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Dr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function $n(w){return w.pipe((0,ri.Q)(Dr().outsideAngular))}function Cd(w){return Dr(),function vs(w){return function(M){return(M=M.lift(new rl(w.ngZone))).pipe((0,vi.R)(w.outsideAngular),(0,ri.Q)(w.insideAngular))}}(Dr())(w)}},2090:(We,_e,x)=>{x.d(_e,{$s:()=>Tt,BH:()=>Ue,DV:()=>Ot,Dv:()=>Jr,GJ:()=>kt,L:()=>se,LL:()=>oe,Pz:()=>Ct,Sg:()=>Se,UG:()=>he,UI:()=>cr,US:()=>pe,Wj:()=>hn,Yr:()=>Pe,ZB:()=>j,ZR:()=>ge,b$:()=>$e,cI:()=>It,dS:()=>Ns,eu:()=>ve,g5:()=>k,gK:()=>wi,gQ:()=>Ci,h$:()=>le,hl:()=>H,hu:()=>J,jU:()=>De,lb:()=>Pi,m9:()=>Jn,ne:()=>Yi,p$:()=>G,pd:()=>Qr,r3:()=>di,ru:()=>Be,tV:()=>ce,uI:()=>ke,ug:()=>St,vZ:()=>xi,w1:()=>ye,w9:()=>Ut,xO:()=>hi,xb:()=>wt,z$:()=>Ae,zI:()=>q,zd:()=>ur});const J=function(B,W){if(!B)throw k(W)},k=function(B){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+B)},ae=function(B){const W=[];let Z=0;for(let Ce=0;Ce<B.length;Ce++){let $=B.charCodeAt(Ce);$<128?W[Z++]=$:$<2048?(W[Z++]=$>>6|192,W[Z++]=63&$|128):55296==(64512&$)&&Ce+1<B.length&&56320==(64512&B.charCodeAt(Ce+1))?($=65536+((1023&$)<<10)+(1023&B.charCodeAt(++Ce)),W[Z++]=$>>18|240,W[Z++]=$>>12&63|128,W[Z++]=$>>6&63|128,W[Z++]=63&$|128):(W[Z++]=$>>12|224,W[Z++]=$>>6&63|128,W[Z++]=63&$|128)}return W},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,W){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let $=0;$<B.length;$+=3){const X=B[$],Ne=$+1<B.length,Ze=Ne?B[$+1]:0,ot=$+2<B.length,pt=ot?B[$+2]:0;let Sn=(15&Ze)<<2|pt>>6,fi=63&pt;ot||(fi=64,Ne||(Sn=64)),Ce.push(Z[X>>2],Z[(3&X)<<4|Ze>>4],Z[Sn],Z[fi])}return Ce.join("")},encodeString(B,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(B):this.encodeByteArray(ae(B),W)},decodeString(B,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(B):function(B){const W=[];let Z=0,Ce=0;for(;Z<B.length;){const $=B[Z++];if($<128)W[Ce++]=String.fromCharCode($);else if($>191&&$<224){const X=B[Z++];W[Ce++]=String.fromCharCode((31&$)<<6|63&X)}else if($>239&&$<365){const ot=((7&$)<<18|(63&B[Z++])<<12|(63&B[Z++])<<6|63&B[Z++])-65536;W[Ce++]=String.fromCharCode(55296+(ot>>10)),W[Ce++]=String.fromCharCode(56320+(1023&ot))}else{const X=B[Z++],Ne=B[Z++];W[Ce++]=String.fromCharCode((15&$)<<12|(63&X)<<6|63&Ne)}}return W.join("")}(this.decodeStringToByteArray(B,W))},decodeStringToByteArray(B,W){this.init_();const Z=W?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let $=0;$<B.length;){const X=Z[B.charAt($++)],Ze=$<B.length?Z[B.charAt($)]:0;++$;const pt=$<B.length?Z[B.charAt($)]:64;++$;const ft=$<B.length?Z[B.charAt($)]:64;if(++$,null==X||null==Ze||null==pt||null==ft)throw Error();Ce.push(X<<2|Ze>>4),64!==pt&&(Ce.push(Ze<<4&240|pt>>2),64!==ft&&Ce.push(pt<<6&192|ft))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},le=function(B){const W=ae(B);return pe.encodeByteArray(W,!0)},se=function(B){return le(B).replace(/\./g,"")},ce=function(B){try{return pe.decodeString(B,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function G(B){return j(void 0,B)}function j(B,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return W}for(const Z in W)!W.hasOwnProperty(Z)||!te(Z)||(B[Z]=j(B[Z],W[Z]));return B}function te(B){return"__proto__"!==B}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Z)=>{this.resolve=W,this.reject=Z})}wrapCallback(W){return(Z,Ce)=>{Z?this.reject(Z):this.resolve(Ce),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Z):W(Z,Ce))}}}function Se(B,W){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=W||"demo-project",$=B.iat||0,X=B.sub||B.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ne=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:$,exp:$+3600,auth_time:$,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},B);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(Ne)),""].join(".")}function Ae(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function De(){return"object"==typeof self&&self.self===self}function Be(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){const B=Ae();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Pe(){return!1}function H(){return"object"==typeof indexedDB}function ve(){return new Promise((B,W)=>{try{let Z=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(Ce);$.onsuccess=()=>{$.result.close(),Z||self.indexedDB.deleteDatabase(Ce),B(!0)},$.onupgradeneeded=()=>{Z=!1},$.onerror=()=>{var X;W((null===(X=$.error)||void 0===X?void 0:X.message)||"")}}catch(Z){W(Z)}})}function q(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ge extends Error{constructor(W,Z,Ce){super(Z),this.code=W,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(W,Z,Ce){this.service=W,this.serviceName=Z,this.errors=Ce}create(W,...Z){const Ce=Z[0]||{},$=`${this.service}/${W}`,X=this.errors[W],Ne=X?function Me(B,W){return B.replace(tt,(Z,Ce)=>{const $=W[Ce];return null!=$?String($):`<${Ce}?>`})}(X,Ce):"Error";return new ge($,`${this.serviceName}: ${Ne} (${$}).`,Ce)}}const tt=/\{\$([^}]+)}/g;function It(B){return JSON.parse(B)}function Ct(B){return JSON.stringify(B)}const je=function(B){let W={},Z={},Ce={},$="";try{const X=B.split(".");W=It(ce(X[0])||""),Z=It(ce(X[1])||""),$=X[2],Ce=Z.d||{},delete Z.d}catch(X){}return{header:W,claims:Z,data:Ce,signature:$}},Ut=function(B){const Z=je(B).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},kt=function(B){const W=je(B).claims;return"object"==typeof W&&!0===W.admin};function di(B,W){return Object.prototype.hasOwnProperty.call(B,W)}function Ot(B,W){if(Object.prototype.hasOwnProperty.call(B,W))return B[W]}function wt(B){for(const W in B)if(Object.prototype.hasOwnProperty.call(B,W))return!1;return!0}function cr(B,W,Z){const Ce={};for(const $ in B)Object.prototype.hasOwnProperty.call(B,$)&&(Ce[$]=W.call(Z,B[$],$,B));return Ce}function xi(B,W){if(B===W)return!0;const Z=Object.keys(B),Ce=Object.keys(W);for(const $ of Z){if(!Ce.includes($))return!1;const X=B[$],Ne=W[$];if(qn(X)&&qn(Ne)){if(!xi(X,Ne))return!1}else if(X!==Ne)return!1}for(const $ of Ce)if(!Z.includes($))return!1;return!0}function qn(B){return null!==B&&"object"==typeof B}function hi(B){const W=[];for(const[Z,Ce]of Object.entries(B))Array.isArray(Ce)?Ce.forEach($=>{W.push(encodeURIComponent(Z)+"="+encodeURIComponent($))}):W.push(encodeURIComponent(Z)+"="+encodeURIComponent(Ce));return W.length?"&"+W.join("&"):""}function ur(B){const W={};return B.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[$,X]=Ce.split("=");W[decodeURIComponent($)]=decodeURIComponent(X)}}),W}function Qr(B){const W=B.indexOf("?");if(!W)return"";const Z=B.indexOf("#",W);return B.substring(W,Z>0?Z:void 0)}class Ci{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,Z){Z||(Z=0);const Ce=this.W_;if("string"==typeof W)for(let ft=0;ft<16;ft++)Ce[ft]=W.charCodeAt(Z)<<24|W.charCodeAt(Z+1)<<16|W.charCodeAt(Z+2)<<8|W.charCodeAt(Z+3),Z+=4;else for(let ft=0;ft<16;ft++)Ce[ft]=W[Z]<<24|W[Z+1]<<16|W[Z+2]<<8|W[Z+3],Z+=4;for(let ft=16;ft<80;ft++){const Sn=Ce[ft-3]^Ce[ft-8]^Ce[ft-14]^Ce[ft-16];Ce[ft]=4294967295&(Sn<<1|Sn>>>31)}let pt,Yt,$=this.chain_[0],X=this.chain_[1],Ne=this.chain_[2],Ze=this.chain_[3],ot=this.chain_[4];for(let ft=0;ft<80;ft++){ft<40?ft<20?(pt=Ze^X&(Ne^Ze),Yt=1518500249):(pt=X^Ne^Ze,Yt=1859775393):ft<60?(pt=X&Ne|Ze&(X|Ne),Yt=2400959708):(pt=X^Ne^Ze,Yt=3395469782);const Sn=($<<5|$>>>27)+pt+ot+Yt+Ce[ft]&4294967295;ot=Ze,Ze=Ne,Ne=4294967295&(X<<30|X>>>2),X=$,$=Sn}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+X&4294967295,this.chain_[2]=this.chain_[2]+Ne&4294967295,this.chain_[3]=this.chain_[3]+Ze&4294967295,this.chain_[4]=this.chain_[4]+ot&4294967295}update(W,Z){if(null==W)return;void 0===Z&&(Z=W.length);const Ce=Z-this.blockSize;let $=0;const X=this.buf_;let Ne=this.inbuf_;for(;$<Z;){if(0===Ne)for(;$<=Ce;)this.compress_(W,$),$+=this.blockSize;if("string"==typeof W){for(;$<Z;)if(X[Ne]=W.charCodeAt($),++Ne,++$,Ne===this.blockSize){this.compress_(X),Ne=0;break}}else for(;$<Z;)if(X[Ne]=W[$],++Ne,++$,Ne===this.blockSize){this.compress_(X),Ne=0;break}}this.inbuf_=Ne,this.total_+=Z}digest(){const W=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=255&Z,Z/=256;this.compress_(this.buf_);let Ce=0;for(let $=0;$<5;$++)for(let X=24;X>=0;X-=8)W[Ce]=this.chain_[$]>>X&255,++Ce;return W}}function Yi(B,W){const Z=new lt(B,W);return Z.subscribe.bind(Z)}class lt{constructor(W,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{W(this)}).catch(Ce=>{this.error(Ce)})}next(W){this.forEachObserver(Z=>{Z.next(W)})}error(W){this.forEachObserver(Z=>{Z.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Z,Ce){let $;if(void 0===W&&void 0===Z&&void 0===Ce)throw new Error("Missing Observer.");$=function rn(B,W){if("object"!=typeof B||null===B)return!1;for(const Z of W)if(Z in B&&"function"==typeof B[Z])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Z,complete:Ce},void 0===$.next&&($.next=dn),void 0===$.error&&($.error=dn),void 0===$.complete&&($.complete=dn);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch(Ne){}}),this.observers.push($),X}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,W)}sendOne(W,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Z(this.observers[W])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}const Jr=function(B,W,Z,Ce){let $;if(Ce<W?$="at least "+W:Ce>Z&&($=0===Z?"none":"no more than "+Z),$)throw new Error(B+" failed: Was called with "+Ce+(1===Ce?" argument.":" arguments.")+" Expects "+$+".")};function wi(B,W){return`${B} failed: ${W} argument `}function hn(B,W,Z,Ce){if((!Ce||Z)&&"function"!=typeof Z)throw new Error(wi(B,W)+"must be a valid function.")}function Pi(B,W,Z,Ce){if((!Ce||Z)&&("object"!=typeof Z||null===Z))throw new Error(wi(B,W)+"must be a valid context object.")}const Ns=function(B){const W=[];let Z=0;for(let Ce=0;Ce<B.length;Ce++){let $=B.charCodeAt(Ce);if($>=55296&&$<=56319){const X=$-55296;Ce++,J(Ce<B.length,"Surrogate pair missing trail surrogate."),$=65536+(X<<10)+(B.charCodeAt(Ce)-56320)}$<128?W[Z++]=$:$<2048?(W[Z++]=$>>6|192,W[Z++]=63&$|128):$<65536?(W[Z++]=$>>12|224,W[Z++]=$>>6&63|128,W[Z++]=63&$|128):(W[Z++]=$>>18|240,W[Z++]=$>>12&63|128,W[Z++]=$>>6&63|128,W[Z++]=63&$|128)}return W},St=function(B){let W=0;for(let Z=0;Z<B.length;Z++){const Ce=B.charCodeAt(Z);Ce<128?W++:Ce<2048?W+=2:Ce>=55296&&Ce<=56319?(W+=4,Z++):W+=3}return W};function Tt(B,W=1e3,Z=2){const Ce=W*Math.pow(Z,B),$=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+$)}function Jn(B){return B&&B._delegate?B._delegate:B}},7838:(We,_e,x)=>{var u=x(5e3);let J=null;function k(){return J}const le=new u.OlP("DocumentToken");let se=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ce(){return(0,u.LFG)(j)}()},providedIn:"platform"}),n})();const G=new u.OlP("Location Initialized");let j=(()=>{class n extends se{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,o){te()?this._history.pushState(e,i,o):this.location.hash=o}replaceState(e,i,o){te()?this._history.replaceState(e,i,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ue(){return new j((0,u.LFG)(le))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ke(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(n){const t=(0,u.LFG)(le).location;return new $e((0,u.LFG)(se),t&&t.origin||"")}()},providedIn:"root"}),n})();const Be=new u.OlP("appBaseHref");let $e=(()=>{class n extends he{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ke(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,l){const h=this.prepareExternalUrl(o+ke(l));this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,l){const h=this.prepareExternalUrl(o+ke(l));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se),u.LFG(Be,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n extends he{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Se(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,l){let h=this.prepareExternalUrl(o+ke(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,l){let h=this.prepareExternalUrl(o+ke(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformLocation).historyGo)||void 0===o||o.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(se),u.LFG(Be,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n{constructor(e,i){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Ae(Fe(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ke(i))}normalize(e){return n.stripTrailingSlash(function Pe(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Fe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._platformStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ke(i)),o)}replaceState(e,i="",o=null){this._platformStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ke(i)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,o;null===(o=(i=this._platformStrategy).historyGo)||void 0===o||o.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}}return n.normalizeQueryParams=ke,n.joinWithSlash=Se,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(u.LFG(he),u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(){return new ye((0,u.LFG)(he),(0,u.LFG)(se))}()},providedIn:"root"}),n})();function Fe(n){return n.replace(/\/index.html$/,"")}var re=(()=>((re=re||{})[re.Format=0]="Format",re[re.Standalone=1]="Standalone",re))(),ee=(()=>((ee=ee||{})[ee.Narrow=0]="Narrow",ee[ee.Abbreviated=1]="Abbreviated",ee[ee.Wide=2]="Wide",ee[ee.Short=3]="Short",ee))(),ge=(()=>((ge=ge||{})[ge.Short=0]="Short",ge[ge.Medium=1]="Medium",ge[ge.Long=2]="Long",ge[ge.Full=3]="Full",ge))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function kt(n,t){return rn((0,u.cg1)(n)[u.wAp.DateFormat],t)}function di(n,t){return rn((0,u.cg1)(n)[u.wAp.TimeFormat],t)}function Ot(n,t){return rn((0,u.cg1)(n)[u.wAp.DateTimeFormat],t)}function wt(n,t){const e=(0,u.cg1)(n),i=e[u.wAp.NumberSymbols][t];if(void 0===i){if(t===oe.CurrencyDecimal)return e[u.wAp.NumberSymbols][oe.Decimal];if(t===oe.CurrencyGroup)return e[u.wAp.NumberSymbols][oe.Group]}return i}function Ci(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rn(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function dn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const hn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pi={},Ns=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var St=(()=>((St=St||{})[St.Short=0]="Short",St[St.ShortGMT=1]="ShortGMT",St[St.Long=2]="Long",St[St.Extended=3]="Extended",St))(),Je=(()=>((Je=Je||{})[Je.FullYear=0]="FullYear",Je[Je.Month=1]="Month",Je[Je.Date=2]="Date",Je[Je.Hours=3]="Hours",Je[Je.Minutes=4]="Minutes",Je[Je.Seconds=5]="Seconds",Je[Je.FractionalSeconds=6]="FractionalSeconds",Je[Je.Day=7]="Day",Je))(),dt=(()=>((dt=dt||{})[dt.DayPeriods=0]="DayPeriods",dt[dt.Days=1]="Days",dt[dt.Months=2]="Months",dt[dt.Eras=3]="Eras",dt))();function Kn(n,t,e,i){let o=function Fa(n){if(Nn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,l=1,h=1]=n.split("-").map(_=>+_);return Fi(o,l-1,h)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(hn))return function Zo(n){const t=new Date(0);let e=0,i=0;const o=n[8]?t.setUTCFullYear:t.setFullYear,l=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),o.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const h=Number(n[4]||0)-e,_=Number(n[5]||0)-i,b=Number(n[6]||0),E=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(t,h,_,b,E),t}(i)}const t=new Date(n);if(!Nn(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Tt(e,t)||t;let _,h=[];for(;t;){if(_=Ns.exec(t),!_){h.push(t);break}{h=h.concat(_.slice(1));const A=h.pop();if(!A)break;t=A}}let b=o.getTimezoneOffset();i&&(b=fi(i,b),o=function zo(n,t,e){const i=e?-1:1,o=n.getTimezoneOffset();return function Pa(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(fi(t,o)-o))}(o,i,!0));let E="";return h.forEach(A=>{const R=function Sn(n){if(ft[n])return ft[n];let t;switch(n){case"G":case"GG":case"GGG":t=Z(dt.Eras,ee.Abbreviated);break;case"GGGG":t=Z(dt.Eras,ee.Wide);break;case"GGGGG":t=Z(dt.Eras,ee.Narrow);break;case"y":t=B(Je.FullYear,1,0,!1,!0);break;case"yy":t=B(Je.FullYear,2,0,!0,!0);break;case"yyy":t=B(Je.FullYear,3,0,!1,!0);break;case"yyyy":t=B(Je.FullYear,4,0,!1,!0);break;case"Y":t=Yt(1);break;case"YY":t=Yt(2,!0);break;case"YYY":t=Yt(3);break;case"YYYY":t=Yt(4);break;case"M":case"L":t=B(Je.Month,1,1);break;case"MM":case"LL":t=B(Je.Month,2,1);break;case"MMM":t=Z(dt.Months,ee.Abbreviated);break;case"MMMM":t=Z(dt.Months,ee.Wide);break;case"MMMMM":t=Z(dt.Months,ee.Narrow);break;case"LLL":t=Z(dt.Months,ee.Abbreviated,re.Standalone);break;case"LLLL":t=Z(dt.Months,ee.Wide,re.Standalone);break;case"LLLLL":t=Z(dt.Months,ee.Narrow,re.Standalone);break;case"w":t=pt(1);break;case"ww":t=pt(2);break;case"W":t=pt(1,!0);break;case"d":t=B(Je.Date,1);break;case"dd":t=B(Je.Date,2);break;case"c":case"cc":t=B(Je.Day,1);break;case"ccc":t=Z(dt.Days,ee.Abbreviated,re.Standalone);break;case"cccc":t=Z(dt.Days,ee.Wide,re.Standalone);break;case"ccccc":t=Z(dt.Days,ee.Narrow,re.Standalone);break;case"cccccc":t=Z(dt.Days,ee.Short,re.Standalone);break;case"E":case"EE":case"EEE":t=Z(dt.Days,ee.Abbreviated);break;case"EEEE":t=Z(dt.Days,ee.Wide);break;case"EEEEE":t=Z(dt.Days,ee.Narrow);break;case"EEEEEE":t=Z(dt.Days,ee.Short);break;case"a":case"aa":case"aaa":t=Z(dt.DayPeriods,ee.Abbreviated);break;case"aaaa":t=Z(dt.DayPeriods,ee.Wide);break;case"aaaaa":t=Z(dt.DayPeriods,ee.Narrow);break;case"b":case"bb":case"bbb":t=Z(dt.DayPeriods,ee.Abbreviated,re.Standalone,!0);break;case"bbbb":t=Z(dt.DayPeriods,ee.Wide,re.Standalone,!0);break;case"bbbbb":t=Z(dt.DayPeriods,ee.Narrow,re.Standalone,!0);break;case"B":case"BB":case"BBB":t=Z(dt.DayPeriods,ee.Abbreviated,re.Format,!0);break;case"BBBB":t=Z(dt.DayPeriods,ee.Wide,re.Format,!0);break;case"BBBBB":t=Z(dt.DayPeriods,ee.Narrow,re.Format,!0);break;case"h":t=B(Je.Hours,1,-12);break;case"hh":t=B(Je.Hours,2,-12);break;case"H":t=B(Je.Hours,1);break;case"HH":t=B(Je.Hours,2);break;case"m":t=B(Je.Minutes,1);break;case"mm":t=B(Je.Minutes,2);break;case"s":t=B(Je.Seconds,1);break;case"ss":t=B(Je.Seconds,2);break;case"S":t=B(Je.FractionalSeconds,1);break;case"SS":t=B(Je.FractionalSeconds,2);break;case"SSS":t=B(Je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=$(St.Short);break;case"ZZZZZ":t=$(St.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=$(St.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=$(St.Long);break;default:return null}return ft[n]=t,t}(A);E+=R?R(o,e,b):"''"===A?"'":A.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function Fi(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Tt(n,t){const e=function tt(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(Pi[e]=Pi[e]||{},Pi[e][t])return Pi[e][t];let i="";switch(t){case"shortDate":i=kt(n,ge.Short);break;case"mediumDate":i=kt(n,ge.Medium);break;case"longDate":i=kt(n,ge.Long);break;case"fullDate":i=kt(n,ge.Full);break;case"shortTime":i=di(n,ge.Short);break;case"mediumTime":i=di(n,ge.Medium);break;case"longTime":i=di(n,ge.Long);break;case"fullTime":i=di(n,ge.Full);break;case"short":const o=Tt(n,"shortTime"),l=Tt(n,"shortDate");i=As(Ot(n,ge.Short),[o,l]);break;case"medium":const h=Tt(n,"mediumTime"),_=Tt(n,"mediumDate");i=As(Ot(n,ge.Medium),[h,_]);break;case"long":const b=Tt(n,"longTime"),E=Tt(n,"longDate");i=As(Ot(n,ge.Long),[b,E]);break;case"full":const A=Tt(n,"fullTime"),R=Tt(n,"fullDate");i=As(Ot(n,ge.Full),[A,R])}return i&&(Pi[e][t]=i),i}function As(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Qn(n,t,e="-",i,o){let l="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,l=e));let h=String(n);for(;h.length<t;)h="0"+h;return i&&(h=h.substr(h.length-t)),l+h}function B(n,t,e=0,i=!1,o=!1){return function(l,h){let _=function W(n,t){switch(n){case Je.FullYear:return t.getFullYear();case Je.Month:return t.getMonth();case Je.Date:return t.getDate();case Je.Hours:return t.getHours();case Je.Minutes:return t.getMinutes();case Je.Seconds:return t.getSeconds();case Je.FractionalSeconds:return t.getMilliseconds();case Je.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((e>0||_>-e)&&(_+=e),n===Je.Hours)0===_&&-12===e&&(_=12);else if(n===Je.FractionalSeconds)return function Jn(n,t){return Qn(n,3).substr(0,t)}(_,t);const b=wt(h,oe.MinusSign);return Qn(_,t,b,i,o)}}function Z(n,t,e=re.Format,i=!1){return function(o,l){return function Ce(n,t,e,i,o,l){switch(e){case dt.Months:return function je(n,t,e){const i=(0,u.cg1)(n),l=rn([i[u.wAp.MonthsFormat],i[u.wAp.MonthsStandalone]],t);return rn(l,e)}(t,o,i)[n.getMonth()];case dt.Days:return function Ct(n,t,e){const i=(0,u.cg1)(n),l=rn([i[u.wAp.DaysFormat],i[u.wAp.DaysStandalone]],t);return rn(l,e)}(t,o,i)[n.getDay()];case dt.DayPeriods:const h=n.getHours(),_=n.getMinutes();if(l){const E=function Yi(n){const t=(0,u.cg1)(n);return Ci(t),(t[u.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?dn(i):[dn(i[0]),dn(i[1])])}(t),A=function lt(n,t,e){const i=(0,u.cg1)(n);Ci(i);const l=rn([i[u.wAp.ExtraData][0],i[u.wAp.ExtraData][1]],t)||[];return rn(l,e)||[]}(t,o,i),R=E.findIndex(L=>{if(Array.isArray(L)){const[z,ue]=L,we=h>=z.hours&&_>=z.minutes,Oe=h<ue.hours||h===ue.hours&&_<ue.minutes;if(z.hours<ue.hours){if(we&&Oe)return!0}else if(we||Oe)return!0}else if(L.hours===h&&L.minutes===_)return!0;return!1});if(-1!==R)return A[R]}return function It(n,t,e){const i=(0,u.cg1)(n),l=rn([i[u.wAp.DayPeriodsFormat],i[u.wAp.DayPeriodsStandalone]],t);return rn(l,e)}(t,o,i)[h<12?0:1];case dt.Eras:return function Lt(n,t){return rn((0,u.cg1)(n)[u.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,l,n,t,e,i)}}function $(n){return function(t,e,i){const o=-1*i,l=wt(e,oe.MinusSign),h=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case St.Short:return(o>=0?"+":"")+Qn(h,2,l)+Qn(Math.abs(o%60),2,l);case St.ShortGMT:return"GMT"+(o>=0?"+":"")+Qn(h,1,l);case St.Long:return"GMT"+(o>=0?"+":"")+Qn(h,2,l)+":"+Qn(Math.abs(o%60),2,l);case St.Extended:return 0===i?"Z":(o>=0?"+":"")+Qn(h,2,l)+":"+Qn(Math.abs(o%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function ot(n){return Fi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function pt(n,t=!1){return function(e,i){let o;if(t){const l=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,h=e.getDate();o=1+Math.floor((h+l)/7)}else{const l=ot(e),h=function Ze(n){const t=Fi(n,0,1).getDay();return Fi(n,0,1+(t<=4?4:11)-t)}(l.getFullYear()),_=l.getTime()-h.getTime();o=1+Math.round(_/6048e5)}return Qn(o,n,wt(i,oe.MinusSign))}}function Yt(n,t=!1){return function(e,i){return Qn(ot(e).getFullYear(),n,wt(i,oe.MinusSign),t)}}const ft={};function fi(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Nn(n){return n instanceof Date&&!isNaN(n.valueOf())}class ts{constructor(t,e,i,o){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sn=(()=>{class n{constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,l,h)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new ts(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===l?void 0:l);else if(null!==l){const _=i.get(l);i.move(_,h),Os(_,o)}});for(let o=0,l=i.length;o<l;o++){const _=i.get(o).context;_.index=o,_.count=l,_.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Os(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Os(n,t){n.context.$implicit=t.item}const Hc=new u.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let pd=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",o,l){var h;if(null==e||""===e||e!=e)return null;try{return Kn(e,i,l||this.locale,null!==(h=null!=o?o:this.defaultTimezone)&&void 0!==h?h:void 0)}catch(_){throw function Xn(n,t){return new u.vHH(2100,"")}()}}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.soG,16),u.Y36(Hc,24))},n.\u0275pipe=u.Yjl({name:"date",type:n,pure:!0}),n})(),gi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();let Fl=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new ao((0,u.LFG)(le),window)}),n})();class ao{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function mr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(h)return h}o=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ll(this.window.history)||Ll(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ll(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ks extends class Xo extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){J||(J=n)}(new ks)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ea(){return Ft=Ft||document.querySelector("base"),Ft?Ft.getAttribute("href"):null}();return null==e?null:function ss(n){Ha=Ha||document.createElement("a"),Ha.setAttribute("href",n);const t=Ha.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ft=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function qo(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[o,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let Ha,Ft=null;const jn=new u.OlP("TRANSITION_ID"),tn=[{provide:u.ip1,useFactory:function Ul(n,t,e){return()=>{e.get(u.CZH).donePromise.then(()=>{const i=k(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)i.remove(o[l])})}},deps:[jn,le,u.zs3],multi:!0}];class vr{static init(){(0,u.VLi)(new vr)}addToWindow(t){u.dqk.getAngularTestability=(i,o=!0)=>{const l=t.findTestabilityInTree(i,o);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const _=function(b){h=h||b,l--,0==l&&i(h)};o.forEach(function(b){b.whenStable(_)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:i?k().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Hn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ps=new u.OlP("EventManagerPlugins");let Mr=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}addGlobalEventListener(e,i,o){return this._findPluginFor(i).addGlobalEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Ps),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ta{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const o=k().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,i)}}let Ki=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),i.add(o))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),yr=(()=>{class n extends Ki{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,o){e.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(i.appendChild(h))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(lo),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,o)=>{this._addStylesToHost(e,o,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(lo))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function lo(n){k().remove(n)}const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},os=/%COMP%/g;function co(n,t,e){for(let i=0;i<t.length;i++){let o=t[i];Array.isArray(o)?co(n,o,e):(o=o.replace(os,n),e.push(o))}return e}function Te(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let uo=(()=>{class n{constructor(e,i,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Jt(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(i.id);return o||(o=new Ui(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,o)),o.applyToHost(e),o}case 1:case u.ifc.ShadowDom:return new Hl(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const o=co(i.id,i.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Mr),u.LFG(yr),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Jt{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ct[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;const l=ct[o];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const o=ct[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(u.JOm.DashCase|u.JOm.Important)?t.style.setProperty(e,i,o&u.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&u.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Te(i)):this.eventManager.addEventListener(t,e,Te(i))}}class Ui extends Jt{constructor(t,e,i,o){super(t),this.component=i;const l=co(o+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function $a(n){return"_ngcontent-%COMP%".replace(os,n)}(o+"-"+i.id),this.hostAttr=function jl(n){return"_nghost-%COMP%".replace(os,n)}(o+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Hl extends Jt{constructor(t,e,i,o){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=co(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const _=document.createElement("style");_.textContent=l[h],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Gl=(()=>{class n extends ta{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const $l=["alt","control","meta","shift"],Gh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Or={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ni={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bi=(()=>{class n extends ta{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,o){const l=n.parseEventName(i),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(e,l.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(i.pop());let h="";if($l.forEach(b=>{const E=i.indexOf(b);E>-1&&(i.splice(E,1),h+=b+".")}),h+=l,0!=i.length||0===l.length)return null;const _={};return _.domEventName=o,_.fullKey=h,_}static getEventFullKey(e){let i="",o=function za(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Or.hasOwnProperty(t)&&(t=Or[t]))}return Gh[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),$l.forEach(l=>{l!=o&&ni[l](e)&&(i+=l+".")}),i+=o,i}static eventCallback(e,i,o){return l=>{n.getEventFullKey(l)===e&&o.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ya=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function as(){ks.makeCurrent(),vr.init()},multi:!0},{provide:le,useFactory:function Wl(){return(0,u.RDi)(document),document},deps:[]}]),zl=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Qi(){return new u.qLn},deps:[]},{provide:Ps,useClass:Gl,multi:!0,deps:[le,u.R0b,u.Lbi]},{provide:Ps,useClass:Bi,multi:!0,deps:[le]},{provide:uo,useClass:uo,deps:[Mr,yr,u.AFp]},{provide:u.FYo,useExisting:uo},{provide:Ki,useExisting:yr},{provide:yr,useClass:yr,deps:[le]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Mr,useClass:Mr,deps:[Ps,u.R0b]},{provide:class Gt{},useClass:Hn,deps:[]}];let ia=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:u.AFp,useValue:e.appId},{provide:jn,useExisting:u.AFp},tn]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:zl,imports:[gi,u.hGG]}),n})();"undefined"!=typeof window&&window;var nn=x(8996),js=x(3269);function Ke(...n){const t=(0,js.yG)(n);return(0,nn.D)(n,t)}var Vt=x(7579);class On extends Vt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var zt=x(8306);const{isArray:sa}=Array,{getPrototypeOf:nu,prototype:po,keys:ls}=Object;var Ji=x(4671),ut=x(4004);const{isArray:iu}=Array;function tl(n){return(0,ut.U)(t=>function ru(n,t){return iu(t)?n(...t):n(t)}(n,t))}var Xt=x(5403),us=x(9672);function ds(...n){const t=(0,js.yG)(n),e=(0,js.jO)(n),{args:i,keys:o}=function pn(n){if(1===n.length){const t=n[0];if(sa(t))return{args:t,keys:null};if(function cs(n){return n&&"object"==typeof n&&nu(n)===po}(t)){const e=ls(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}(n);if(0===i.length)return(0,nn.D)([],t);const l=new zt.y(function Hs(n,t,e=Ji.y){return i=>{Gn(t,()=>{const{length:o}=n,l=new Array(o);let h=o,_=o;for(let b=0;b<o;b++)Gn(t,()=>{const E=(0,nn.D)(n[b],t);let A=!1;E.subscribe((0,Xt.x)(i,R=>{l[b]=R,A||(A=!0,_--),_||i.next(e(l.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,t,o?h=>function Yl(n,t){return n.reduce((e,i,o)=>(e[i]=t[o],e),{})}(o,h):Ji.y));return e?l.pipe(tl(e)):l}function Gn(n,t,e){n?(0,us.f)(e,n,t):t()}var mi=x(576);function Gs(n,t){const e=(0,mi.m)(n)?n:()=>n,i=o=>o.error(e());return new zt.y(t?o=>t.schedule(i,0,o):i)}const hs=(0,x(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var _o=x(8189);function ps(...n){return function fs(){return(0,_o.J)(1)}()((0,nn.D)(n,(0,js.yG)(n)))}var kr=x(8421);function oa(n){return new zt.y(t=>{(0,kr.Xf)(n()).subscribe(t)})}var Xi=x(515),$s=x(727),gn=x(4482);function ql(){return(0,gn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Xt.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,l=e;e=null,o&&(!l||o===l)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class gs extends zt.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,gn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new $s.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Xt.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=$s.w0.EMPTY)}return t}refCount(){return ql()(this)}}function en(n,t){return(0,gn.e)((e,i)=>{let o=null,l=0,h=!1;const _=()=>h&&!o&&i.complete();e.subscribe((0,Xt.x)(i,b=>{null==o||o.unsubscribe();let E=0;const A=l++;(0,kr.Xf)(n(b,A)).subscribe(o=(0,Xt.x)(i,R=>i.next(t?t(b,R,A,E++):R),()=>{o=null,_()}))},()=>{h=!0,_()}))})}var wn=x(5698);function Pr(n,t,e,i,o){return(l,h)=>{let _=e,b=t,E=0;l.subscribe((0,Xt.x)(h,A=>{const R=E++;b=_?n(b,A,R):(_=!0,A),i&&h.next(b)},o&&(()=>{_&&h.next(b),h.complete()})))}}function Fr(n,t){return(0,gn.e)(Pr(n,t,arguments.length>=2,!0))}function on(n,t){return(0,gn.e)((e,i)=>{let o=0;e.subscribe((0,Xt.x)(i,l=>n.call(t,l,o++)&&i.next(l)))})}function er(n){return(0,gn.e)((t,e)=>{let l,i=null,o=!1;i=t.subscribe((0,Xt.x)(e,void 0,void 0,h=>{l=(0,kr.Xf)(n(h,er(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,l.subscribe(e))})}var _n=x(5577);function br(n,t){return(0,mi.m)(t)?(0,_n.z)(n,t,1):(0,_n.z)(n,1)}function nl(n){return n<=0?()=>Xi.E:(0,gn.e)((t,e)=>{let i=[];t.subscribe((0,Xt.x)(e,o=>{i.push(o),n<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function Kl(n=an){return(0,gn.e)((t,e)=>{let i=!1;t.subscribe((0,Xt.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(n())))})}function an(){return new hs}function bd(n){return(0,gn.e)((t,e)=>{let i=!1;t.subscribe((0,Xt.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(n),e.complete()}))})}function mo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?on((o,l)=>n(o,l,i)):Ji.y,(0,wn.q)(1),e?bd(t):Kl(()=>new hs))}var ii=x(8505);class _s{constructor(t,e){this.id=t,this.url=e}}class ou extends _s{constructor(t,e,i="imperative",o=null){super(t,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lr extends _s{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ql extends _s{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class En extends _s{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aa extends _s{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class il extends _s{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class au extends _s{constructor(t,e,i,o,l){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dd extends _s{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends _s{constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class la{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vo{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ms{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Br{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bt="primary";class lu{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bo(n){return new lu(n)}const si="ngNavigationCancelingError";function ca(n){const t=Error("NavigationCancelingError: "+n);return t[si]=!0,t}function Yh(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const o={};for(let l=0;l<i.length;l++){const h=i[l],_=n[l];if(h.startsWith(":"))o[h.substring(1)]=_;else if(h!==_.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function tr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let l=0;l<e.length;l++)if(o=e[l],!rl(n[o],t[o]))return!1;return!0}function rl(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((o,l)=>i[l]===o)}return n===t}function cu(n){return Array.prototype.concat.apply([],n)}function Dr(n){return n.length>0?n[n.length-1]:null}function Kt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function $n(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,nn.D)(Promise.resolve(n)):Ke(n)}const Cd={exact:function w(n,t,e){if(!nt(n.segments,t.segments)||!K(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!w(n.children[i],t.children[i],e))return!1;return!0},subset:M},vs={exact:function ua(n,t){return tr(n,t)},subset:function T(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>rl(n[e],t[e]))},ignored:()=>!0};function Co(n,t,e){return Cd[e.paths](n.root,t.root,e.matrixParams)&&vs[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function M(n,t,e){return U(n,t,t.segments,e)}function U(n,t,e,i){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!nt(o,e)||t.hasChildren()||!K(o,e,i))}if(n.segments.length===e.length){if(!nt(n.segments,e)||!K(n.segments,e,i))return!1;for(const o in t.children)if(!n.children[o]||!M(n.children[o],t.children[o],i))return!1;return!0}{const o=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(nt(n.segments,o)&&K(n.segments,o,i)&&n.children[bt])&&U(n.children[bt],t,l,i)}}function K(n,t,e){return t.every((i,o)=>vs[e](n[o].parameters,i.parameters))}class ne{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bo(this.queryParams)),this._queryParamMap}toString(){return Fn.serialize(this)}}class fe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Kt(e,(i,o)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jr(this)}}class ze{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bo(this.parameters)),this._parameterMap}toString(){return ec(this)}}function nt(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class _t{}class Tn{parse(t){const e=new qh(t);return new ne(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Cr(t.root,!0)}`,i=function wd(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(o=>`${oi(e)}=${oi(o)}`).join("&"):`${oi(e)}=${oi(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Hr(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Fn=new Tn;function jr(n){return n.segments.map(t=>ec(t)).join("/")}function Cr(n,t){if(!n.hasChildren())return jr(n);if(t){const e=n.children[bt]?Cr(n.children[bt],!1):"",i=[];return Kt(n.children,(o,l)=>{l!==bt&&i.push(`${l}:${Cr(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Rt(n,t){let e=[];return Kt(n.children,(i,o)=>{o===bt&&(e=e.concat(t(i,o)))}),Kt(n.children,(i,o)=>{o!==bt&&(e=e.concat(t(i,o)))}),e}(n,(i,o)=>o===bt?[Cr(n.children[bt],!1)]:[`${o}:${Cr(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bt]?`${jr(n)}/${e[0]}`:`${jr(n)}/(${e.join("//")})`}}function nr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oi(n){return nr(n).replace(/%3B/gi,";")}function ys(n){return nr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(n){return decodeURIComponent(n)}function du(n){return Xl(n.replace(/\+/g,"%20"))}function ec(n){return`${ys(n.path)}${function hu(n){return Object.keys(n).map(t=>`;${ys(t)}=${ys(n[t])}`).join("")}(n.parameters)}`}const Ed=/^[^\/()?;=#]+/;function fu(n){const t=n.match(Ed);return t?t[0]:""}const sl=/^[^=?&#]+/,Td=/^[^&#]+/;class qh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[bt]=new fe(t,e)),i}parseSegment(){const t=fu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ze(Xl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=fu(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=fu(this.remaining);o&&(i=o,this.capture(i))}t[Xl(e)]=Xl(i)}parseQueryParam(t){const e=function tc(n){const t=n.match(sl);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function av(n){const t=n.match(Td);return t?t[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const o=du(e),l=du(i);if(t.hasOwnProperty(o)){let h=t[o];Array.isArray(h)||(h=[h],t[o]=h),h.push(l)}else t[o]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=fu(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=bt);const h=this.parseChildren();e[l]=1===Object.keys(h).length?h[bt]:new fe([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Id{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Kh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Kh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ol(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return ol(t,this._root).map(e=>e.value)}}function Kh(n,t){if(n===t.value)return t;for(const e of t.children){const i=Kh(n,e);if(i)return i}return null}function ol(n,t){if(n===t.value)return[t];for(const e of t.children){const i=ol(n,e);if(i.length)return i.unshift(t),i}return[]}class zs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function al(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class nc extends Id{constructor(t,e){super(t),this.snapshot=e,_u(this,t)}toString(){return this.snapshot.toString()}}function pu(n,t){const e=function ll(n,t){const h=new Zs([],{},{},"",{},bt,t,null,n.root,-1,{});return new gu("",new zs(h,[]))}(n,t),i=new On([new ze("",{})]),o=new On({}),l=new On({}),h=new On({}),_=new On(""),b=new cl(i,o,h,_,l,bt,t,e.root);return b.snapshot=e.root,new nc(new zs(b,[]),e)}class cl{constructor(t,e,i,o,l,h,_,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=h,this.component=_,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(t=>bo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(t=>bo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qh(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const o=e[i],l=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(l.component)break;i--}}return function lv(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Zs{constructor(t,e,i,o,l,h,_,b,E,A,R){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=l,this.outlet=h,this.component=_,this.routeConfig=b,this._urlSegment=E,this._lastPathIndex=A,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gu extends Id{constructor(t,e){super(e),this.url=t,_u(this,e)}toString(){return Sd(this._root)}}function _u(n,t){t.value._routerState=n,t.children.forEach(e=>_u(n,e))}function Sd(n){const t=n.children.length>0?` { ${n.children.map(Sd).join(", ")} } `:"";return`${n.value}${t}`}function mu(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,tr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),tr(t.params,e.params)||n.params.next(e.params),function Vr(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!tr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),tr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function vu(n,t){const e=tr(n.params,t.params)&&function Qe(n,t){return nt(n,t)&&n.every((e,i)=>tr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||vu(n.parent,t.parent))}function ic(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const o=function lg(n,t,e){return t.children.map(i=>{for(const o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return ic(n,i,o);return ic(n,i)})}(n,t,e);return new zs(i,o)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(_=>ic(n,_)),h}}const i=function cg(n){return new cl(new On(n.url),new On(n.params),new On(n.queryParams),new On(n.fragment),new On(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(l=>ic(n,l));return new zs(i,o)}}function ir(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ys(n){return"object"==typeof n&&null!=n&&n.outlets}function rc(n,t,e,i,o){let l={};if(i&&Kt(i,(_,b)=>{l[b]=Array.isArray(_)?_.map(E=>`${E}`):`${_}`}),n===t)return new ne(e,l,o);const h=dg(n,t,e);return new ne(h,l,o)}function dg(n,t,e){const i={};return Kt(n.children,(o,l)=>{i[l]=o===t?e:dg(o,t,e)}),new fe(n.segments,i)}class Xh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ir(i[0]))throw new Error("Root segment cannot have matrix parameters");const o=i.find(Ys);if(o&&o!==Dr(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yu{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function tf(n,t,e){if(n||(n=new fe([],{})),0===n.segments.length&&n.hasChildren())return bu(n,t,e);const i=function hg(n,t,e){let i=0,o=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return l;const h=n.segments[o],_=e[i];if(Ys(_))break;const b=`${_}`,E=i<e.length-1?e[i+1]:null;if(o>0&&void 0===b)break;if(b&&E&&"object"==typeof E&&void 0===E.outlets){if(!Ad(b,E,h))return l;i+=2}else{if(!Ad(b,{},h))return l;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new fe(n.segments.slice(0,i.pathIndex),{});return l.children[bt]=new fe(n.segments.slice(i.pathIndex),n.children),bu(l,0,o)}return i.match&&0===o.length?new fe(n.segments,{}):i.match&&!n.hasChildren()?fg(n,t,e):i.match?bu(n,0,o):fg(n,t,e)}function bu(n,t,e){if(0===e.length)return new fe(n.segments,{});{const i=function ef(n){return Ys(n[0])?n[0].outlets:{[bt]:n}}(e),o={};return Kt(i,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=tf(n.children[h],t,l))}),Kt(n.children,(l,h)=>{void 0===i[h]&&(o[h]=l)}),new fe(n.segments,o)}}function fg(n,t,e){const i=n.segments.slice(0,t);let o=0;for(;o<e.length;){const l=e[o];if(Ys(l)){const b=da(l.outlets);return new fe(i,b)}if(0===o&&ir(e[0])){i.push(new ze(n.segments[t].path,sc(e[0]))),o++;continue}const h=Ys(l)?l.outlets[bt]:`${l}`,_=o<e.length-1?e[o+1]:null;h&&_&&ir(_)?(i.push(new ze(h,sc(_))),o+=2):(i.push(new ze(h,{})),o++)}return new fe(i,{})}function da(n){const t={};return Kt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=fg(new fe([],{}),0,e))}),t}function sc(n){const t={};return Kt(n,(e,i)=>t[i]=`${e}`),t}function Ad(n,t,e){return n==e.path&&tr(t,e.parameters)}class oc{constructor(t,e,i,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),mu(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const o=al(e);t.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],i),delete o[h]}),Kt(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(o===l)if(o.component){const h=i.getContext(o.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=al(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);if(i&&i.outlet){const h=i.outlet.detach(),_=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:_})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,l=al(t);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const o=al(e);t.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],i),this.forwardEvent(new Br(l.value.snapshot))}),t.children.length&&this.forwardEvent(new Ur(t.value.snapshot))}activateRoutes(t,e,i){const o=t.value,l=e?e.value:null;if(mu(o),o===l)if(o.component){const h=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,i);else if(o.component){const h=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(_.contexts),h.attachRef=_.componentRef,h.route=_.route.value,h.outlet&&h.outlet.attach(_.componentRef,_.route.value),mu(_.route.value),this.activateChildRoutes(t,null,h.children)}else{const _=function Du(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),b=_?_.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=b,h.outlet&&h.outlet.activateWith(o,b),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,i)}}class Cu{constructor(t,e){this.routes=t,this.module=e}}function qs(n){return"function"==typeof n}function ul(n){return n instanceof ne}const wu=Symbol("INITIAL_VALUE");function Eu(){return en(n=>ds(n.map(t=>t.pipe((0,wn.q)(1),function Ws(...n){const t=(0,js.yG)(n);return(0,gn.e)((e,i)=>{(t?ps(n,e,t):ps(n,e)).subscribe(i)})}(wu)))).pipe(Fr((t,e)=>{let i=!1;return e.reduce((o,l,h)=>o!==wu?o:(l===wu&&(i=!0),i||!1!==l&&h!==e.length-1&&!ul(l)?o:l),t)},wu),on(t=>t!==wu),(0,ut.U)(t=>ul(t)?t:!0===t),(0,wn.q)(1)))}class rf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new dl,this.attachRef=null}}class dl{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new rf,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let lc=(()=>{class n{constructor(e,i,o,l,h){this.parentContexts=e,this.location=i,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=l||bt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,b=new pg(e,_,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(dl),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class pg{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===cl?this.route:t===dl?this.childContexts:this.parent.get(t,e)}}let sf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&u._UZ(0,"router-outlet")},directives:[lc],encapsulation:2}),n})();function cc(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];hl(i,gg(t,i))}}function hl(n,t){n.children&&cc(n.children,t)}function gg(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function uc(n){const t=n.children&&n.children.map(uc),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==bt&&(e.component=sf),e}function Ai(n){return n.outlet||bt}function In(n,t){const e=n.filter(i=>Ai(i)===t);return e.push(...n.filter(i=>Ai(i)!==t)),e}const af={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tu(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},af):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const l=(t.matcher||Yh)(e,n,t);if(!l)return Object.assign({},af);const h={};Kt(l.posParams,(b,E)=>{h[E]=b.path});const _=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,remainingSegments:e.slice(l.consumed.length),parameters:_,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function ha(n,t,e,i,o="corrected"){if(e.length>0&&function mg(n,t,e){return e.some(i=>wo(n,t,i)&&Ai(i)!==bt)}(n,e,i)){const h=new fe(t,function _g(n,t,e,i){const o={};o[bt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&Ai(l)!==bt){const h=new fe([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[Ai(l)]=h}return o}(n,t,i,new fe(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function vg(n,t,e){return e.some(i=>wo(n,t,i))}(n,e,i)){const h=new fe(n.segments,function lf(n,t,e,i,o,l){const h={};for(const _ of i)if(wo(n,e,_)&&!o[Ai(_)]){const b=new fe([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===l?n.segments.length:t.length,h[Ai(_)]=b}return Object.assign(Object.assign({},o),h)}(n,t,e,i,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const l=new fe(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function wo(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function cf(n,t,e,i){return!!(Ai(n)===i||i!==bt&&wo(t,e,n))&&("**"===n.path||Tu(t,n,e).matched)}function uf(n,t,e){return 0===t.length&&!n.children[e]}class Rd{constructor(t){this.segmentGroup=t||null}}class fl{constructor(t){this.urlTree=t}}function Ln(n){return Gs(new Rd(n))}function Iu(n){return Gs(new fl(n))}class pl{constructor(t,e,i,o,l){this.configLoader=e,this.urlSerializer=i,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(u.h0i)}apply(){const t=ha(this.urlTree.root,[],[],this.config).segmentGroup,e=new fe(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,bt).pipe((0,ut.U)(l=>this.createUrlTree(dc(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(er(l=>{if(l instanceof fl)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Rd?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,bt).pipe((0,ut.U)(o=>this.createUrlTree(dc(o),t.queryParams,t.fragment))).pipe(er(o=>{throw o instanceof Rd?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const o=t.segments.length>0?new fe([],{[bt]:t}):t;return new ne(o,e,i)}expandSegmentGroup(t,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ut.U)(l=>new fe([],l))):this.expandSegment(t,i,e,i.segments,o,!0)}expandChildren(t,e,i){const o=[];for(const l of Object.keys(i.children))"primary"===l?o.unshift(l):o.push(l);return(0,nn.D)(o).pipe(br(l=>{const h=i.children[l],_=In(e,l);return this.expandSegmentGroup(t,_,h,l).pipe((0,ut.U)(b=>({segment:b,outlet:l})))}),Fr((l,h)=>(l[h.outlet]=h.segment,l),{}),function ag(n,t){const e=arguments.length>=2;return i=>i.pipe(n?on((o,l)=>n(o,l,i)):Ji.y,nl(1),e?bd(t):Kl(()=>new hs))}())}expandSegment(t,e,i,o,l,h){return(0,nn.D)(i).pipe(br(_=>this.expandSegmentAgainstRoute(t,e,i,_,o,l,h).pipe(er(E=>{if(E instanceof Rd)return Ke(null);throw E}))),mo(_=>!!_),er((_,b)=>{if(_ instanceof hs||"EmptyError"===_.name)return uf(e,o,l)?Ke(new fe([],{})):Ln(e);throw _}))}expandSegmentAgainstRoute(t,e,i,o,l,h,_){return cf(o,e,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,l,h):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,o,l,h):Ln(e):Ln(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,o){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Iu(l):this.lineralizeSegments(i,l).pipe((0,_n.z)(h=>{const _=new fe(h,{});return this.expandSegment(t,_,e,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,o,l,h){const{matched:_,consumedSegments:b,remainingSegments:E,positionalParamSegments:A}=Tu(e,o,l);if(!_)return Ln(e);const R=this.applyRedirectCommands(b,o.redirectTo,A);return o.redirectTo.startsWith("/")?Iu(R):this.lineralizeSegments(o,R).pipe((0,_n.z)(L=>this.expandSegment(t,e,i,L.concat(E),h,!1)))}matchSegmentAgainstRoute(t,e,i,o,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Ke(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,ut.U)(R=>(i._loadedConfig=R,new fe(o,{})))):Ke(new fe(o,{}));const{matched:h,consumedSegments:_,remainingSegments:b}=Tu(e,i,o);return h?this.getChildConfig(t,i,o).pipe((0,_n.z)(A=>{const R=A.module,L=A.routes,{segmentGroup:z,slicedSegments:ue}=ha(e,_,b,L),we=new fe(z.segments,z.children);if(0===ue.length&&we.hasChildren())return this.expandChildren(R,L,we).pipe((0,ut.U)(rt=>new fe(_,rt)));if(0===L.length&&0===ue.length)return Ke(new fe(_,{}));const Oe=Ai(i)===l;return this.expandSegment(R,we,L,ue,Oe?bt:l,!0).pipe((0,ut.U)(He=>new fe(_.concat(He.segments),He.children)))})):Ln(e)}getChildConfig(t,e,i){return e.children?Ke(new Cu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ke(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,_n.z)(o=>o?this.configLoader.load(t.injector,e).pipe((0,ut.U)(l=>(e._loadedConfig=l,l))):function Su(n){return Gs(ca(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Ke(new Cu([],t))}runCanLoadGuards(t,e,i){const o=e.canLoad;return o&&0!==o.length?Ke(o.map(h=>{const _=t.get(h);let b;if(function dv(n){return n&&qs(n.canLoad)}(_))b=_.canLoad(e,i);else{if(!qs(_))throw new Error("Invalid CanLoad guard");b=_(e,i)}return $n(b)})).pipe(Eu(),(0,ii.b)(h=>{if(!ul(h))return;const _=ca(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw _.url=h,_}),(0,ut.U)(h=>!0===h)):Ke(!0)}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return Ke(i);if(o.numberOfChildren>1||!o.children[bt])return Gs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));o=o.children[bt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,o){const l=this.createSegmentGroup(t,e.root,i,o);return new ne(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Kt(t,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const _=o.substring(1);i[l]=e[_]}else i[l]=o}),i}createSegmentGroup(t,e,i,o){const l=this.createSegments(t,e.segments,i,o);let h={};return Kt(e.children,(_,b)=>{h[b]=this.createSegmentGroup(t,_,i,o)}),new fe(l,h)}createSegments(t,e,i,o){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,o):this.findOrReturn(l,i))}findPosParam(t,e,i){const o=i[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let i=0;for(const o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}}function dc(n){const t={};for(const i of Object.keys(n.children)){const l=dc(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function kd(n){if(1===n.numberOfChildren&&n.children[bt]){const t=n.children[bt];return new fe(n.segments.concat(t.segments),t.children)}return n}(new fe(n.segments,t))}class Mi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Eo{constructor(t,e){this.component=t,this.route=e}}function Pd(n,t,e){const i=n._root;return hc(i,t?t._root:null,e,[i.value])}function fa(n,t,e){const i=function Fd(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function hc(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=al(t);return n.children.forEach(h=>{(function Nu(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=t?t.value:null,_=e?e.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const b=function Dg(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!nt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!nt(n.url,t.url)||!tr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vu(n,t)||!tr(n.queryParams,t.queryParams);default:return!vu(n,t)}}(h,l,l.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new Mi(i)):(l.data=h.data,l._resolvedData=h._resolvedData),hc(n,t,l.component?_?_.children:null:e,i,o),b&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new Eo(_.outlet.component,h))}else h&&Er(t,_,o),o.canActivateChecks.push(new Mi(i)),hc(n,null,l.component?_?_.children:null:e,i,o)})(h,l[h.value.outlet],e,i.concat([h.value]),o),delete l[h.value.outlet]}),Kt(l,(h,_)=>Er(h,e.getContext(_),o)),o}function Er(n,t,e){const i=al(n),o=n.value;Kt(i,(l,h)=>{Er(l,o.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new Eo(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class Eg{}function Gr(n){return new zt.y(t=>t.error(n))}class hf{constructor(t,e,i,o,l,h){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const t=ha(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,bt);if(null===e)return null;const i=new Zs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new zs(i,e),l=new gu(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,i=Qh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const l of Object.keys(e.children)){const h=e.children[l],_=In(t,l),b=this.processSegmentGroup(_,h,l);if(null===b)return null;i.push(...b)}const o=pf(i);return function ff(n){n.sort((t,e)=>t.value.outlet===bt?-1:e.value.outlet===bt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(t,e,i,o){for(const l of t){const h=this.processSegmentAgainstRoute(l,e,i,o);if(null!==h)return h}return uf(e,i,o)?[]:null}processSegmentAgainstRoute(t,e,i,o){if(t.redirectTo||!cf(t,e,i,o))return null;let l,h=[],_=[];if("**"===t.path){const z=i.length>0?Dr(i).parameters:{};l=new Zs(i,z,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,m(t),Ai(t),t.component,t,gf(e),pa(e)+i.length,f(t))}else{const z=Tu(e,t,i);if(!z.matched)return null;h=z.consumedSegments,_=z.remainingSegments,l=new Zs(h,z.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,m(t),Ai(t),t.component,t,gf(e),pa(e)+h.length,f(t))}const b=function Tg(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:E,slicedSegments:A}=ha(e,h,_,b.filter(z=>void 0===z.redirectTo),this.relativeLinkResolution);if(0===A.length&&E.hasChildren()){const z=this.processChildren(b,E);return null===z?null:[new zs(l,z)]}if(0===b.length&&0===A.length)return[new zs(l,[])];const R=Ai(t)===o,L=this.processSegment(b,E,A,R?bt:o);return null===L?null:[new zs(l,L)]}}function Bd(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function pf(n){const t=[],e=new Set;for(const i of n){if(!Bd(i)){t.push(i);continue}const o=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):t.push(i)}for(const i of e){const o=pf(i.children);t.push(new zs(i.value,o))}return t.filter(i=>!e.has(i))}function gf(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function pa(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function m(n){return n.data||{}}function f(n){return n.resolve||{}}function Y(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xe(n){return en(t=>{const e=n(t);return e?(0,nn.D)(e).pipe((0,ut.U)(()=>t)):Ke(t)})}class it extends class st{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const mn=new u.OlP("ROUTES");class ji{constructor(t,e,i,o){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,ut.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=l.create(t);return new Cu(cu(h.injector.get(mn,void 0,u.XFs.Self|u.XFs.Optional)).map(uc),h)}),er(l=>{throw e._loader$=void 0,l}));return e._loader$=new gs(o,()=>new Vt.x).pipe(ql()),e._loader$}loadModuleFactory(t){return $n(t()).pipe((0,_n.z)(e=>e instanceof u.YKP?Ke(e):(0,nn.D)(this.compiler.compileModuleAsync(e))))}}class Vd{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function _f(n){throw n}function ga(n,t,e){return t.parse("/")}function pc(n,t){return Ke(null)}const Ou={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class n{constructor(e,i,o,l,h,_,b){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=o,this.location=l,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vt.x,this.errorHandler=_f,this.malformedUriErrorHandler=ga,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pc,afterPreactivation:pc},this.urlHandlingStrategy=new Vd,this.routeReuseStrategy=new it,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const R=h.get(u.R0b);this.isNgZoneEnabled=R instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function Jl(){return new ne(new fe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ji(h,_,L=>this.triggerEvent(new vi(L)),L=>this.triggerEvent(new la(L))),this.routerState=pu(this.currentUrlTree,this.rootComponentType),this.transitions=new On({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(on(o=>0!==o.id),(0,ut.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),en(o=>{let l=!1,h=!1;return Ke(o).pipe((0,ii.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),en(_=>{const b=this.browserUrlTree.toString(),E=!this.navigated||_.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return Hd(_.source)&&(this.browserUrlTree=_.extractedUrl),Ke(_).pipe(en(R=>{const L=this.transitions.getValue();return i.next(new ou(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),L!==this.transitions.getValue()?Xi.E:Promise.resolve(R)}),function yg(n,t,e,i){return en(o=>function Wn(n,t,e,i,o){return new pl(n,t,e,i,o).apply()}(n,t,e,o.extractedUrl,i).pipe((0,ut.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ii.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function g(n,t,e,i,o){return(0,_n.z)(l=>function fc(n,t,e,i,o="emptyOnly",l="legacy"){try{const h=new hf(n,t,e,i,o,l).recognize();return null===h?Gr(new Eg):Ke(h)}catch(h){return Gr(h)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),i,o).pipe((0,ut.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ii.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const z=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(z,R)}this.browserUrlTree=R.urlAfterRedirects}const L=new aa(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);i.next(L)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:z,source:ue,restoredState:we,extras:Oe}=_,Xe=new ou(L,this.serializeUrl(z),ue,we);i.next(Xe);const He=pu(z,this.rootComponentType).snapshot;return Ke(Object.assign(Object.assign({},_),{targetSnapshot:He,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Oe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,_.resolve(null),Xi.E}),xe(_=>{const{targetSnapshot:b,id:E,extractedUrl:A,rawUrl:R,extras:{skipLocationChange:L,replaceUrl:z}}=_;return this.hooks.beforePreactivation(b,{navigationId:E,appliedUrlTree:A,rawUrlTree:R,skipLocationChange:!!L,replaceUrl:!!z})}),(0,ii.b)(_=>{const b=new il(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),(0,ut.U)(_=>Object.assign(Object.assign({},_),{guards:Pd(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function Au(n,t){return(0,_n.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=e;return 0===h.length&&0===l.length?Ke(Object.assign(Object.assign({},e),{guardsResult:!0})):function Cg(n,t,e,i){return(0,nn.D)(n).pipe((0,_n.z)(o=>function Ud(n,t,e,i,o){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?Ke(l.map(_=>{const b=fa(_,t,o);let E;if(function Od(n){return n&&qs(n.canDeactivate)}(b))E=$n(b.canDeactivate(n,t,e,i));else{if(!qs(b))throw new Error("Invalid CanDeactivate guard");E=$n(b(n,t,e,i))}return E.pipe(mo())})).pipe(Eu()):Ke(!0)}(o.component,o.route,e,t,i)),mo(o=>!0!==o,!0))}(h,i,o,n).pipe((0,_n.z)(_=>_&&function nf(n){return"boolean"==typeof n}(_)?function wg(n,t,e,i){return(0,nn.D)(t).pipe(br(o=>ps(function df(n,t){return null!==n&&t&&t(new vo(n)),Ke(!0)}(o.route.parent,i),function Mu(n,t){return null!==n&&t&&t(new ms(n)),Ke(!0)}(o.route,i),function Ld(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(h=>function bg(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>oa(()=>Ke(h.guards.map(b=>{const E=fa(b,h.node,e);let A;if(function Md(n){return n&&qs(n.canActivateChild)}(E))A=$n(E.canActivateChild(i,n));else{if(!qs(E))throw new Error("Invalid CanActivateChild guard");A=$n(E(i,n))}return A.pipe(mo())})).pipe(Eu())));return Ke(l).pipe(Eu())}(n,o.path,e),function Vi(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ke(!0);const o=i.map(l=>oa(()=>{const h=fa(l,t,e);let _;if(function ac(n){return n&&qs(n.canActivate)}(h))_=$n(h.canActivate(t,n));else{if(!qs(h))throw new Error("Invalid CanActivate guard");_=$n(h(t,n))}return _.pipe(mo())}));return Ke(o).pipe(Eu())}(n,o.route,e))),mo(o=>!0!==o,!0))}(i,l,n,t):Ke(_)),(0,ut.U)(_=>Object.assign(Object.assign({},e),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,ii.b)(_=>{if(ul(_.guardsResult)){const E=ca(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw E.url=_.guardsResult,E}const b=new au(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(b)}),on(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),xe(_=>{if(_.guards.canActivateChecks.length)return Ke(_).pipe((0,ii.b)(b=>{const E=new Dd(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(E)}),en(b=>{let E=!1;return Ke(b).pipe(function y(n,t){return(0,_n.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return Ke(e);let l=0;return(0,nn.D)(o).pipe(br(h=>function I(n,t,e,i){return function O(n,t,e,i){const o=Y(n);if(0===o.length)return Ke({});const l={};return(0,nn.D)(o).pipe((0,_n.z)(h=>function de(n,t,e,i){const o=fa(n,t,i);return $n(o.resolve?o.resolve(t,e):o(t,e))}(n[h],t,e,i).pipe((0,ii.b)(_=>{l[h]=_}))),nl(1),(0,_n.z)(()=>Y(l).length===o.length?Ke(l):Xi.E))}(n._resolve,n,t,i).pipe((0,ut.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Qh(n,e).resolve),null)))}(h.route,i,n,t)),(0,ii.b)(()=>l++),nl(1),(0,_n.z)(h=>l===o.length?Ke(e):Xi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ii.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,ii.b)(b=>{const E=new ri(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(E)}))}),xe(_=>{const{targetSnapshot:b,id:E,extractedUrl:A,rawUrl:R,extras:{skipLocationChange:L,replaceUrl:z}}=_;return this.hooks.afterPreactivation(b,{navigationId:E,appliedUrlTree:A,rawUrlTree:R,skipLocationChange:!!L,replaceUrl:!!z})}),(0,ut.U)(_=>{const b=function Jh(n,t,e){const i=ic(n,t._root,e?e._root:void 0);return new nc(i,t)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:b})}),(0,ii.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,t,e)=>(0,ut.U)(i=>(new oc(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,ii.b)({next(){l=!0},complete(){l=!0}}),function su(n){return(0,gn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var _;l||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(_=this.currentNavigation)||void 0===_?void 0:_.id)===o.id&&(this.currentNavigation=null)}),er(_=>{if(h=!0,function Do(n){return n&&n[si]}(_)){const b=ul(_.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const E=new Ql(o.id,this.serializeUrl(o.extractedUrl),_.message);i.next(E),b?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),R={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hd(o.source)};this.scheduleNavigation(A,"imperative",null,R,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new En(o.id,this.serializeUrl(o.extractedUrl),_);i.next(b);try{o.resolve(this.errorHandler(_))}catch(E){o.reject(E)}}return Xi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var o;const l={replaceUrl:!0},h=(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null;if(h){const b=Object.assign({},h);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(l.state=b)}const _=this.parseUrl(e.url);this.scheduleNavigation(_,i,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){cc(e),this.config=e.map(uc),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:_,preserveFragment:b}=i,E=o||this.routerState.root,A=b?this.currentUrlTree.fragment:h;let R=null;switch(_){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=l||null}return null!==R&&(R=this.removeEmptyProps(R)),function ug(n,t,e,i,o){if(0===e.length)return rc(t.root,t.root,t.root,i,o);const l=function cv(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Xh(!0,0,n);let t=0,e=!1;const i=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const _={};return Kt(l.outlets,(b,E)=>{_[E]="string"==typeof b?b.split("/"):b}),[...o,{outlets:_}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((_,b)=>{0==b&&"."===_||(0==b&&""===_?e=!0:".."===_?t++:""!=_&&o.push(_))}),o):[...o,l]},[]);return new Xh(e,t,i)}(e);if(l.toRoot())return rc(t.root,t.root,new fe([],{}),i,o);const h=function uv(n,t,e){if(n.isAbsolute)return new yu(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new yu(l,l===t.root,0)}const i=ir(n.commands[0])?0:1;return function Nd(n,t,e){let i=n,o=t,l=e;for(;l>o;){if(l-=o,i=i.parent,!i)throw new Error("Invalid number of '../'");o=i.segments.length}return new yu(i,!1,o-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,t,n),_=h.processChildren?bu(h.segmentGroup,h.index,l.commands):tf(h.segmentGroup,h.index,l.commands);return rc(t.root,h.segmentGroup,_,i,o)}(E,this.currentUrlTree,e,R,null!=A?A:null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=ul(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function jd(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?Object.assign({},Ou):!1===i?Object.assign({},mf):i,ul(e))return Co(this.currentUrlTree,e,o);const l=this.parseUrl(e);return Co(this.currentUrlTree,l,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const l=e[o];return null!=l&&(i[o]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Lr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,o,l,h){var _,b;if(this.disposed)return Promise.resolve(!1);let E,A,R;h?(E=h.resolve,A=h.reject,R=h.promise):R=new Promise((ue,we)=>{E=ue,A=we});const L=++this.navigationId;let z;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),z=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):z=0,this.setTransition({id:L,targetPageId:z,source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:E,reject:A,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(ue=>Promise.reject(ue))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(e,i=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const o=new Ql(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Hd(n){return"imperative"!==n}let Gd=(()=>{class n{constructor(e,i,o,l,h){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=l,this.el=h,this.commands=null,this.onChanges=new Vt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,o=this.el.nativeElement;null!==e?i.setAttribute(o,"tabindex",e):i.removeAttribute(o,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:_l(this.skipLocationChange),replaceUrl:_l(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_l(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(yi),u.Y36(cl),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&u.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),_a=(()=>{class n{constructor(e,i,o){this.router=e,this.route=i,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Vt.x,this.subscription=e.events.subscribe(l=>{l instanceof Lr&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,o,l,h){if(0!==e||i||o||l||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const _={skipLocationChange:_l(this.skipLocationChange),replaceUrl:_l(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:_l(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(yi),u.Y36(cl),u.Y36(he))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&u.NdJ("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&e&&u.uIk("target",i.target)("href",i.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function _l(n){return""===n||!!n}let fv=(()=>{class n{constructor(e,i,o,l,h,_){this.router=e,this.element=i,this.renderer=o,this.cdr=l,this.link=h,this.linkWithHref=_,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=e.events.subscribe(b=>{b instanceof Lr&&this.update()})}ngAfterContentInit(){Ke(this.links.changes,this.linksWithHrefs.changes,Ke(null)).pipe((0,_o.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,nn.D)(i).pipe((0,_o.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function pv(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&e.isActive(o.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(yi),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Gd,8),u.Y36(_a,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,o){if(1&e&&(u.Suo(o,Gd,5),u.Suo(o,_a,5)),2&e){let l;u.iGM(l=u.CRH())&&(i.links=l),u.iGM(l=u.CRH())&&(i.linksWithHrefs=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[u.TTD]}),n})();class vf{}class yf{preload(t,e){return Ke(null)}}let _v=(()=>{class n{constructor(e,i,o,l){this.router=e,this.injector=o,this.preloadingStrategy=l,this.loader=new ji(o,i,b=>e.triggerEvent(new vi(b)),b=>e.triggerEvent(new la(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(on(e=>e instanceof Lr),br(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(u.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(e,l)):l.children&&o.push(this.processRoutes(e,l.children));return(0,nn.D)(o).pipe((0,_o.J)(),(0,ut.U)(l=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Ke(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,_n.z)(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(yi),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(vf))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ig=(()=>{class n{constructor(e,i,o={}){this.router=e,this.viewportScroller=i,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ou?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Lr&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof yo&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new yo(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ml=new u.OlP("ROUTER_CONFIGURATION"),vl=new u.OlP("ROUTER_FORROOT_GUARD"),mv=[ye,{provide:_t,useClass:Tn},{provide:yi,useFactory:function Dv(n,t,e,i,o,l,h={},_,b){const E=new yi(null,n,t,e,i,o,cu(l));return _&&(E.urlHandlingStrategy=_),b&&(E.routeReuseStrategy=b),function Ng(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,E),h.enableTracing&&E.events.subscribe(A=>{var R,L;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(L=console.groupEnd)||void 0===L||L.call(console)}),E},deps:[_t,dl,ye,u.zs3,u.Sil,mn,ml,[class gl{},new u.FiY],[class Ye{},new u.FiY]]},dl,{provide:cl,useFactory:function Cv(n){return n.routerState.root},deps:[yi]},_v,yf,class gv{preload(t,e){return e().pipe(er(()=>Ke(null)))}},{provide:ml,useValue:{enableTracing:!1}}];function vv(){return new u.PXZ("Router",yi)}let yv=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[mv,Sg(e),{provide:vl,useFactory:bv,deps:[[yi,new u.FiY,new u.tp0]]},{provide:ml,useValue:i||{}},{provide:he,useFactory:GD,deps:[se,[new u.tBr(Be),new u.FiY],ml]},{provide:Ig,useFactory:bf,deps:[yi,Fl,ml]},{provide:vf,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:yf},{provide:u.PXZ,multi:!0,useFactory:vv},[Ru,{provide:u.ip1,multi:!0,useFactory:Df,deps:[Ru]},{provide:Cf,useFactory:wv,deps:[Ru]},{provide:u.tb,multi:!0,useExisting:Cf}]]}}static forChild(e){return{ngModule:n,providers:[Sg(e)]}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(vl,8),u.LFG(yi,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function bf(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Ig(n,t,e)}function GD(n,t,e={}){return e.useHash?new Ee(n,t):new $e(n,t)}function bv(n){return"guarded"}function Sg(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:mn,multi:!0,useValue:n}]}let Ru=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Vt.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const o=new Promise(_=>i=_),l=this.injector.get(yi),h=this.injector.get(ml);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?Ke(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),o})}bootstrapListener(e){const i=this.injector.get(ml),o=this.injector.get(_v),l=this.injector.get(Ig),h=this.injector.get(yi),_=this.injector.get(u.z2F);e===_.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Df(n){return n.appInitializer.bind(n)}function wv(n){return n.bootstrapListener.bind(n)}const Cf=new u.OlP("Router Initializer");let $d=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-bewertung"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"bewertung works!"),u.qZA())},styles:[""]}),n})(),$D=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-fahrt-erstellen"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"fahrt-erstellen works!"),u.qZA())},styles:[""]}),n})();function Iv(n,t){if(1&n&&(u.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div")(4,"div",2)(5,"div",7)(6,"h6"),u._uU(7),u.qZA(),u.TgZ(8,"h6"),u._uU(9),u.qZA(),u.TgZ(10,"p",8),u._UZ(11,"img",9),u.qZA(),u.TgZ(12,"h6"),u._uU(13),u.qZA(),u.TgZ(14,"span"),u._UZ(15,"i",10)(16,"i",10)(17,"i",10)(18,"i",10),u.qZA()(),u.TgZ(19,"div",11),u._UZ(20,"i",12),u.qZA(),u.TgZ(21,"div",13)(22,"h6"),u._uU(23),u.qZA(),u.TgZ(24,"h6"),u._uU(25),u.qZA(),u._UZ(26,"br"),u.TgZ(27,"div",5)(28,"div",6)(29,"h6"),u._uU(30,"Sitzplatzt: 3 "),u.qZA(),u.TgZ(31,"h6"),u._uU(32,"Autos: Audi"),u.qZA(),u.TgZ(33,"h6"),u._uU(34),u.ALo(35,"date"),u.qZA()()()(),u.TgZ(36,"div",7)(37,"h5",14),u._uU(38,"25$"),u.qZA(),u.TgZ(39,"button",15),u._uU(40,"buchen"),u.qZA()()()()()()()),2&n){const e=t.$implicit,i=u.oxw();u.xp6(7),u.Oqu(e.abfahrt),u.xp6(2),u.Oqu(e.wo),u.xp6(4),u.Oqu(e.name),u.xp6(10),u.Oqu(e.wohin),u.xp6(2),u.Oqu(e.ankunft),u.xp6(9),u.hij("Tag: ",u.xi3(35,6,i.date,"dd-MM-yyyy"),"")}}let WD=(()=>{class n{constructor(){this.isCollapsed=!0,this.date=new Date,this.fahrtList=[{abfahrt:"9uhr00",wo:"berlin",ankunft:"Berlin",wohin:"12uhr00",name:"Max MusterMan"},{abfahrt:"9uhr00",wo:"berlin",ankunft:"Berlin",wohin:"12uhr00",name:"Max MusterMan"},{abfahrt:"9uhr00",wo:"berlin",ankunft:"Berlin",wohin:"12uhr00",name:"Max MusterMan"},{abfahrt:"9uhr00",wo:"berlin",ankunft:"Berlin",wohin:"12uhr00",name:"Max MusterMan"},{abfahrt:"9uhr00",wo:"berlin",ankunft:"Berlin",wohin:"12uhr00",name:"Max MusterMan"},{abfahrt:"9uhr00",wo:"berlin",ankunft:"Berlin",wohin:"12uhr00",name:"Max MusterMan"},{abfahrt:"9uhr00",wo:"berlin",ankunft:"Berlin",wohin:"12uhr00",name:"Max MusterMan"},{abfahrt:"9uhr00",wo:"berlin",ankunft:"Berlin",wohin:"12uhr00",name:"Max MusterMan"}]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-fahrt-list"]],decls:5,vars:1,consts:[[1,"head"],[1,"container"],[1,"row"],["class","col-sm-6 fahrtList",4,"ngFor","ngForOf"],[1,"col-sm-6","fahrtList"],[1,"card"],[1,"card-body"],[1,"col-3"],[1,"name"],["src","https://bootdey.com/img/Content/avatar/avatar7.png","alt","Admin","width","50",1,"rounded-circle"],[1,"fa-solid","fa-star","stern"],[1,"col-2"],[1,"fa-solid","fa-arrow-right"],[1,"col-4"],[1,"amount"],["type","button",1,"btn","buchen"]],template:function(e,i){1&e&&(u.TgZ(0,"p",0),u._uU(1,"Fahrt List"),u.qZA(),u.TgZ(2,"div",1)(3,"div",2),u.YNc(4,Iv,41,9,"div",3),u.qZA()()),2&e&&(u.xp6(4),u.Q6J("ngForOf",i.fahrtList))},directives:[sn],pipes:[pd],styles:[".fahrtList[_ngcontent-%COMP%]{padding:15px 15px 30px}.card[_ngcontent-%COMP%]{border-radius:17px;-webkit-box-shadow:0 1px 4px rgba(0,0,0,.3)}.head[_ngcontent-%COMP%]{margin:20px}.element[_ngcontent-%COMP%]{padding:10px 0}.embed-responsive[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{border-radius:50%}.buchen[_ngcontent-%COMP%]{margin:17px 0 0 20px;background-color:#def2f1;border-radius:5px;padding-top:5px}.amount[_ngcontent-%COMP%]{margin-left:20px;padding-bottom:30px}.name[_ngcontent-%COMP%]{padding-top:30px}.detail[_ngcontent-%COMP%]{background-color:#def2f1;border-radius:5px;margin-top:12px}"]}),n})(),zD=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-fahrt-suchen"]],decls:2,vars:0,template:function(e,i){1&e&&(u.TgZ(0,"p"),u._uU(1,"fahrt-suchen works!"),u.qZA())},styles:[""]}),n})(),Sv=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:0,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-body"],["href","",1,"float-right","btn","btn-outline-info"],[1,"card-title","mb-4","mt-1"],[1,"form-group"],["name","","type","email",1,"form-control"],["routerLink","registrieren",1,"float-right"],["type","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block",2,"background-color","#2B7A78"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"br")(2,"br")(3,"br")(4,"br")(5,"br")(6,"br"),u.TgZ(7,"div",1)(8,"aside",2)(9,"div",3)(10,"article",4)(11,"a",5),u._uU(12,"Registrieren"),u.qZA(),u.TgZ(13,"h4",6),u._uU(14,"Anmelden"),u.qZA(),u.TgZ(15,"form")(16,"div",7)(17,"label"),u._uU(18,"Email"),u.qZA(),u._UZ(19,"input",8),u.qZA(),u.TgZ(20,"div",7)(21,"a",9),u._uU(22,"Forgot?"),u.qZA(),u.TgZ(23,"label"),u._uU(24,"password"),u.qZA(),u._UZ(25,"input",10),u.qZA(),u.TgZ(26,"div",7)(27,"button",11),u._uU(28," Login "),u.qZA()()()()()()()())},directives:[_a],styles:[".card[_ngcontent-%COMP%]{border-radius:20px}"]}),n})(),Ag=(()=>{class n{constructor(){this.defaultDate="1995-12-12"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-profil"]],decls:71,vars:1,consts:[[1,"container"],[1,"row"],[1,"col-md-1"],[1,"col-4","cardpadding"],[1,"card","cardForm"],[1,"card-body"],[1,"d-flex","flex-column","align-items-center","text-center"],["src","https://bootdey.com/img/Content/avatar/avatar7.png","alt","Admin","width","120",1,"rounded-circle"],[1,"mt-3"],[1,"btn","btn-outline-info",2,"margin-right","12px"],[1,"col-md-7","cardpadding"],[1,"form-group","row","rowDetail"],[1,"col-sm-2","col-form-label"],[1,"col-md-10"],["type","text","value","Musterman","disabled","",1,"form-control","detail"],[1,"form-group","row"],["type","text","value","Max","disabled","",1,"form-control","detail"],["type","date","disabled","",1,"form-control","detail",3,"value"],["type","Email","value","test@gmail.com","disabled","",1,"form-control","detail"],["type","number","value","500","disabled","",1,"form-control","detail"],[1,"col-md-12"],[1,"fas","fa-edit"],[1,"fas","fa-trash",2,"color","red"],[1,"col-md-4","cardpadding"],[1,"card"],[1,"card-title"],[2,"text-align","center"],[1,"fa-solid","fa-star","stern"]],template:function(e,i){1&e&&(u.TgZ(0,"div")(1,"div",0)(2,"div",1),u._UZ(3,"div",2),u.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),u._UZ(8,"img",7),u.TgZ(9,"div",8)(10,"h4"),u._uU(11,"Max musterman"),u.qZA(),u.TgZ(12,"button",9),u._uU(13,"add bild"),u.qZA(),u.TgZ(14,"button",9),u._uU(15,"bild l\xf6schen "),u.qZA()()()()()(),u.TgZ(16,"div",10)(17,"div",4)(18,"div",5)(19,"form")(20,"div",11)(21,"label",12),u._uU(22,"Name"),u.qZA(),u.TgZ(23,"div",13),u._UZ(24,"input",14),u.qZA()(),u.TgZ(25,"div",15)(26,"label",12),u._uU(27,"Vorname "),u.qZA(),u.TgZ(28,"div",13),u._UZ(29,"input",16),u.qZA()(),u.TgZ(30,"div",15)(31,"label",12),u._uU(32,"Geburtstag "),u.qZA(),u.TgZ(33,"div",13),u._UZ(34,"input",17),u.qZA()(),u.TgZ(35,"div",15)(36,"label",12),u._uU(37,"Email "),u.qZA(),u.TgZ(38,"div",13),u._UZ(39,"input",18),u.qZA()(),u.TgZ(40,"div",15)(41,"label",12),u._uU(42,"Konto"),u.qZA(),u.TgZ(43,"div",13),u._UZ(44,"input",19),u.qZA()(),u.TgZ(45,"div",1)(46,"div",20)(47,"a")(48,"span"),u._UZ(49,"i",21),u.qZA(),u._uU(50,"\xa0\xa0"),u.qZA(),u.TgZ(51,"a")(52,"span"),u._UZ(53,"i",22),u.qZA(),u._uU(54,"\xa0\xa0"),u.qZA()()()()()()(),u.TgZ(55,"div",1),u._UZ(56,"div",2),u.TgZ(57,"div",23)(58,"div",24)(59,"div",5)(60,"div",25)(61,"h5",26),u._uU(62,"Bewertung"),u.qZA()(),u.TgZ(63,"p"),u._uU(64," Ich,Anita,buche stets f\xfcr meinen Mann die Strecke:Berlin-Neubrandenburg-Berlin.Er selbst hat sehr viele positive Bewertungen seitens der Fahrer bekommen,aber diesmal war der Hammer:Ich habe bei Paul gebucht mit dem Zusatz "),u.qZA(),u.TgZ(65,"span"),u._UZ(66,"i",27)(67,"i",27)(68,"i",27)(69,"i",27),u.qZA()()()(),u._UZ(70,"div",10),u.qZA()()()()),2&e&&(u.xp6(34),u.s9C("value",i.defaultDate))},styles:[".buchen[_ngcontent-%COMP%]{margin:17px 0 0 20px;background-color:#def2f1;border-radius:5px;padding-top:5px}.container[_ngcontent-%COMP%]{margin:20px 0 0}.detail[_ngcontent-%COMP%]{height:25px}.rowDetail[_ngcontent-%COMP%]{padding-bottom:0}.cardForm[_ngcontent-%COMP%]{border-radius:20px}.cardpadding[_ngcontent-%COMP%]{padding-bottom:15px}"]}),n})(),Nv=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registrieren"]],decls:36,vars:0,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"float-center","card-title","mb-4","mt-1",2,"text-align","center"],[1,"form-group"],["type","text","required","",1,"form-control"],["type","date","required","",1,"form-control"],["type","email","required","",1,"form-control"],["type","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block",2,"background-color","#2B7A78"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0),u._UZ(1,"br"),u.TgZ(2,"div",1)(3,"aside",2)(4,"div",3)(5,"article",4)(6,"h4",5),u._uU(7,"Registrieren"),u.qZA(),u.TgZ(8,"form")(9,"div",6)(10,"label"),u._uU(11,"Nachname"),u.qZA(),u._UZ(12,"input",7),u.qZA(),u.TgZ(13,"div",6)(14,"label"),u._uU(15,"Vorname"),u.qZA(),u._UZ(16,"input",7),u.qZA(),u.TgZ(17,"div",6)(18,"label"),u._uU(19,"Username"),u.qZA(),u._UZ(20,"input",7),u.qZA(),u.TgZ(21,"div",6)(22,"label"),u._uU(23,"Geburststag"),u.qZA(),u._UZ(24,"input",8),u.qZA(),u.TgZ(25,"div",6)(26,"label"),u._uU(27,"Email"),u.qZA(),u._UZ(28,"input",9),u.qZA(),u.TgZ(29,"div",6)(30,"label"),u._uU(31,"password"),u.qZA(),u._UZ(32,"input",10),u.qZA(),u.TgZ(33,"div",6)(34,"button",11),u._uU(35,"Registrieren"),u.qZA()()()()()()()())},styles:[".card[_ngcontent-%COMP%]{border-radius:20px}"]}),n})();var sI=x(1144);const Av=["addListener","removeListener"],ZD=["addEventListener","removeEventListener"],Mv=["on","off"];function rr(n,t,e,i){if((0,mi.m)(e)&&(i=e,e=void 0),i)return rr(n,t,e).pipe(tl(i));const[o,l]=function Rv(n){return(0,mi.m)(n.addEventListener)&&(0,mi.m)(n.removeEventListener)}(n)?ZD.map(h=>_=>n[h](t,_,e)):function Ks(n){return(0,mi.m)(n.addListener)&&(0,mi.m)(n.removeListener)}(n)?Av.map(Ov(n,t)):function YD(n){return(0,mi.m)(n.on)&&(0,mi.m)(n.off)}(n)?Mv.map(Ov(n,t)):[];if(!o&&(0,sI.z)(n))return(0,_n.z)(h=>rr(h,t,e))((0,kr.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new zt.y(h=>{const _=(...b)=>h.next(1<b.length?b:b[0]);return o(_),()=>l(_)})}function Ov(n,t){return e=>i=>n[e](t,i)}var wf=x(4986),qD=x(3532);const{isArray:xv}=Array;function kv(n){return 1===n.length&&xv(n[0])?n[0]:n}var mt=x(5032);function Wd(...n){const t=(0,js.jO)(n),e=kv(n);return e.length?new zt.y(i=>{let o=e.map(()=>[]),l=e.map(()=>!1);i.add(()=>{o=l=null});for(let h=0;!i.closed&&h<e.length;h++)(0,kr.Xf)(e[h]).subscribe((0,Xt.x)(i,_=>{if(o[h].push(_),o.every(b=>b.length)){const b=o.map(E=>E.shift());i.next(t?t(...b):b),o.some((E,A)=>!E.length&&l[A])&&i.complete()}},()=>{l[h]=!0,!o[h].length&&i.complete()}));return()=>{o=l=null}}):Xi.E}function Zt(n){return(0,gn.e)((t,e)=>{(0,kr.Xf)(n).subscribe((0,Xt.x)(e,()=>e.complete(),mt.Z)),!e.closed&&t.subscribe(e)})}function XD(n,t){return n===t}function xu(...n){const t=(0,js.jO)(n);return(0,gn.e)((e,i)=>{const o=n.length,l=new Array(o);let h=n.map(()=>!1),_=!1;for(let b=0;b<o;b++)(0,kr.Xf)(n[b]).subscribe((0,Xt.x)(i,E=>{l[b]=E,!_&&!h[b]&&(h[b]=!0,(_=h.every(Ji.y))&&(h=null))},mt.Z));e.subscribe((0,Xt.x)(i,b=>{if(_){const E=[b,...l];i.next(t?t(...E):E)}}))})}new zt.y(mt.Z);let i_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),kC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[i_]]}),n})(),PC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[kC]}),n})();Math,Math,Math;const JC=["*"],dw=["dialog"];function M0(n){return"string"==typeof n}function Ac(n){return null!=n}function Yu(n){return(n||document.body).getBoundingClientRect()}const O0={animation:!0,transitionTimerDelayMs:5},zw=()=>{},{transitionTimerDelayMs:hp}=O0,qu=new Map,$i=(n,t,e,i)=>{let o=i.context||{};const l=qu.get(t);if(l)switch(i.runningTransition){case"continue":return Xi.E;case"stop":n.run(()=>l.transition$.complete()),o=Object.assign(l.context,o),qu.delete(t)}const h=e(t,i.animation,o)||zw;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>h()),Ke(void 0).pipe(function $w(n){return t=>new zt.y(e=>t.subscribe({next:h=>n.run(()=>e.next(h)),error:h=>n.run(()=>e.error(h)),complete:()=>n.run(()=>e.complete())}))}(n));const _=new Vt.x,b=new Vt.x,E=_.pipe(function Ef(...n){return t=>ps(t,Ke(...n))}(!0));qu.set(t,{transition$:_,complete:()=>{b.next(),b.complete()},context:o});const A=function Ww(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const R=rr(t,"transitionend").pipe(Zt(E),on(({target:z})=>z===t));(function Pv(...n){return 1===(n=kv(n)).length?(0,kr.Xf)(n[0]):new zt.y(function QD(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push((0,kr.Xf)(n[i]).subscribe((0,Xt.x)(t,o=>{if(e){for(let l=0;l<e.length;l++)l!==i&&e[l].unsubscribe();e=null}t.next(o)})))}}(n))})(function Mg(n=0,t,e=wf.P){let i=-1;return null!=t&&((0,qD.K)(t)?e=t:i=t),new zt.y(o=>{let l=function KD(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=i?this.schedule(void 0,i):o.complete())},l)})}(A+hp).pipe(Zt(E)),R,b).pipe(Zt(E)).subscribe(()=>{qu.delete(t),n.run(()=>{h(),_.next(),_.complete()})})}),_.asObservable()};let Dl=(()=>{class n{constructor(){this.animation=O0.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),U_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),k0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),j_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),L0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var li=(()=>{return(n=li||(li={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",li;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Mc=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Xu(n){const t=Array.from(n.querySelectorAll(Mc)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let sb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi,PC]]}),n})(),K_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),ab=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class El{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let jE=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,wn.q)(1)).subscribe(()=>{$i(this._zone,this._el.nativeElement,(e,i)=>{i&&Yu(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $i(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(u.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),u.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class J_{close(t){}dismiss(t){}}class lb{constructor(t,e,i,o){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Vt.x,this._dismissed=new Vt.x,this._hidden=new Vt.x,t.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,h)=>{this._resolve=l,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Zt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Zt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function x_(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ke(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Wd(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ci=(()=>{return(n=ci||(ci={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",ci;var n})();let td=(()=>{class n{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new Vt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Vt.x,this.hidden=new Vt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":M0(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,wn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},h=Wd($i(this._zone,e,()=>e.classList.remove("show"),i),$i(this._zone,this._dialogEl.nativeElement,()=>{},i));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};Wd($i(this._zone,this._elRef.nativeElement,(l,h)=>{h&&Yu(l),l.classList.add("show")},e),$i(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{rr(e,"keydown").pipe(Zt(this._closed$),on(o=>o.which===li.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(ci.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;rr(this._dialogEl.nativeElement,"mousedown").pipe(Zt(this._closed$),(0,ii.b)(()=>i=!1),en(()=>rr(e,"mouseup").pipe(Zt(this._closed$),(0,wn.q)(1))),on(({target:o})=>e===o)).subscribe(()=>{i=!0}),rr(e,"click").pipe(Zt(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(ci.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=Xu(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$i(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(le),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&u.Gf(dw,7),2&e){let o;u.iGM(o=u.CRH())&&(i._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(u.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),u.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),u.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:JC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&e&&u.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),HE=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:l,paddingRight:h}=o;if(e>0){const _=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${_+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=h),o.overflow=l}}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(le))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GE=(()=>{class n{constructor(e,i,o,l,h,_){this._applicationRef=e,this._injector=i,this._document=o,this._scrollBar=l,this._rendererFactory=h,this._ngZone=_,this._activeWindowCmptHasChanged=new Vt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const b=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const o=rr(t,"focusin").pipe(Zt(e),(0,ut.U)(l=>l.target));rr(t,"keydown").pipe(Zt(e),on(l=>l.which===li.Tab),xu(o)).subscribe(([l,h])=>{const[_,b]=Xu(t);(h===_||h===t)&&l.shiftKey&&(b.focus(),l.preventDefault()),h===b&&!l.shiftKey&&(_.focus(),l.preventDefault())}),i&&rr(t,"click").pipe(Zt(e),xu(o),(0,ut.U)(l=>l[1])).subscribe(l=>l.focus())})})(0,b.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(b.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o,l){const h=l.container instanceof HTMLElement?l.container:Ac(l.container)?this._document.querySelector(l.container):this._document.body,_=this._rendererFactory.createRenderer(null,null);if(!h)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const b=new J_,E=this._getContentRef(e,l.injector||i,o,b,l);let A=!1!==l.backdrop?this._attachBackdrop(e,h):void 0,R=this._attachWindowComponent(e,h,E),L=new lb(R,E,A,l.beforeDismiss);return this._registerModalRef(L),this._registerWindowCmpt(R),L.hidden.pipe((0,wn.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(_.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),b.close=z=>{L.close(z)},b.dismiss=z=>{L.dismiss(z)},this._applyWindowOptions(R.instance,l),1===this._modalRefs.length&&_.addClass(this._document.body,"modal-open"),A&&A.instance&&(this._applyBackdropOptions(A.instance,l),A.changeDetectorRef.detectChanges()),R.changeDetectorRef.detectChanges(),L}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let l=e.resolveComponentFactory(jE).create(this._injector);return this._applicationRef.attachView(l.hostView),i.appendChild(l.location.nativeElement),l}_attachWindowComponent(e,i,o){let h=e.resolveComponentFactory(td).create(this._injector,o.nodes);return this._applicationRef.attachView(h.hostView),i.appendChild(h.location.nativeElement),h}_applyWindowOptions(e,i){this._windowAttributes.forEach(o=>{Ac(i[o])&&(e[o]=i[o])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(o=>{Ac(i[o])&&(e[o]=i[o])})}_getContentRef(e,i,o,l,h){return o?o instanceof u.Rgc?this._createFromTemplateRef(o,l):M0(o)?this._createFromString(o):this._createFromComponent(e,i,o,l,h):new El([])}_createFromTemplateRef(e,i){const l=e.createEmbeddedView({$implicit:i,close(h){i.close(h)},dismiss(h){i.dismiss(h)}});return this._applicationRef.attachView(l),new El([l.rootNodes],l)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new El([[i]])}_createFromComponent(e,i,o,l,h){const _=e.resolveComponentFactory(o),b=u.zs3.create({providers:[{provide:J_,useValue:l}],parent:i}),E=_.create(b),A=E.location.nativeElement;return h.scrollable&&A.classList.add("component-host-scrollable"),this._applicationRef.attachView(E.hostView),new El([[A]],E.hostView,E)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(le),u.LFG(HE),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TS=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Dl))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mh=(()=>{class n{constructor(e,i,o,l){this._moduleCFR=e,this._injector=i,this._modalStack=o,this._config=l}open(e,i={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(GE),u.LFG(TS))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[mh]}),n})(),pb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),Cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),rm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),XE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),iT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),rT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function sT(){return 100}});let Es=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gi]]}),n})(),am=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const lT=[Qw,U_,k0,j_,L0,sb,ab,cb,pb,am,im,Cb,rm,XE,om,iT,rT,Es];let cT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[lT,Qw,U_,k0,j_,L0,sb,ab,cb,pb,am,im,Cb,rm,XE,om,iT,rT,Es]}),n})(),Mb=(()=>{class n{constructor(){this.test=[{abfahrt:"Ibrahim",wo:"berlin",ankunft:"Alvi",wohin:"Maruburg"},{abfahrt:"Ibrahim",wo:"berlin",ankunft:"Alvi",wohin:"Maruburg"},{abfahrt:"Ibrahim",wo:"berlin",ankunft:"Alvi",wohin:"Maruburg"},{abfahrt:"Ibrahim",wo:"berlin",ankunft:"Alvi",wohin:"Maruburg"}]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navigation"]],decls:15,vars:0,consts:[[1,"navbar","cardListFahrt",2,"background-color","#3aafa9"],[1,"container-fluid"],["src","../../../assets/Export/0.75x/car_android_MyCargonautldpi.png","width","150px",2,"padding-top","12px"],[1,"navbar-brand"],[1,"d-flex","input-group","w-auto"],["routerLink","profil","routerLinkActive","active",1,"nav-link",2,"color","black"],["routerLink","fahrtList","routerLinkActive","active",1,"nav-link",2,"color","black"],["routerLink","login","routerLinkActive","active",1,"nav-link",2,"color","black"],["routerLink","registrieren","routerLinkActive","active",1,"nav-link",2,"color","black"]],template:function(e,i){1&e&&(u.TgZ(0,"nav",0)(1,"div",1)(2,"p"),u._UZ(3,"img",2),u.TgZ(4,"a",3),u._uU(5,"My Cargonaut"),u.qZA()(),u.TgZ(6,"form",4)(7,"a",5),u._uU(8,"Profil"),u.qZA(),u.TgZ(9,"a",6),u._uU(10,"Fahrlist"),u.qZA(),u.TgZ(11,"a",7),u._uU(12,"Login"),u.qZA(),u.TgZ(13,"a",8),u._uU(14,"Registrieren"),u.qZA()()()())},directives:[K_,_a,fv],styles:[""]}),n})();const lm=[{path:"profil",component:Ag},{path:"bewertung",component:$d},{path:"fahrtErstellen",component:$D},{path:"fahrtList",component:WD},{path:"fahrtSuche",component:zD},{path:"login",component:Sv},{path:"registrieren",component:Nv},{path:"Navigation",component:Mb}];let Oc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[yv.forRoot(lm)],yv]}),n})(),Ob=(()=>{class n{constructor(){this.title="MyCargonaut"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){1&e&&u._UZ(0,"app-navigation")(1,"router-outlet")},directives:[Mb,lc],styles:["body[_ngcontent-%COMP%]{background-color:#fff}"]}),n})();var Wi=x(2011);const Rb_firebaseConfig={apiKey:"AIzaSyCiNpzT6WhaQU_H43N8wLGHYOKFXAWtak0",authDomain:"cargonaut-a2624.firebaseapp.com",projectId:"cargonaut-a2624",storageBucket:"cargonaut-a2624.appspot.com",messagingSenderId:"257509026792",appId:"1:257509026792:web:52f1e50c5f1eae0339925d"};var xb=x(6451),Sp=x(5363),uT=x(6063);class dT extends Vt.x{constructor(t=1/0,e=1/0,i=uT.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:h}=this;e||(i.push(t),!o&&i.push(l.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:o}=this,l=o.slice();for(let h=0;h<l.length&&!t.closed;h+=i?1:2)t.next(l[h]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,l=(o?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!o){const h=e.now();let _=0;for(let b=1;b<i.length&&i[b]<=h;b+=2)_=b;_&&i.splice(0,_+1)}}}var cm=x(3099);function kb(n,t,e){let i,o=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,cm.B)({connector:()=>new dT(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Pb(n,t){return(0,mi.m)(t)?en(()=>n,t):en(()=>n)}var Fb=x(9468),Un=x(5813);x(5867);var Lo=x(5861),Uo=x(9681),Tl=x(4859),P=x(2090),hm=x(1877);const Bb=new Map,Ap={activated:!1,tokenObservers:[]},_T={initialized:!1,enabled:!1};function Di(n){return Bb.get(n)||Ap}function Ts(n,t){Bb.set(n,t)}function Bo(){return _T}class Rp{constructor(t,e,i,o,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Lo.Z)(function*(){e.stop();try{e.pending=new P.BH,yield function YS(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new P.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Tr=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mm(n){if(!Di(n).activated)throw Tr.create("use-before-activation",{appName:n.name})}function ym(n,t){return kp.apply(this,arguments)}function kp(){return(kp=(0,Lo.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const R=yield o.getHeartbeatsHeader();R&&(i["X-Firebase-Client"]=R)}const l={method:"POST",body:JSON.stringify(t),headers:i};let h,_;try{h=yield fetch(n,l)}catch(R){throw Tr.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==h.status)throw Tr.create("fetch-status-error",{httpStatus:h.status});try{_=yield h.json()}catch(R){throw Tr.create("fetch-parse-error",{originalErrorMessage:R.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Tr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const E=1e3*Number(b[1]),A=Date.now();return{token:_.token,expireTimeMillis:A+E,issuedAtTimeMillis:A}})).apply(this,arguments)}function yT(n,t){const{projectId:e,appId:i,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const Rc="firebase-app-check-store";let Ch=null;function Pp(){return Ch||(Ch=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var o;t(Tr.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Rc,{keyPath:"compositeKey"})}}catch(e){t(Tr.create("storage-open",{originalErrorMessage:e.message}))}}),Ch)}function bm(){return(bm=(0,Lo.Z)(function*(n,t){const i=(yield Pp()).transaction(Rc,"readwrite"),l=i.objectStore(Rc).put({compositeKey:n,value:t});return new Promise((h,_)=>{l.onsuccess=b=>{h()},i.onerror=b=>{var E;_(Tr.create("storage-set",{originalErrorMessage:null===(E=b.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const Fp=new hm.Yd("@firebase/app-check");function IT(n,t){return(0,P.hl)()?function wT(n,t){return function Gb(n,t){return bm.apply(this,arguments)}(function TT(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Fp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function ST(){return Bo().enabled}function r(){return s.apply(this,arguments)}function s(){return(s=(0,Lo.Z)(function*(){const n=Bo();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const c={error:"UNKNOWN_ERROR"};function d(n){return P.US.encodeString(JSON.stringify(n),!1)}function p(n){return v.apply(this,arguments)}function v(){return(v=(0,Lo.Z)(function*(n,t=!1){const e=n.app;mm(e);const i=Di(e);let l,o=i.token;if(!o){const b=yield i.cachedTokenPromise;b&&V(b)&&(o=b)}if(!t&&o&&V(o))return{token:o.token};let _,h=!1;if(ST()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ym(yT(e,yield r()),n.heartbeatServiceProvider).then(E=>(i.exchangeTokenPromise=void 0,E)),h=!0);const b=yield i.exchangeTokenPromise;return yield IT(e,b),Ts(e,Object.assign(Object.assign({},i),{token:b})),{token:b.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(b=>(i.exchangeTokenPromise=void 0,b)),h=!0),o=yield i.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Fp.warn(b.message):Fp.error(b),l=b}return o?(_={token:o.token},Ts(e,Object.assign(Object.assign({},i),{token:o})),yield IT(e,o)):_=Q(l),h&&F(e,_),_})).apply(this,arguments)}function C(n,t){const e=Di(n),i=e.tokenObservers.filter(o=>o.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ts(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function S(n){const{app:t}=n,e=Di(t);let i=e.tokenRefresher;i||(i=function N(n){const{app:t}=n;return new Rp((0,Lo.Z)(function*(){let i;if(i=Di(t).token?yield p(n,!0):yield p(n),i.error)throw i.error}),()=>!0,()=>{const e=Di(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ts(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function F(n,t){const e=Di(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}function V(n){return n.expireTimeMillis-Date.now()>0}function Q(n){return{token:d(c),error:n}}class me{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Di(this.app);for(const e of t)C(this.app,e.next);return Promise.resolve()}}const nN="app-check-internal";!function nR(){(0,Uo._registerComponent)(new Tl.wA("app-check",n=>function Re(n,t){return new me(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(nN).initialize()})),(0,Uo._registerComponent)(new Tl.wA(nN,n=>function Le(n){return{getToken:t=>p(n,t),addTokenListener:t=>function D(n,t,e,i){const{app:o}=n,l=Di(o),h={next:e,error:i,type:t};if(Ts(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&V(l.token)){const _=l.token;Promise.resolve().then(()=>{e({token:_.token}),S(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>S(n))}(n,"INTERNAL",t),removeTokenListener:t=>C(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Uo.registerVersion)("@firebase/app-check","0.5.8")}();class zb{constructor(){return(0,Un.vb)("app-check")}}"undefined"!=typeof window&&window;var OT=x(127);const rN=new u.OlP("angularfire2.auth.use-emulator"),sN=new u.OlP("angularfire2.auth.settings"),oN=new u.OlP("angularfire2.auth.tenant-id"),aN=new u.OlP("angularfire2.auth.langugage-code"),lN=new u.OlP("angularfire2.auth.use-device-language"),cN=new u.OlP("angularfire.auth.persistence"),uN=(n,t,e,i,o,l,h,_)=>(0,Wi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=t.runOutsideAngular(()=>n.auth());if(e&&b.useEmulator(...e),i&&(b.tenantId=i),b.languageCode=o,l&&b.useDeviceLanguage(),h)for(const[E,A]of Object.entries(h))b.settings[E]=A;return _&&b.setPersistence(_),b},[e,i,o,l,h,_]);let RT=(()=>{class n{constructor(e,i,o,l,h,_,b,E,A,R,L,z){const ue=new Vt.x,we=Ke(void 0).pipe((0,Sp.Q)(h.outsideAngular),en(()=>l.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,8775)))),(0,ut.U)(()=>(0,Wi.on)(e,l,i)),(0,ut.U)(Oe=>uN(Oe,l,_,E,A,R,b,L)),kb({bufferSize:1,refCount:!1}));if(function Jo(n){return"server"===n}(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{we.pipe(mo()).subscribe();const Xe=we.pipe(en(Ge=>Ge.getRedirectResult().then(gt=>gt,()=>null)),Un.iC,kb({bufferSize:1,refCount:!1})),He=we.pipe(en(Ge=>new zt.y(gt=>({unsubscribe:l.runOutsideAngular(()=>Ge.onAuthStateChanged(yt=>gt.next(yt),yt=>gt.error(yt),()=>gt.complete()))})))),rt=we.pipe(en(Ge=>new zt.y(gt=>({unsubscribe:l.runOutsideAngular(()=>Ge.onIdTokenChanged(yt=>gt.next(yt),yt=>gt.error(yt),()=>gt.complete()))}))));this.authState=Xe.pipe(Pb(He),(0,Fb.R)(h.outsideAngular),(0,Sp.Q)(h.insideAngular)),this.user=Xe.pipe(Pb(rt),(0,Fb.R)(h.outsideAngular),(0,Sp.Q)(h.insideAngular)),this.idToken=this.user.pipe(en(Ge=>Ge?(0,nn.D)(Ge.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(en(Ge=>Ge?(0,nn.D)(Ge.getIdTokenResult()):Ke(null))),this.credential=(0,xb.T)(Xe,ue,this.authState.pipe(on(Ge=>!Ge))).pipe((0,ut.U)(Ge=>(null==Ge?void 0:Ge.user)?Ge:null),(0,Fb.R)(h.outsideAngular),(0,Sp.Q)(h.insideAngular))}return(0,Wi.pX)(this,we,l,{spy:{apply:(Oe,Xe,He)=>{(Oe.startsWith("signIn")||Oe.startsWith("createUser"))&&He.then(rt=>ue.next(rt))}}})}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Wi.Dh),u.LFG(Wi.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Un.HU),u.LFG(rN,8),u.LFG(sN,8),u.LFG(oN,8),u.LFG(aN,8),u.LFG(lN,8),u.LFG(cN,8),u.LFG(zb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),lR=(()=>{class n{constructor(){OT.Z.registerVersion("angularfire",Un.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[RT]}),n})();x(8775);var dN=x(3942);const hN="@firebase/database";let xT="";function pN(n){xT=n}class uR{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,P.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,P.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class dR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,P.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const gN=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new uR(t)}}catch(t){}return new dR},Eh=gN("localStorage"),kT=gN("sessionStorage"),Hp=new hm.Yd("@firebase/database"),_N=function(){let n=1;return function(){return n++}}(),mN=function(n){const t=(0,P.dS)(n),e=new P.gQ;e.update(t);const i=e.digest();return P.US.encodeByteArray(i)},Tm=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Tm.apply(null,i):t+="object"==typeof i?(0,P.Pz)(i):i,t+=" "}return t};let Th=null,vN=!0;const yN=function(n,t){(0,P.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Hp.logLevel=hm.in.VERBOSE,Th=Hp.log.bind(Hp),t&&kT.set("logging_enabled",!0)):"function"==typeof n?Th=n:(Th=null,kT.remove("logging_enabled"))},zi=function(...n){if(!0===vN&&(vN=!1,null===Th&&!0===kT.get("logging_enabled")&&yN(!0)),Th){const t=Tm.apply(null,n);Th(t)}},Im=function(n){return function(...t){zi(n,...t)}},PT=function(...n){const t="FIREBASE INTERNAL ERROR: "+Tm(...n);Hp.error(t)},Il=function(...n){const t=`FIREBASE FATAL ERROR: ${Tm(...n)}`;throw Hp.error(t),new Error(t)},Ir=function(...n){const t="FIREBASE WARNING: "+Tm(...n);Hp.warn(t)},Zb=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},xc="[MIN_NAME]",Sl="[MAX_NAME]",Ih=function(n,t){if(n===t)return 0;if(n===xc||t===Sl)return-1;if(t===xc||n===Sl)return 1;{const e=Yb(n),i=Yb(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},pR=function(n,t){return n===t?0:n<t?-1:1},Sm=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,P.Pz)(t))},FT=function(n){if("object"!=typeof n||null===n)return(0,P.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,P.Pz)(t[i]),e+=":",e+=FT(n[t[i]]);return e+="}",e},bN=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let o=0;o<e;o+=t)i.push(n.substring(o,o+t>e?e:o+t));return i};function Zi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const DN=function(n){(0,P.hu)(!Zb(n),"Invalid JSON number");const i=1023;let o,l,h,_,b;0===n?(l=0,h=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(_=Math.min(Math.floor(Math.log(n)/Math.LN2),i),l=_+i,h=Math.round(n*Math.pow(2,52-_)-Math.pow(2,52))):(l=0,h=Math.round(n/Math.pow(2,-1074))));const E=[];for(b=52;b;b-=1)E.push(h%2?1:0),h=Math.floor(h/2);for(b=11;b;b-=1)E.push(l%2?1:0),l=Math.floor(l/2);E.push(o?1:0),E.reverse();const A=E.join("");let R="";for(b=0;b<64;b+=8){let L=parseInt(A.substr(b,8),2).toString(16);1===L.length&&(L="0"+L),R+=L}return R.toLowerCase()},vR=new RegExp("^-?(0*)\\d{1,10}$"),CN=-2147483648,LT=2147483647,Yb=function(n){if(vR.test(n)){const t=Number(n);if(t>=CN&&t<=LT)return t}return null},Gp=function(n){try{n()}catch(t){setTimeout(()=>{throw Ir("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Nm=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class bR{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ir(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class DR{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(zi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ir(t)}}let Am=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const SN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,MN="websocket",ON="long_polling";class BT{constructor(t,e,i,o,l=!1,h="",_=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=h,this.includeNamespaceInQueryParams=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Eh.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Eh.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function RN(n,t,e){let i;if((0,P.hu)("string"==typeof t,"typeof type must == string"),(0,P.hu)("object"==typeof e,"typeof params must == object"),t===MN)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==ON)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function CR(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return Zi(e,(l,h)=>{o.push(l+"="+h)}),i+o.join("&")}class wR{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,P.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,P.p$)(this.counters_)}}const VT={},jT={};function HT(n){const t=n.toString();return VT[t]||(VT[t]=new wR),VT[t]}class TR{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&Gp(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class nd{constructor(t,e,i,o,l,h,_){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=h,this.lastSessionId=_,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Im(t),this.stats_=HT(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),RN(e,ON,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new TR(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,P.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GT((...l)=>{const[h,_,b,E,A]=l;if(this.incrementIncomingBytes_(l),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=_,this.password=b;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);_?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(_,()=>{this.onClosed_()})):this.onClosed_()}},(...l)=>{const[h,_]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(h,_)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&SN.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nd.forceAllow_=!0}static forceDisallow(){nd.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!nd.forceAllow_&&(nd.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,P.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,P.h$)(e),o=bN(i,1840);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,P.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class GT{constructor(t,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=_N(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=GT.createIFrame_();let l="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(l='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(_){zi("frame writing exception"),_.stack&&zi(_.stack),zi(_)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||zi("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),i()})}addTag(t,e){(0,P.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{zi("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Kb=null;"undefined"!=typeof MozWebSocket?Kb=MozWebSocket:"undefined"!=typeof WebSocket&&(Kb=WebSocket);let $p=(()=>{class n{constructor(e,i,o,l,h,_,b){this.connId=e,this.applicationId=o,this.appCheckToken=l,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Im(this.connId),this.stats_=HT(i),this.connURL=n.connectionURL_(i,_,b,l,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,l,h){const _={v:"5"};return!(0,P.Yr)()&&"undefined"!=typeof location&&location.hostname&&SN.test(location.hostname)&&(_.r="f"),i&&(_.s=i),o&&(_.ls=o),l&&(_.ac=l),h&&(_.p=h),RN(e,MN,_)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Eh.set("previous_websocket_failure",!0);try{let o;if((0,P.Yr)()){const h={headers:{"User-Agent":`Firebase/5/${xT}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const _=process.env,b=0===this.connURL.indexOf("wss://")?_.HTTPS_PROXY||_.https_proxy:_.HTTP_PROXY||_.http_proxy;b&&(h.proxy={origin:b})}this.mySock=new Kb(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const l=o.message||o.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const l=o.message||o.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Kb&&!n.forceDisallow_}static previouslyFailed(){return Eh.isInMemoryStorage||!0===Eh.get("previous_websocket_failure")}markConnectionHealthy(){Eh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,P.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,P.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=bN(i,16384);o.length>1&&this.sendString_(String(o.length));for(let l=0;l<o.length;l++)this.sendString_(o[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),BN=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[nd,$p]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=$p&&$p.isAvailable();let o=i&&!$p.previouslyFailed();if(e.webSocketOnly&&(i||Ir("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[$p];else{const l=this.transports_=[];for(const h of n.ALL_TRANSPORTS)h&&h.isAvailable()&&l.push(h);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class zN{constructor(t,e,i,o,l,h,_,b,E,A){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=h,this.onReady_=_,this.onDisconnect_=b,this.onKill_=E,this.lastSessionId=A,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Im("c:"+this.id+":"),this.transportManager_=new BN(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Nm(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Sm("t",t),i=Sm("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Sm("t",t),i=Sm("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Sm("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?PT("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):PT("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Ir("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Nm(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nm(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Eh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ZN{put(t,e,i,o){}merge(t,e,i,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class YN{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,P.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const o=this.getInitialEvent(t);o&&e.apply(i,o)}off(t,e,i){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let l=0;l<o.length;l++)if(o[l].callback===e&&(!i||i===o[l].context))return void o.splice(l,1)}validateEventType_(t){(0,P.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Qb extends YN{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qb}getInitialEvent(t){return(0,P.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Qt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new Qt("")}function At(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function id(n){return n.pieces_.length-n.pieceNum_}function cn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Qt(n.pieces_,t)}function WT(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Mm(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function QN(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Qt(t,0)}function xn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Qt)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new Qt(e,0)}function Mt(n){return n.pieceNum_>=n.pieces_.length}function Yr(n,t){const e=At(n),i=At(t);if(null===e)return t;if(e===i)return Yr(cn(n),cn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function ZR(n,t){const e=Mm(n,0),i=Mm(t,0);for(let o=0;o<e.length&&o<i.length;o++){const l=Ih(e[o],i[o]);if(0!==l)return l}return e.length===i.length?0:e.length<i.length?-1:1}function zT(n,t){if(id(n)!==id(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function jo(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(id(n)>id(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class YR{constructor(t,e){this.errorPrefix_=e,this.parts_=Mm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,P.ug)(this.parts_[i]);JN(this)}}function JN(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Sh(n))}function Sh(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class ZT extends YN{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new ZT}getInitialEvent(t){return(0,P.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Om=1e3;let Xb,Nh=(()=>{class n extends ZN{constructor(e,i,o,l,h,_,b,E){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=l,this.onServerInfoUpdate_=h,this.authTokenProvider_=_,this.appCheckTokenProvider_=b,this.authOverride_=E,this.id=n.nextPersistentConnectionId_++,this.log_=Im("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Om,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ZT.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Qb.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const l=++this.requestNumber_,h={r:l,a:e,b:i};this.log_((0,P.Pz)(h)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[l]=o)}get(e){this.initConnection_();const i=new P.BH,o={p:e._path.toString(),q:e._queryObject},l={action:"g",request:o,onComplete:_=>{const b=_.d;"ok"===_.s?(this.onDataUpdate_(o.p,b,!1,null),i.resolve(b)):i.reject(b)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const _=this.outstandingGets_[h];void 0===_||l!==_||(delete this.outstandingGets_[h],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+h+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(h),i.promise}listen(e,i,o,l){this.initConnection_();const h=e._queryIdentifier,_=e._path.toString();this.log_("Listen called for "+_+" "+h),this.listens.has(_)||this.listens.set(_,new Map),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(_).has(h),"listen() called twice for same path/queryId.");const b={onComplete:l,hashFn:i,query:e,tag:o};this.listens.get(_).set(h,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+o+" for "+l);const h={p:o};e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,b=>{const E=b.d,A=b.s;n.warnOnListenWarnings_(E,i),(this.listens.get(o)&&this.listens.get(o).get(l))===e&&(this.log_("listen response",b),"ok"!==A&&this.removeListen_(o,l),e.onComplete&&e.onComplete(A,E))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,P.r3)(e,"w")){const o=(0,P.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();Ir(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,P.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,P.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,l=>{const h=l.s,_=l.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,_))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+l),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,l)&&this.connected_&&this.sendUnlisten_(o,l,e._queryObject,i)}sendUnlisten_(e,i,o,l){this.log_("Unlisten on "+e+" for "+i);const h={p:e};l&&(h.q=o,h.t=l),this.sendRequest("n",h)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,l){const h={p:i,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,_=>{l&&setTimeout(()=>{l(_.s,_.d)},Math.floor(0))})}put(e,i,o,l){this.putInternal("p",e,i,o,l)}merge(e,i,o,l){this.putInternal("m",e,i,o,l)}putInternal(e,i,o,l,h){this.initConnection_();const _={p:i,d:o};void 0!==h&&(_.h=h),this.outstandingPuts_.push({action:e,request:_,onComplete:l}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),l&&l(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,P.Pz)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):PT("Unrecognized action received from server: "+(0,P.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Om,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Om,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Om),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Lo.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),l=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,_=e.lastSessionId;let b=!1,E=null;const A=function(){E?E.close():(b=!0,l())};e.realtime_={close:A,sendRequest:function(z){(0,P.hu)(E,"sendRequest call when we're not connected not allowed."),E.sendRequest(z)}};const L=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[z,ue]=yield Promise.all([e.authTokenProvider_.getToken(L),e.appCheckTokenProvider_.getToken(L)]);b?zi("getToken() completed but was canceled"):(zi("getToken() completed. Creating connection."),e.authToken_=z&&z.accessToken,e.appCheckToken_=ue&&ue.token,E=new zN(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,l,we=>{Ir(we+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},_))}catch(z){e.log_("Failed to get token: "+z),b||(e.repoInfo_.nodeAdmin&&Ir(z),A())}}})()}interrupt(e){zi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Om,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(h=>FT(h)).join("$"):"default";const l=this.removeListen_(e,o);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const o=new Qt(e).toString();let l;if(this.listens.has(o)){const h=this.listens.get(o);l=h.get(i),h.delete(i),0===h.size&&this.listens.delete(o)}else l=void 0;return l}onAuthRevoked_(e,i){zi("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){zi("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,P.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+xT.replace(/\./g,"-")]=1,(0,P.uI)()?e["framework.cordova"]=1:(0,P.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Qb.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class xt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new xt(t,e)}}class Jb{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new xt(xc,t),o=new xt(xc,e);return 0!==this.compare(i,o)}minPost(){return xt.MIN}}class tA extends Jb{static get __EMPTY_NODE(){return Xb}static set __EMPTY_NODE(t){Xb=t}compare(t,e){return Ih(t.name,e.name)}isDefinedOn(t){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return xt.MIN}maxPost(){return new xt(Sl,Xb)}makePost(t,e){return(0,P.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new xt(t,Xb)}toString(){return".key"}}const Nl=new tA;class eD{constructor(t,e,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=e?i(t.key,e):1,o&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let qT,Na=(()=>{class n{constructor(e,i,o,l,h){this.key=e,this.value=i,this.color=null!=o?o:n.RED,this.left=null!=l?l:Is.EMPTY_NODE,this.right=null!=h?h:Is.EMPTY_NODE}copy(e,i,o,l,h){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,i,o),null):0===h?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,o)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Is.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,l;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return Is.EMPTY_NODE;l=o.right.min_(),o=o.copy(l.key,l.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Is{constructor(t,e=Is.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Is(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Na.BLACK,null,null))}remove(t){return new Is(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Na.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new eD(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new eD(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new eD(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new eD(this.root_,null,this.comparator_,!0,t)}}function ix(n,t){return Ih(n.name,t.name)}function YT(n,t){return Ih(n,t)}Is.EMPTY_NODE=new class nx{copy(t,e,i,o,l){return this}insert(t,e,i){return new Na(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const nA=function(n){return"number"==typeof n?"number:"+DN(n):"string:"+n},iA=function(n){if(n.isLeafNode()){const t=n.val();(0,P.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,P.r3)(t,".sv"),"Priority must be a string or number.")}else(0,P.hu)(n===qT||n.isEmpty(),"priority of unexpected type.");(0,P.hu)(n===qT||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let rA,sA,oA,Wp=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),iA(this.priorityNode_)}static set __childrenNodeConstructor(e){rA=e}static get __childrenNodeConstructor(){return rA}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Mt(e)?this:".priority"===At(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=At(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,P.hu)(".priority"!==o||1===id(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(cn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+nA(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?DN(this.value_):this.value_,this.lazyHash_=mN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,P.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,l=n.VALUE_TYPE_ORDER.indexOf(i),h=n.VALUE_TYPE_ORDER.indexOf(o);return(0,P.hu)(l>=0,"Unknown leaf type: "+i),(0,P.hu)(h>=0,"Unknown leaf type: "+o),l===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const vn=new class ax extends Jb{compare(t,e){const i=t.node.getPriority(),o=e.node.getPriority(),l=i.compareTo(o);return 0===l?Ih(t.name,e.name):l}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return xt.MIN}maxPost(){return new xt(Sl,new Wp("[PRIORITY-POST]",oA))}makePost(t,e){const i=sA(t);return new xt(e,new Wp("[PRIORITY-POST]",i))}toString(){return".priority"}},lx=Math.log(2);class cx{constructor(t){this.count=parseInt(Math.log(t+1)/lx,10),this.current_=this.count-1;const o=(l=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const tD=function(n,t,e,i){n.sort(t);const o=function(b,E){const A=E-b;let R,L;if(0===A)return null;if(1===A)return R=n[b],L=e?e(R):R,new Na(L,R.node,Na.BLACK,null,null);{const z=parseInt(A/2,10)+b,ue=o(b,z),we=o(z+1,E);return R=n[z],L=e?e(R):R,new Na(L,R.node,Na.BLACK,ue,we)}},_=function(b){let E=null,A=null,R=n.length;const L=function(ue,we){const Oe=R-ue,Xe=R;R-=ue;const He=o(Oe+1,Xe),rt=n[Oe],Ge=e?e(rt):rt;z(new Na(Ge,rt.node,we,null,He))},z=function(ue){E?(E.left=ue,E=ue):(A=ue,E=ue)};for(let ue=0;ue<b.count;++ue){const we=b.nextBitIsOne(),Oe=Math.pow(2,b.count-(ue+1));we?L(Oe,Na.BLACK):(L(Oe,Na.BLACK),L(Oe,Na.RED))}return A}(new cx(n.length));return new Is(i||t,_)};let KT;const zp={};class kc{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,P.hu)(zp&&vn,"ChildrenNode.ts has not been loaded"),KT=KT||new kc({".priority":zp},{".priority":vn}),KT}get(t){const e=(0,P.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Is?e:null}hasIndex(t){return(0,P.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,P.hu)(t!==Nl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=e.getIterator(xt.Wrap);let _,h=l.getNext();for(;h;)o=o||t.isDefinedOn(h.node),i.push(h),h=l.getNext();_=o?tD(i,t.getCompare()):zp;const b=t.toString(),E=Object.assign({},this.indexSet_);E[b]=t;const A=Object.assign({},this.indexes_);return A[b]=_,new kc(A,E)}addToIndexes(t,e){const i=(0,P.UI)(this.indexes_,(o,l)=>{const h=(0,P.DV)(this.indexSet_,l);if((0,P.hu)(h,"Missing index implementation for "+l),o===zp){if(h.isDefinedOn(t.node)){const _=[],b=e.getIterator(xt.Wrap);let E=b.getNext();for(;E;)E.name!==t.name&&_.push(E),E=b.getNext();return _.push(t),tD(_,h.getCompare())}return zp}{const _=e.get(t.name);let b=o;return _&&(b=b.remove(new xt(t.name,_))),b.insert(t,t.node)}});return new kc(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,P.UI)(this.indexes_,o=>{if(o===zp)return o;{const l=e.get(t.name);return l?o.remove(new xt(t.name,l)):o}});return new kc(i,this.indexSet_)}}let Rm,Dt=(()=>{class n{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&iA(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Rm||(Rm=new n(new Is(YT),null,kc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rm}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Rm:i}}getChild(e){const i=At(e);return null===i?this:this.getImmediateChild(i).getChild(cn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,P.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new xt(e,i);let l,h;i.isEmpty()?(l=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(l=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(o,this.children_));const _=l.isEmpty()?Rm:this.priorityNode_;return new n(l,_,h)}}updateChild(e,i){const o=At(e);if(null===o)return i;{(0,P.hu)(".priority"!==At(e)||1===id(e),".priority must be the last token in a path");const l=this.getImmediateChild(o).updateChild(cn(e),i);return this.updateImmediateChild(o,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,l=0,h=!0;if(this.forEachChild(vn,(_,b)=>{i[_]=b.val(e),o++,h&&n.INTEGER_REGEXP_.test(_)?l=Math.max(l,Number(_)):h=!1}),!e&&h&&l<2*o){const _=[];for(const b in i)_[b]=i[b];return _}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+nA(this.getPriority().val())+":"),this.forEachChild(vn,(i,o)=>{const l=o.hash();""!==l&&(e+=":"+i+":"+l)}),this.lazyHash_=""===e?"":mN(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const l=this.resolveIndex_(o);if(l){const h=l.getPredecessorKey(new xt(e,i));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new xt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new xt(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,xt.Wrap);let h=l.peek();for(;null!=h&&i.compare(h,e)<0;)l.getNext(),h=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,xt.Wrap);let h=l.peek();for(;null!=h&&i.compare(h,e)>0;)l.getNext(),h=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===xm?-1:0}withIndex(e){if(e===Nl||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Nl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(vn),l=i.getIterator(vn);let h=o.getNext(),_=l.getNext();for(;h&&_;){if(h.name!==_.name||!h.node.equals(_.node))return!1;h=o.getNext(),_=l.getNext()}return null===h&&null===_}return!1}return!1}}resolveIndex_(e){return e===Nl?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const xm=new class ux extends Dt{constructor(){super(new Is(YT),Dt.EMPTY_NODE,kc.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Dt.EMPTY_NODE}isEmpty(){return!1}};function Bn(n,t=null){if(null===n)return Dt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,P.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Wp(n,Bn(t));if(n instanceof Array){let e=Dt.EMPTY_NODE;return Zi(n,(i,o)=>{if((0,P.r3)(n,i)&&"."!==i.substring(0,1)){const l=Bn(o);(l.isLeafNode()||!l.isEmpty())&&(e=e.updateImmediateChild(i,l))}}),e.updatePriority(Bn(t))}{const e=[];let i=!1;if(Zi(n,(h,_)=>{if("."!==h.substring(0,1)){const b=Bn(_);b.isEmpty()||(i=i||!b.getPriority().isEmpty(),e.push(new xt(h,b)))}}),0===e.length)return Dt.EMPTY_NODE;const l=tD(e,ix,h=>h.name,YT);if(i){const h=tD(e,vn.getCompare());return new Dt(l,Bn(t),new kc({".priority":h},{".priority":vn}))}return new Dt(l,Bn(t),kc.Default)}}Object.defineProperties(xt,{MIN:{value:new xt(xc,Dt.EMPTY_NODE)},MAX:{value:new xt(Sl,xm)}}),tA.__EMPTY_NODE=Dt.EMPTY_NODE,Wp.__childrenNodeConstructor=Dt,function rx(n){qT=n}(xm),function ox(n){oA=n}(xm),function sx(n){sA=n}(Bn);class QT extends Jb{constructor(t){super(),this.indexPath_=t,(0,P.hu)(!Mt(t)&&".priority"!==At(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),o=this.extractChild(e.node),l=i.compareTo(o);return 0===l?Ih(t.name,e.name):l}makePost(t,e){const i=Bn(t),o=Dt.EMPTY_NODE.updateChild(this.indexPath_,i);return new xt(e,o)}maxPost(){const t=Dt.EMPTY_NODE.updateChild(this.indexPath_,xm);return new xt(Sl,t)}toString(){return Mm(this.indexPath_,0).join("/")}}const JT=new class hx extends Jb{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Ih(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return xt.MIN}maxPost(){return xt.MAX}makePost(t,e){const i=Bn(t);return new xt(e,i)}toString(){return".value"}},Zp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fx=function(){let n=0;const t=[];return function(e){const i=e===n;let o;n=e;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Zp.charAt(e%64),e=Math.floor(e/64);(0,P.hu)(0===e,"Cannot push at time == 0");let h=l.join("");if(i){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=Zp.charAt(t[o]);return(0,P.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),cA=function(n){if(n===""+LT)return"-";const t=Yb(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let h=0;h<e.length;h++)e[h]=n.charAt(h);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return Sl;const l=Zp.charAt(Zp.indexOf(e[i])+1);return e[i]=l,e.slice(0,i+1).join("")},uA=function(n){if(n===""+CN)return xc;const t=Yb(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+LT:(delete e[e.length-1],e.join("")):(e[e.length-1]=Zp.charAt(Zp.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function dA(n){return{type:"value",snapshotNode:n}}function Yp(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function km(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Pm(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class e1{constructor(t){this.index_=t}updateChild(t,e,i,o,l,h){(0,P.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const _=t.getImmediateChild(e);return _.getChild(o).equals(i.getChild(o))&&_.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?t.hasChild(e)?h.trackChildChange(km(e,_)):(0,P.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):_.isEmpty()?h.trackChildChange(Yp(e,i)):h.trackChildChange(Pm(e,i,_))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(vn,(o,l)=>{e.hasChild(o)||i.trackChildChange(km(o,l))}),e.isLeafNode()||e.forEachChild(vn,(o,l)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(l)||i.trackChildChange(Pm(o,l,h))}else i.trackChildChange(Yp(o,l))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Dt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fm{constructor(t){this.indexedFilter_=new e1(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Fm.getStartPost_(t),this.endPost_=Fm.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,o,l,h){return this.matches(new xt(e,i))||(i=Dt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,o,l,h)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Dt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(Dt.EMPTY_NODE);const l=this;return e.forEachChild(vn,(h,_)=>{l.matches(new xt(h,_))||(o=o.updateImmediateChild(h,Dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class gx{constructor(t){this.rangedFilter_=new Fm(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,o,l,h){return this.rangedFilter_.matches(new xt(e,i))||(i=Dt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,o,l,h):this.fullLimitUpdateChild_(t,e,i,l,h)}updateFullNode(t,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=Dt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let l;o=Dt.EMPTY_NODE.withIndex(this.index_),l=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;l.hasNext()&&h<this.limit_;){const _=l.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),_)<=0:this.index_.compare(_,this.rangedFilter_.getEndPost())<=0,!b)break;o=o.updateImmediateChild(_.name,_.node),h++}}else{let l,h,_,b;if(o=e.withIndex(this.index_),o=o.updatePriority(Dt.EMPTY_NODE),this.reverse_){b=o.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const R=this.index_.getCompare();_=(L,z)=>R(z,L)}else b=o.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),_=this.index_.getCompare();let E=0,A=!1;for(;b.hasNext();){const R=b.getNext();!A&&_(l,R)<=0&&(A=!0),A&&E<this.limit_&&_(R,h)<=0?E++:o=o.updateImmediateChild(R.name,Dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,o,l){let h;if(this.reverse_){const R=this.index_.getCompare();h=(L,z)=>R(z,L)}else h=this.index_.getCompare();const _=t;(0,P.hu)(_.numChildren()===this.limit_,"");const b=new xt(e,i),E=this.reverse_?_.getFirstChild(this.index_):_.getLastChild(this.index_),A=this.rangedFilter_.matches(b);if(_.hasChild(e)){const R=_.getImmediateChild(e);let L=o.getChildAfterChild(this.index_,E,this.reverse_);for(;null!=L&&(L.name===e||_.hasChild(L.name));)L=o.getChildAfterChild(this.index_,L,this.reverse_);const z=null==L?1:h(L,b);if(A&&!i.isEmpty()&&z>=0)return null!=l&&l.trackChildChange(Pm(e,i,R)),_.updateImmediateChild(e,i);{null!=l&&l.trackChildChange(km(e,R));const we=_.updateImmediateChild(e,Dt.EMPTY_NODE);return null!=L&&this.rangedFilter_.matches(L)?(null!=l&&l.trackChildChange(Yp(L.name,L.node)),we.updateImmediateChild(L.name,L.node)):we}}return i.isEmpty()?t:A&&h(E,b)>=0?(null!=l&&(l.trackChildChange(km(E.name,E.node)),l.trackChildChange(Yp(e,i))),_.updateImmediateChild(e,i).updateImmediateChild(E.name,Dt.EMPTY_NODE)):t}}class nD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Sl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vn}copy(){const t=new nD;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function t1(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function n1(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function iD(n,t){const e=n.copy();return e.index_=t,e}function hA(n){const t={};if(n.isDefault())return t;let e;return n.index_===vn?e="$priority":n.index_===JT?e="$value":n.index_===Nl?e="$key":((0,P.hu)(n.index_ instanceof QT,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,P.Pz)(e),n.startSet_&&(t.startAt=(0,P.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,P.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,P.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,P.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function fA(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==vn&&(t.i=n.index_.toString()),t}class rD extends ZN{constructor(t,e,i,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Im("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,P.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,o){const l=t._path.toString();this.log_("Listen called for "+l+" "+t._queryIdentifier);const h=rD.getListenId_(t,i),_={};this.listens_[h]=_;const b=hA(t._queryParams);this.restRequest_(l+".json",b,(E,A)=>{let R=A;if(404===E&&(R=null,E=null),null===E&&this.onDataUpdate_(l,R,!1,i),(0,P.DV)(this.listens_,h)===_){let L;L=E?401===E?"permission_denied":"rest_error:"+E:"ok",o(L,null)}})}unlisten(t,e){const i=rD.getListenId_(t,e);delete this.listens_[i]}get(t){const e=hA(t._queryParams),i=t._path.toString(),o=new P.BH;return this.restRequest_(i+".json",e,(l,h)=>{let _=h;404===l&&(_=null,l=null),null===l?(this.onDataUpdate_(i,_,!1,null),o.resolve(_)):o.reject(new Error(_))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(e.auth=o.accessToken),l&&l.token&&(e.ac=l.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,P.xO)(e);this.log_("Sending REST request for "+h);const _=new XMLHttpRequest;_.onreadystatechange=()=>{if(i&&4===_.readyState){this.log_("REST Response for "+h+" received. status:",_.status,"response:",_.responseText);let b=null;if(_.status>=200&&_.status<300){try{b=(0,P.cI)(_.responseText)}catch(E){Ir("Failed to parse JSON response for "+h+": "+_.responseText)}i(null,b)}else 401!==_.status&&404!==_.status&&Ir("Got unsuccessful REST response for "+h+" Status: "+_.status),i(_.status);i=null}},_.open("GET",h,!0),_.send()})}}class Dx{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function sD(){return{value:null,children:new Map}}function qp(n,t,e){if(Mt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=At(t);n.children.has(i)||n.children.set(i,sD()),qp(n.children.get(i),t=cn(t),e)}}function i1(n,t){if(Mt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(vn,(i,o)=>{qp(n,new Qt(i),o)}),i1(n,t)}}if(n.children.size>0){const e=At(t);return t=cn(t),n.children.has(e)&&i1(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function r1(n,t,e){null!==n.value?e(t,n.value):function Cx(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,o)=>{r1(o,new Qt(t.toString()+"/"+i),e)})}class wx{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Zi(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=t,e}}class Ix{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new wx(t);const i=1e4+2e4*Math.random();Nm(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Zi(t,(o,l)=>{l>0&&(0,P.r3)(this.statsToReport_,o)&&(e[o]=l,i=!0)}),i&&this.server_.reportStats(e),Nm(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ho=(()=>{return(n=Ho||(Ho={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ho;var n})();function a1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class oD{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Ho.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Mt(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Qt(t));return new oD(Wt(),e,this.revert)}}return(0,P.hu)(At(this.path)===t,"operationForChild called for unrelated child."),new oD(cn(this.path),this.affectedTree,this.revert)}}class Lm{constructor(t,e){this.source=t,this.path=e,this.type=Ho.LISTEN_COMPLETE}operationForChild(t){return Mt(this.path)?new Lm(this.source,Wt()):new Lm(this.source,cn(this.path))}}class Ah{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Ho.OVERWRITE}operationForChild(t){return Mt(this.path)?new Ah(this.source,Wt(),this.snap.getImmediateChild(t)):new Ah(this.source,cn(this.path),this.snap)}}class Kp{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Ho.MERGE}operationForChild(t){if(Mt(this.path)){const e=this.children.subtree(new Qt(t));return e.isEmpty()?null:e.value?new Ah(this.source,Wt(),e.value):new Kp(this.source,Wt(),e)}return(0,P.hu)(At(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Kp(this.source,cn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class rd{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Mt(t))return this.isFullyInitialized()&&!this.filtered_;const e=At(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Sx{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Um(n,t,e,i,o,l){const h=i.filter(_=>_.type===e);h.sort((_,b)=>function Mx(n,t,e){if(null==t.childName||null==e.childName)throw(0,P.g5)("Should only compare child_ events.");const i=new xt(t.childName,t.snapshotNode),o=new xt(e.childName,e.snapshotNode);return n.index_.compare(i,o)}(n,_,b)),h.forEach(_=>{const b=function Ax(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,_,l);o.forEach(E=>{E.respondsTo(_.type)&&t.push(E.createEvent(b,n.query_))})})}function aD(n,t){return{eventCache:n,serverCache:t}}function Bm(n,t,e,i){return aD(new rd(t,e,i),n.serverCache)}function gA(n,t,e,i){return aD(n.eventCache,new rd(t,e,i))}function lD(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Mh(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let l1;class yn{constructor(t,e=(()=>(l1||(l1=new Is(pR)),l1))()){this.value=t,this.children=e}static fromObject(t){let e=new yn(null);return Zi(t,(i,o)=>{e=e.set(new Qt(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wt(),value:this.value};if(Mt(t))return null;{const i=At(t),o=this.children.get(i);if(null!==o){const l=o.findRootMostMatchingPathAndValue(cn(t),e);return null!=l?{path:xn(new Qt(i),l.path),value:l.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Mt(t))return this;{const e=At(t),i=this.children.get(e);return null!==i?i.subtree(cn(t)):new yn(null)}}set(t,e){if(Mt(t))return new yn(e,this.children);{const i=At(t),l=(this.children.get(i)||new yn(null)).set(cn(t),e),h=this.children.insert(i,l);return new yn(this.value,h)}}remove(t){if(Mt(t))return this.children.isEmpty()?new yn(null):new yn(null,this.children);{const e=At(t),i=this.children.get(e);if(i){const o=i.remove(cn(t));let l;return l=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&l.isEmpty()?new yn(null):new yn(this.value,l)}return this}}get(t){if(Mt(t))return this.value;{const e=At(t),i=this.children.get(e);return i?i.get(cn(t)):null}}setTree(t,e){if(Mt(t))return e;{const i=At(t),l=(this.children.get(i)||new yn(null)).setTree(cn(t),e);let h;return h=l.isEmpty()?this.children.remove(i):this.children.insert(i,l),new yn(this.value,h)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(xn(t,o),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(Mt(t))return null;{const l=At(t),h=this.children.get(l);return h?h.findOnPath_(cn(t),xn(e,l),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,i){if(Mt(t))return this;{this.value&&i(e,this.value);const o=At(t),l=this.children.get(o);return l?l.foreachOnPath_(cn(t),xn(e,o),i):new yn(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((i,o)=>{o.foreach_(xn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Aa{constructor(t){this.writeTree_=t}static empty(){return new Aa(new yn(null))}}function Vm(n,t,e){if(Mt(t))return new Aa(new yn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const o=i.path;let l=i.value;const h=Yr(o,t);return l=l.updateChild(h,e),new Aa(n.writeTree_.set(o,l))}{const o=new yn(e),l=n.writeTree_.setTree(t,o);return new Aa(l)}}}function c1(n,t,e){let i=n;return Zi(e,(o,l)=>{i=Vm(i,xn(t,o),l)}),i}function _A(n,t){if(Mt(t))return Aa.empty();{const e=n.writeTree_.setTree(t,new yn(null));return new Aa(e)}}function u1(n,t){return null!=Oh(n,t)}function Oh(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Yr(e.path,t)):null}function mA(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(vn,(i,o)=>{t.push(new xt(i,o))}):n.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&t.push(new xt(i,o.value))}),t}function sd(n,t){if(Mt(t))return n;{const e=Oh(n,t);return new Aa(null!=e?new yn(e):n.writeTree_.subtree(t))}}function d1(n){return n.writeTree_.isEmpty()}function Qp(n,t){return vA(Wt(),n.writeTree_,t)}function vA(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((o,l)=>{".priority"===o?((0,P.hu)(null!==l.value,"Priority writes must always be leaf nodes"),i=l.value):e=vA(xn(n,o),l,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(xn(n,".priority"),i)),e}}function cD(n,t){return wA(t,n)}function Fx(n,t){if(n.snap)return jo(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&jo(xn(n.path,e),t))return!0;return!1}function Ux(n){return n.visible}function yA(n,t,e){let i=Aa.empty();for(let o=0;o<n.length;++o){const l=n[o];if(t(l)){const h=l.path;let _;if(l.snap)jo(e,h)?(_=Yr(e,h),i=Vm(i,_,l.snap)):jo(h,e)&&(_=Yr(h,e),i=Vm(i,Wt(),l.snap.getChild(_)));else{if(!l.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(jo(e,h))_=Yr(e,h),i=c1(i,_,l.children);else if(jo(h,e))if(_=Yr(h,e),Mt(_))i=c1(i,Wt(),l.children);else{const b=(0,P.DV)(l.children,At(_));if(b){const E=b.getChild(cn(_));i=Vm(i,Wt(),E)}}}}}return i}function bA(n,t,e,i,o){if(i||o){const l=sd(n.visibleWrites,t);return!o&&d1(l)?e:o||null!=e||u1(l,Wt())?Qp(yA(n.allWrites,function(E){return(E.visible||o)&&(!i||!~i.indexOf(E.writeId))&&(jo(E.path,t)||jo(t,E.path))},t),e||Dt.EMPTY_NODE):null}{const l=Oh(n.visibleWrites,t);if(null!=l)return l;{const h=sd(n.visibleWrites,t);return d1(h)?e:null!=e||u1(h,Wt())?Qp(h,e||Dt.EMPTY_NODE):null}}}function uD(n,t,e,i){return bA(n.writeTree,n.treePath,t,e,i)}function h1(n,t){return function Bx(n,t,e){let i=Dt.EMPTY_NODE;const o=Oh(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(vn,(l,h)=>{i=i.updateImmediateChild(l,h)}),i;if(e){const l=sd(n.visibleWrites,t);return e.forEachChild(vn,(h,_)=>{const b=Qp(sd(l,new Qt(h)),_);i=i.updateImmediateChild(h,b)}),mA(l).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return mA(sd(n.visibleWrites,t)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(n.writeTree,n.treePath,t)}function DA(n,t,e,i){return function Vx(n,t,e,i,o){(0,P.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=xn(t,e);if(u1(n.visibleWrites,l))return null;{const h=sd(n.visibleWrites,l);return d1(h)?o.getChild(e):Qp(h,o.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function dD(n,t){return function Hx(n,t){return Oh(n.visibleWrites,t)}(n.writeTree,xn(n.treePath,t))}function f1(n,t,e){return function jx(n,t,e,i){const o=xn(t,e),l=Oh(n.visibleWrites,o);return null!=l?l:i.isCompleteForChild(e)?Qp(sd(n.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function CA(n,t){return wA(xn(n.treePath,t),n.writeTree)}function wA(n,t){return{treePath:n,writeTree:t}}class zx{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,P.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if("child_added"===e&&"child_removed"===l)this.changeMap.set(i,Pm(i,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===l)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===l)this.changeMap.set(i,km(i,o.oldSnap));else if("child_changed"===e&&"child_added"===l)this.changeMap.set(i,Yp(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==l)throw(0,P.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(i,Pm(i,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const EA=new class Zx{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class p1{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new rd(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return f1(this.writes_,t,i)}}getChildAfterChild(t,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mh(this.viewCache_),l=function Wx(n,t,e,i,o,l){return function Gx(n,t,e,i,o,l,h){let _;const b=sd(n.visibleWrites,t),E=Oh(b,Wt());if(null!=E)_=E;else{if(null==e)return[];_=Qp(b,e)}if(_=_.withIndex(h),_.isEmpty()||_.isLeafNode())return[];{const A=[],R=h.getCompare(),L=l?_.getReverseIteratorFrom(i,h):_.getIteratorFrom(i,h);let z=L.getNext();for(;z&&A.length<o;)0!==R(z,i)&&A.push(z),z=L.getNext();return A}}(n.writeTree,n.treePath,t,e,i,o,l)}(this.writes_,o,e,1,i,t);return 0===l.length?null:l[0]}}function TA(n,t,e,i,o,l){const h=t.eventCache;if(null!=dD(i,e))return t;{let _,b;if(Mt(e))if((0,P.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const E=Mh(t),R=h1(i,E instanceof Dt?E:Dt.EMPTY_NODE);_=n.filter.updateFullNode(t.eventCache.getNode(),R,l)}else{const E=uD(i,Mh(t));_=n.filter.updateFullNode(t.eventCache.getNode(),E,l)}else{const E=At(e);if(".priority"===E){(0,P.hu)(1===id(e),"Can't have a priority with additional path components");const A=h.getNode();b=t.serverCache.getNode();const R=DA(i,e,A,b);_=null!=R?n.filter.updatePriority(A,R):h.getNode()}else{const A=cn(e);let R;if(h.isCompleteForChild(E)){b=t.serverCache.getNode();const L=DA(i,e,h.getNode(),b);R=null!=L?h.getNode().getImmediateChild(E).updateChild(A,L):h.getNode().getImmediateChild(E)}else R=f1(i,E,t.serverCache);_=null!=R?n.filter.updateChild(h.getNode(),E,R,A,o,l):h.getNode()}}return Bm(t,_,h.isFullyInitialized()||Mt(e),n.filter.filtersNodes())}}function hD(n,t,e,i,o,l,h,_){const b=t.serverCache;let E;const A=h?n.filter:n.filter.getIndexedFilter();if(Mt(e))E=A.updateFullNode(b.getNode(),i,null);else if(A.filtersNodes()&&!b.isFiltered()){const z=b.getNode().updateChild(e,i);E=A.updateFullNode(b.getNode(),z,null)}else{const z=At(e);if(!b.isCompleteForPath(e)&&id(e)>1)return t;const ue=cn(e),Oe=b.getNode().getImmediateChild(z).updateChild(ue,i);E=".priority"===z?A.updatePriority(b.getNode(),Oe):A.updateChild(b.getNode(),z,Oe,ue,EA,null)}const R=gA(t,E,b.isFullyInitialized()||Mt(e),A.filtersNodes());return TA(n,R,e,o,new p1(o,R,l),_)}function g1(n,t,e,i,o,l,h){const _=t.eventCache;let b,E;const A=new p1(o,t,l);if(Mt(e))E=n.filter.updateFullNode(t.eventCache.getNode(),i,h),b=Bm(t,E,!0,n.filter.filtersNodes());else{const R=At(e);if(".priority"===R)E=n.filter.updatePriority(t.eventCache.getNode(),i),b=Bm(t,E,_.isFullyInitialized(),_.isFiltered());else{const L=cn(e),z=_.getNode().getImmediateChild(R);let ue;if(Mt(L))ue=i;else{const we=A.getCompleteChild(R);ue=null!=we?".priority"===WT(L)&&we.getChild(QN(L)).isEmpty()?we:we.updateChild(L,i):Dt.EMPTY_NODE}b=z.equals(ue)?t:Bm(t,n.filter.updateChild(_.getNode(),R,ue,L,A,h),_.isFullyInitialized(),n.filter.filtersNodes())}}return b}function IA(n,t){return n.eventCache.isCompleteForChild(t)}function SA(n,t,e){return e.foreach((i,o)=>{t=t.updateChild(i,o)}),t}function _1(n,t,e,i,o,l,h,_){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let E,b=t;E=Mt(e)?i:new yn(null).setTree(e,i);const A=t.serverCache.getNode();return E.children.inorderTraversal((R,L)=>{if(A.hasChild(R)){const ue=SA(0,t.serverCache.getNode().getImmediateChild(R),L);b=hD(n,b,new Qt(R),ue,o,l,h,_)}}),E.children.inorderTraversal((R,L)=>{const z=!t.serverCache.isCompleteForChild(R)&&void 0===L.value;if(!A.hasChild(R)&&!z){const we=SA(0,t.serverCache.getNode().getImmediateChild(R),L);b=hD(n,b,new Qt(R),we,o,l,h,_)}}),b}class nk{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new e1(i.getIndex()),l=function _x(n){return n.loadsAllData()?new e1(n.getIndex()):n.hasLimit()?new gx(n):new Fm(n)}(i);this.processor_=function Yx(n){return{filter:n}}(l);const h=e.serverCache,_=e.eventCache,b=o.updateFullNode(Dt.EMPTY_NODE,h.getNode(),null),E=l.updateFullNode(Dt.EMPTY_NODE,_.getNode(),null),A=new rd(b,h.isFullyInitialized(),o.filtersNodes()),R=new rd(E,_.isFullyInitialized(),l.filtersNodes());this.viewCache_=aD(R,A),this.eventGenerator_=new Sx(this.query_)}get query(){return this.query_}}function sk(n,t){const e=Mh(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Mt(t)&&!e.getImmediateChild(At(t)).isEmpty())?e.getChild(t):null}function NA(n){return 0===n.eventRegistrations_.length}function AA(n,t,e){const i=[];if(e){(0,P.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(l=>{const h=l.createCancelEvent(e,o);h&&i.push(h)})}if(t){let o=[];for(let l=0;l<n.eventRegistrations_.length;++l){const h=n.eventRegistrations_[l];if(h.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(l+1));break}}else o.push(h)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return i}function MA(n,t,e,i){t.type===Ho.MERGE&&null!==t.source.queryId&&((0,P.hu)(Mh(n.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(lD(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,l=function Kx(n,t,e,i,o){const l=new zx;let h,_;if(e.type===Ho.OVERWRITE){const E=e;E.source.fromUser?h=g1(n,t,E.path,E.snap,i,o,l):((0,P.hu)(E.source.fromServer,"Unknown source."),_=E.source.tagged||t.serverCache.isFiltered()&&!Mt(E.path),h=hD(n,t,E.path,E.snap,i,o,_,l))}else if(e.type===Ho.MERGE){const E=e;E.source.fromUser?h=function Jx(n,t,e,i,o,l,h){let _=t;return i.foreach((b,E)=>{const A=xn(e,b);IA(t,At(A))&&(_=g1(n,_,A,E,o,l,h))}),i.foreach((b,E)=>{const A=xn(e,b);IA(t,At(A))||(_=g1(n,_,A,E,o,l,h))}),_}(n,t,E.path,E.children,i,o,l):((0,P.hu)(E.source.fromServer,"Unknown source."),_=E.source.tagged||t.serverCache.isFiltered(),h=_1(n,t,E.path,E.children,i,o,_,l))}else if(e.type===Ho.ACK_USER_WRITE){const E=e;h=E.revert?function tk(n,t,e,i,o,l){let h;if(null!=dD(i,e))return t;{const _=new p1(i,t,o),b=t.eventCache.getNode();let E;if(Mt(e)||".priority"===At(e)){let A;if(t.serverCache.isFullyInitialized())A=uD(i,Mh(t));else{const R=t.serverCache.getNode();(0,P.hu)(R instanceof Dt,"serverChildren would be complete if leaf node"),A=h1(i,R)}A=A,E=n.filter.updateFullNode(b,A,l)}else{const A=At(e);let R=f1(i,A,t.serverCache);null==R&&t.serverCache.isCompleteForChild(A)&&(R=b.getImmediateChild(A)),E=null!=R?n.filter.updateChild(b,A,R,cn(e),_,l):t.eventCache.getNode().hasChild(A)?n.filter.updateChild(b,A,Dt.EMPTY_NODE,cn(e),_,l):b,E.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=uD(i,Mh(t)),h.isLeafNode()&&(E=n.filter.updateFullNode(E,h,l)))}return h=t.serverCache.isFullyInitialized()||null!=dD(i,Wt()),Bm(t,E,h,n.filter.filtersNodes())}}(n,t,E.path,i,o,l):function Xx(n,t,e,i,o,l,h){if(null!=dD(o,e))return t;const _=t.serverCache.isFiltered(),b=t.serverCache;if(null!=i.value){if(Mt(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return hD(n,t,e,b.getNode().getChild(e),o,l,_,h);if(Mt(e)){let E=new yn(null);return b.getNode().forEachChild(Nl,(A,R)=>{E=E.set(new Qt(A),R)}),_1(n,t,e,E,o,l,_,h)}return t}{let E=new yn(null);return i.foreach((A,R)=>{const L=xn(e,A);b.isCompleteForPath(L)&&(E=E.set(A,b.getNode().getChild(L)))}),_1(n,t,e,E,o,l,_,h)}}(n,t,E.path,E.affectedTree,i,o,l)}else{if(e.type!==Ho.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+e.type);h=function ek(n,t,e,i,o){const l=t.serverCache;return TA(n,gA(t,l.getNode(),l.isFullyInitialized()||Mt(e),l.isFiltered()),e,i,EA,o)}(n,t,e.path,i,l)}const b=l.getChanges();return function Qx(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=lD(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&e.push(dA(lD(t)))}}(t,h,b),{viewCache:h,changes:b}}(n.processor_,o,t,e,i);return function qx(n,t){(0,P.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,l.viewCache),(0,P.hu)(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=l.viewCache,OA(n,l.changes,l.viewCache.eventCache.getNode(),null)}function OA(n,t,e,i){return function Nx(n,t,e,i){const o=[],l=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&l.push(function px(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),Um(n,o,"child_removed",t,i,e),Um(n,o,"child_added",t,i,e),Um(n,o,"child_moved",l,i,e),Um(n,o,"child_changed",t,i,e),Um(n,o,"value",t,i,e),o}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let fD,gD;class RA{constructor(){this.views=new Map}}function m1(n,t,e,i){const o=t.source.queryId;if(null!==o){const l=n.views.get(o);return(0,P.hu)(null!=l,"SyncTree gave us an op for an invalid query."),MA(l,t,e,i)}{let l=[];for(const h of n.views.values())l=l.concat(MA(h,t,e,i));return l}}function xA(n,t,e,i,o){const h=n.views.get(t._queryIdentifier);if(!h){let _=uD(e,o?i:null),b=!1;_?b=!0:i instanceof Dt?(_=h1(e,i),b=!1):(_=Dt.EMPTY_NODE,b=!1);const E=aD(new rd(_,b,!1),new rd(i,o,!1));return new nk(t,E)}return h}function kA(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function od(n,t){let e=null;for(const i of n.views.values())e=e||sk(i,t);return e}function PA(n,t){return t._queryParams.loadsAllData()?pD(n):n.views.get(t._queryIdentifier)}function FA(n,t){return null!=PA(n,t)}function ad(n){return null!=pD(n)}function pD(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let gk=1;class LA{constructor(t){this.listenProvider_=t,this.syncPointTree_=new yn(null),this.pendingWriteTree_=function $x(){return{visibleWrites:Aa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function v1(n,t,e,i,o){return function Rx(n,t,e,i,o){(0,P.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:o}),o&&(n.visibleWrites=Vm(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,o),o?Jp(n,new Ah({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ld(n,t,e=!1){const i=function kx(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Px(n,t){const e=n.allWrites.findIndex(_=>_.writeId===t);(0,P.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let o=i.visible,l=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const _=n.allWrites[h];_.visible&&(h>=e&&Fx(_,i.path)?o=!1:jo(i.path,_.path)&&(l=!0)),h--}return!!o&&(l?(function Lx(n){n.visibleWrites=yA(n.allWrites,Ux,Wt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=_A(n.visibleWrites,i.path):Zi(i.children,b=>{n.visibleWrites=_A(n.visibleWrites,xn(i.path,b))}),!0))}(n.pendingWriteTree_,t)){let l=new yn(null);return null!=i.snap?l=l.set(Wt(),!0):Zi(i.children,h=>{l=l.set(new Qt(h),!0)}),Jp(n,new oD(i.path,l,e))}return[]}function jm(n,t,e){return Jp(n,new Ah({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function y1(n,t,e,i){const o=t._path,l=n.syncPointTree_.get(o);let h=[];if(l&&("default"===t._queryIdentifier||FA(l,t))){const _=function hk(n,t,e,i){const o=t._queryIdentifier,l=[];let h=[];const _=ad(n);if("default"===o)for(const[b,E]of n.views.entries())h=h.concat(AA(E,e,i)),NA(E)&&(n.views.delete(b),E.query._queryParams.loadsAllData()||l.push(E.query));else{const b=n.views.get(o);b&&(h=h.concat(AA(b,e,i)),NA(b)&&(n.views.delete(o),b.query._queryParams.loadsAllData()||l.push(b.query)))}return _&&!ad(n)&&l.push(new(function ck(){return(0,P.hu)(fD,"Reference.ts has not been loaded"),fD}())(t._repo,t._path)),{removed:l,events:h}}(l,t,e,i);(function uk(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const b=_.removed;h=_.events;const E=-1!==b.findIndex(R=>R._queryParams.loadsAllData()),A=n.syncPointTree_.findOnPath(o,(R,L)=>ad(L));if(E&&!A){const R=n.syncPointTree_.subtree(o);if(!R.isEmpty()){const L=function wk(n){return n.fold((t,e,i)=>{if(e&&ad(e))return[pD(e)];{let o=[];return e&&(o=kA(e)),Zi(i,(l,h)=>{o=o.concat(h)}),o}})}(R);for(let z=0;z<L.length;++z){const ue=L[z],we=ue.query,Oe=jA(n,ue);n.listenProvider_.startListening(Hm(we),mD(n,we),Oe.hashFn,Oe.onComplete)}}}!A&&b.length>0&&!i&&(E?n.listenProvider_.stopListening(Hm(t),null):b.forEach(R=>{const L=n.queryToTagMap.get(vD(R));n.listenProvider_.stopListening(Hm(R),L)})),function Ek(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const o=vD(i),l=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(l)}}}(n,b)}return h}function UA(n,t,e){const i=t._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(i,(R,L)=>{const z=Yr(R,i);o=o||od(L,z),l=l||ad(L)});let _,h=n.syncPointTree_.get(i);h?(l=l||ad(h),o=o||od(h,Wt())):(h=new RA,n.syncPointTree_=n.syncPointTree_.set(i,h)),null!=o?_=!0:(_=!1,o=Dt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((L,z)=>{const ue=od(z,Wt());ue&&(o=o.updateImmediateChild(L,ue))}));const b=FA(h,t);if(!b&&!t._queryParams.loadsAllData()){const R=vD(t);(0,P.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const L=function Tk(){return gk++}();n.queryToTagMap.set(R,L),n.tagToQueryMap.set(L,R)}let A=function dk(n,t,e,i,o,l){const h=xA(n,t,i,o,l);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function ok(n,t){n.eventRegistrations_.push(t)}(h,e),function ak(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(vn,(l,h)=>{i.push(Yp(l,h))}),e.isFullyInitialized()&&i.push(dA(e.getNode())),OA(n,i,e.getNode(),t)}(h,e)}(h,t,e,cD(n.pendingWriteTree_,i),o,_);if(!b&&!l){const R=PA(h,t);A=A.concat(function Ik(n,t,e){const i=t._path,o=mD(n,t),l=jA(n,e),h=n.listenProvider_.startListening(Hm(t),o,l.hashFn,l.onComplete),_=n.syncPointTree_.subtree(i);if(o)(0,P.hu)(!ad(_.value),"If we're adding a query, it shouldn't be shadowed");else{const b=_.fold((E,A,R)=>{if(!Mt(E)&&A&&ad(A))return[pD(A).query];{let L=[];return A&&(L=L.concat(kA(A).map(z=>z.query))),Zi(R,(z,ue)=>{L=L.concat(ue)}),L}});for(let E=0;E<b.length;++E){const A=b[E];n.listenProvider_.stopListening(Hm(A),mD(n,A))}}return h}(n,t,R))}return A}function _D(n,t,e){const o=n.pendingWriteTree_,l=n.syncPointTree_.findOnPath(t,(h,_)=>{const E=od(_,Yr(h,t));if(E)return E});return bA(o,t,l,e,!0)}function Jp(n,t){return BA(t,n.syncPointTree_,null,cD(n.pendingWriteTree_,Wt()))}function BA(n,t,e,i){if(Mt(n.path))return VA(n,t,e,i);{const o=t.get(Wt());null==e&&null!=o&&(e=od(o,Wt()));let l=[];const h=At(n.path),_=n.operationForChild(h),b=t.children.get(h);if(b&&_){const E=e?e.getImmediateChild(h):null,A=CA(i,h);l=l.concat(BA(_,b,E,A))}return o&&(l=l.concat(m1(o,n,i,e))),l}}function VA(n,t,e,i){const o=t.get(Wt());null==e&&null!=o&&(e=od(o,Wt()));let l=[];return t.children.inorderTraversal((h,_)=>{const b=e?e.getImmediateChild(h):null,E=CA(i,h),A=n.operationForChild(h);A&&(l=l.concat(VA(A,_,b,E)))}),o&&(l=l.concat(m1(o,n,i,e))),l}function jA(n,t){const e=t.query,i=mD(n,e);return{hashFn:()=>(function ik(n){return n.viewCache_.serverCache.getNode()}(t)||Dt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function yk(n,t,e){const i=b1(n,e);if(i){const o=D1(i),l=o.path,h=o.queryId,_=Yr(l,t);return C1(n,l,new Lm(a1(h),_))}return[]}(n,e._path,i):function vk(n,t){return Jp(n,new Lm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const l=function mR(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(o,e);return y1(n,e,null,l)}}}}function mD(n,t){const e=vD(t);return n.queryToTagMap.get(e)}function vD(n){return n._path.toString()+"$"+n._queryIdentifier}function b1(n,t){return n.tagToQueryMap.get(t)}function D1(n){const t=n.indexOf("$");return(0,P.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Qt(n.substr(0,t))}}function C1(n,t,e){const i=n.syncPointTree_.get(t);return(0,P.hu)(i,"Missing sync point for query tag that we're tracking"),m1(i,e,cD(n.pendingWriteTree_,t),null)}function Hm(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function pk(){return(0,P.hu)(gD,"Reference.ts has not been loaded"),gD}())(n._repo,n._path):n}class w1{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new w1(e)}node(){return this.node_}}class E1{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=xn(this.path_,t);return new E1(this.syncTree_,e)}node(){return _D(this.syncTree_,this.path_)}}const HA=function(n,t,e){return n&&"object"==typeof n?((0,P.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Nk(n[".sv"],t,e):"object"==typeof n[".sv"]?Ak(n[".sv"],t):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Nk=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,P.hu)(!1,"Unexpected server value: "+n)},Ak=function(n,t,e){n.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,P.hu)(!1,"Unexpected increment value: "+i);const o=t.node();if((0,P.hu)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const h=o.getValue();return"number"!=typeof h?i:h+i},GA=function(n,t,e,i){return I1(t,new E1(e,n),i)},T1=function(n,t,e){return I1(n,new w1(t),e)};function I1(n,t,e){const i=n.getPriority().val(),o=HA(i,t.getImmediateChild(".priority"),e);let l;if(n.isLeafNode()){const h=n,_=HA(h.getValue(),t,e);return _!==h.getValue()||o!==h.getPriority().val()?new Wp(_,Bn(o)):n}{const h=n;return l=h,o!==h.getPriority().val()&&(l=l.updatePriority(new Wp(o))),h.forEachChild(vn,(_,b)=>{const E=I1(b,t.getImmediateChild(_),e);E!==b&&(l=l.updateImmediateChild(_,E))}),l}}class S1{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function yD(n,t){let e=t instanceof Qt?t:new Qt(t),i=n,o=At(e);for(;null!==o;){const l=(0,P.DV)(i.node.children,o)||{children:{},childCount:0};i=new S1(o,i,l),e=cn(e),o=At(e)}return i}function Rh(n){return n.node.value}function N1(n,t){n.node.value=t,A1(n)}function $A(n){return n.node.childCount>0}function bD(n,t){Zi(n.node.children,(e,i)=>{t(new S1(e,n,i))})}function WA(n,t,e,i){e&&!i&&t(n),bD(n,o=>{WA(o,t,!0,i)}),e&&i&&t(n)}function Gm(n){return new Qt(null===n.parent?n.name:Gm(n.parent)+"/"+n.name)}function A1(n){null!==n.parent&&function Rk(n,t,e){const i=function Mk(n){return void 0===Rh(n)&&!$A(n)}(e),o=(0,P.r3)(n.node.children,t);i&&o?(delete n.node.children[t],n.node.childCount--,A1(n)):!i&&!o&&(n.node.children[t]=e.node,n.node.childCount++,A1(n))}(n.parent,n.name,n)}const xk=/[\[\].#$\/\u0000-\u001F\u007F]/,kk=/[\[\].#$\u0000-\u001F\u007F]/,M1=10485760,DD=function(n){return"string"==typeof n&&0!==n.length&&!xk.test(n)},zA=function(n){return"string"==typeof n&&0!==n.length&&!kk.test(n)},$m=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Zb(n)||n&&"object"==typeof n&&(0,P.r3)(n,".sv")},Al=function(n,t,e,i){i&&void 0===t||Wm((0,P.gK)(n,"value"),t,e)},Wm=function(n,t,e){const i=e instanceof Qt?new YR(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Sh(i));if("function"==typeof t)throw new Error(n+"contains a function "+Sh(i)+" with contents = "+t.toString());if(Zb(t))throw new Error(n+"contains "+t.toString()+" "+Sh(i));if("string"==typeof t&&t.length>M1/3&&(0,P.ug)(t)>M1)throw new Error(n+"contains a string greater than "+M1+" utf8 bytes "+Sh(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,l=!1;if(Zi(t,(h,_)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(l=!0,!DD(h)))throw new Error(n+" contains an invalid key ("+h+") "+Sh(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function qR(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,P.ug)(t),JN(n)})(i,h),Wm(n,_,i),function KR(n){const t=n.parts_.pop();n.byteLength_-=(0,P.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),o&&l)throw new Error(n+' contains ".value" child '+Sh(i)+" in addition to actual children.")}},ZA=function(n,t,e,i){if(i&&void 0===t)return;const o=(0,P.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const l=[];Zi(t,(h,_)=>{const b=new Qt(h);if(Wm(o,_,xn(e,b)),".priority"===WT(b)&&!$m(_))throw new Error(o+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(b)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const l=Mm(i);for(let h=0;h<l.length;h++)if((".priority"!==l[h]||h!==l.length-1)&&!DD(l[h]))throw new Error(n+"contains an invalid key ("+l[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ZR);let o=null;for(e=0;e<t.length;e++){if(i=t[e],null!==o&&jo(o,i))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,l)},O1=function(n,t,e){if(!e||void 0!==t){if(Zb(t))throw new Error((0,P.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!$m(t))throw new Error((0,P.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zm=function(n,t,e,i){if(!(i&&void 0===e||DD(e)))throw new Error((0,P.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zm=function(n,t,e,i){if(!(i&&void 0===e||zA(e)))throw new Error((0,P.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Go=function(n,t){if(".info"===At(t))throw new Error(n+" failed = Can't modify data under /.info/")},YA=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!DD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),zA(n)}(e))throw new Error((0,P.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Uk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function CD(n,t){let e=null;for(let i=0;i<t.length;i++){const o=t[i],l=o.getPath();null!==e&&!zT(l,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:l}),e.events.push(o)}e&&n.eventLists_.push(e)}function R1(n,t,e){CD(n,e),qA(n,i=>zT(i,t))}function $o(n,t,e){CD(n,e),qA(n,i=>jo(i,t)||jo(t,i))}function qA(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const o=n.eventLists_[i];o&&(t(o.path)?(Bk(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Bk(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Th&&zi("event: "+e.toString()),Gp(i)}}}const KA="repo_interrupt";class jk{constructor(t,e,i,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Uk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sD(),this.transactionQueueTree_=new S1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QA(n){const e=n.infoData_.getNode(new Qt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ym(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:QA(n)})}function JA(n,t,e,i,o){n.dataUpdateCount++;const l=new Qt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(o)if(i){const b=(0,P.UI)(e,E=>Bn(E));h=function Dk(n,t,e,i){const o=b1(n,i);if(o){const l=D1(o),h=l.path,_=l.queryId,b=Yr(h,t),E=yn.fromObject(e);return C1(n,h,new Kp(a1(_),b,E))}return[]}(n.serverSyncTree_,l,b,o)}else{const b=Bn(e);h=function bk(n,t,e,i){const o=b1(n,i);if(null!=o){const l=D1(o),h=l.path,_=l.queryId,b=Yr(h,t);return C1(n,h,new Ah(a1(_),b,e))}return[]}(n.serverSyncTree_,l,b,o)}else if(i){const b=(0,P.UI)(e,E=>Bn(E));h=function mk(n,t,e){const i=yn.fromObject(e);return Jp(n,new Kp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,l,b)}else{const b=Bn(e);h=jm(n.serverSyncTree_,l,b)}let _=l;h.length>0&&(_=eg(n,l)),$o(n.eventQueue_,_,h)}function XA(n,t){x1(n,"connected",t),!1===t&&function zk(n){Xp(n,"onDisconnectEvents");const t=Ym(n),e=sD();r1(n.onDisconnect_,Wt(),(o,l)=>{const h=GA(o,l,n.serverSyncTree_,t);qp(e,o,h)});let i=[];r1(e,Wt(),(o,l)=>{i=i.concat(jm(n.serverSyncTree_,o,l));const h=L1(n,o);eg(n,h)}),n.onDisconnect_=sD(),$o(n.eventQueue_,Wt(),i)}(n)}function x1(n,t,e){const i=new Qt("/.info/"+t),o=Bn(e);n.infoData_.updateSnapshot(i,o);const l=jm(n.infoSyncTree_,i,o);$o(n.eventQueue_,i,l)}function wD(n){return n.nextWriteId_++}function k1(n,t,e,i,o){Xp(n,"set",{path:t.toString(),value:e,priority:i});const l=Ym(n),h=Bn(e,i),_=_D(n.serverSyncTree_,t),b=T1(h,_,l),E=wD(n),A=v1(n.serverSyncTree_,t,b,E,!0);CD(n.eventQueue_,A),n.server_.put(t.toString(),h.val(!0),(L,z)=>{const ue="ok"===L;ue||Ir("set at "+t+" failed: "+L);const we=ld(n.serverSyncTree_,E,!ue);$o(n.eventQueue_,t,we),cd(0,o,L,z)});const R=L1(n,t);eg(n,R),$o(n.eventQueue_,R,[])}function Zk(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,o)=>{"ok"===i&&i1(n.onDisconnect_,t),cd(0,e,i,o)})}function eM(n,t,e,i){const o=Bn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,h)=>{"ok"===l&&qp(n.onDisconnect_,t,o),cd(0,i,l,h)})}function P1(n,t,e){let i;i=".info"===At(t._path)?y1(n.infoSyncTree_,t,e):y1(n.serverSyncTree_,t,e),R1(n.eventQueue_,t._path,i)}function tM(n){n.persistentConnection_&&n.persistentConnection_.interrupt(KA)}function Xp(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),zi(e,...t)}function cd(n,t,e,i){t&&Gp(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let l=o;i&&(l+=": "+i);const h=new Error(l);h.code=o,t(h)}})}function F1(n,t,e){return _D(n.serverSyncTree_,t,e)||Dt.EMPTY_NODE}function ED(n,t=n.transactionQueueTree_){if(t||TD(n,t),Rh(t)){const e=iM(n,t);(0,P.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function Xk(n,t,e){const i=e.map(E=>E.currentWriteId),o=F1(n,t,i);let l=o;const h=o.hash();for(let E=0;E<e.length;E++){const A=e[E];(0,P.hu)(0===A.status,"tryToSendTransactionQueue_: items in queue should all be run."),A.status=1,A.retryCount++;const R=Yr(t,A.path);l=l.updateChild(R,A.currentOutputSnapshotRaw)}const _=l.val(!0),b=t;n.server_.put(b.toString(),_,E=>{Xp(n,"transaction put response",{path:b.toString(),status:E});let A=[];if("ok"===E){const R=[];for(let L=0;L<e.length;L++)e[L].status=2,A=A.concat(ld(n.serverSyncTree_,e[L].currentWriteId)),e[L].onComplete&&R.push(()=>e[L].onComplete(null,!0,e[L].currentOutputSnapshotResolved)),e[L].unwatcher();TD(n,yD(n.transactionQueueTree_,t)),ED(n,n.transactionQueueTree_),$o(n.eventQueue_,t,A);for(let L=0;L<R.length;L++)Gp(R[L])}else{if("datastale"===E)for(let R=0;R<e.length;R++)e[R].status=3===e[R].status?4:0;else{Ir("transaction at "+b.toString()+" failed: "+E);for(let R=0;R<e.length;R++)e[R].status=4,e[R].abortReason=E}eg(n,t)}},h)}(n,Gm(t),e)}else $A(t)&&bD(t,e=>{ED(n,e)})}function eg(n,t){const e=nM(n,t),i=Gm(e);return function eP(n,t,e){if(0===t.length)return;const i=[];let o=[];const h=t.filter(_=>0===_.status).map(_=>_.currentWriteId);for(let _=0;_<t.length;_++){const b=t[_],E=Yr(e,b.path);let R,A=!1;if((0,P.hu)(null!==E,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)A=!0,R=b.abortReason,o=o.concat(ld(n.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)A=!0,R="maxretry",o=o.concat(ld(n.serverSyncTree_,b.currentWriteId,!0));else{const L=F1(n,b.path,h);b.currentInputSnapshot=L;const z=t[_].update(L.val());if(void 0!==z){Wm("transaction failed: Data returned ",z,b.path);let ue=Bn(z);"object"==typeof z&&null!=z&&(0,P.r3)(z,".priority")||(ue=ue.updatePriority(L.getPriority()));const Oe=b.currentWriteId,Xe=Ym(n),He=T1(ue,L,Xe);b.currentOutputSnapshotRaw=ue,b.currentOutputSnapshotResolved=He,b.currentWriteId=wD(n),h.splice(h.indexOf(Oe),1),o=o.concat(v1(n.serverSyncTree_,b.path,He,b.currentWriteId,b.applyLocally)),o=o.concat(ld(n.serverSyncTree_,Oe,!0))}else A=!0,R="nodata",o=o.concat(ld(n.serverSyncTree_,b.currentWriteId,!0))}$o(n.eventQueue_,e,o),o=[],A&&(t[_].status=2,setTimeout(t[_].unwatcher,Math.floor(0)),t[_].onComplete&&i.push("nodata"===R?()=>t[_].onComplete(null,!1,t[_].currentInputSnapshot):()=>t[_].onComplete(new Error(R),!1,null)))}TD(n,n.transactionQueueTree_);for(let _=0;_<i.length;_++)Gp(i[_]);ED(n,n.transactionQueueTree_)}(n,iM(n,e),i),i}function nM(n,t){let e,i=n.transactionQueueTree_;for(e=At(t);null!==e&&void 0===Rh(i);)i=yD(i,e),e=At(t=cn(t));return i}function iM(n,t){const e=[];return rM(n,t,e),e.sort((i,o)=>i.order-o.order),e}function rM(n,t,e){const i=Rh(t);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);bD(t,o=>{rM(n,o,e)})}function TD(n,t){const e=Rh(t);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,N1(t,e.length>0?e:void 0)}bD(t,i=>{TD(n,i)})}function L1(n,t){const e=Gm(nM(n,t)),i=yD(n.transactionQueueTree_,t);return function Ok(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,o=>{U1(n,o)}),U1(n,i),WA(i,o=>{U1(n,o)}),e}function U1(n,t){const e=Rh(t);if(e){const i=[];let o=[],l=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,P.hu)(l===h-1,"All SENT items should be at beginning of queue."),l=h,e[h].status=3,e[h].abortReason="set"):((0,P.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(ld(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&i.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===l?N1(t,void 0):e.length=l+1,$o(n.eventQueue_,Gm(t),o);for(let h=0;h<i.length;h++)Gp(i[h])}}const B1=function(n,t){const e=iP(n),i=e.namespace;return"firebase.com"===e.domain&&Il(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Il("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ir("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new BT(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Qt(e.pathString)}},iP=function(n){let t="",e="",i="",o="",l="",h=!0,_="https",b=443;if("string"==typeof n){let E=n.indexOf("//");E>=0&&(_=n.substring(0,E-1),n=n.substring(E+2));let A=n.indexOf("/");-1===A&&(A=n.length);let R=n.indexOf("?");-1===R&&(R=n.length),t=n.substring(0,Math.min(A,R)),A<R&&(o=function tP(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(l){}t+="/"+o}return t}(n.substring(A,R)));const L=function nP(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ir(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,R)));E=t.indexOf(":"),E>=0?(h="https"===_||"wss"===_,b=parseInt(t.substring(E+1),10)):E=t.length;const z=t.slice(0,E);if("localhost"===z.toLowerCase())e="localhost";else if(z.split(".").length<=2)e=z;else{const ue=t.indexOf(".");i=t.substring(0,ue).toLowerCase(),e=t.substring(ue+1),l=i}"ns"in L&&(l=L.ns)}return{host:t,port:b,domain:e,subdomain:i,secure:h,scheme:_,pathString:o,namespace:l}};class sM{constructor(t,e,i,o){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Pz)(this.snapshot.exportVal())}}class oM{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class aM{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class lM{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new P.BH;return Zk(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Go("OnDisconnect.remove",this._path);const t=new P.BH;return eM(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Go("OnDisconnect.set",this._path),Al("OnDisconnect.set",t,this._path,!1);const e=new P.BH;return eM(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Go("OnDisconnect.setWithPriority",this._path),Al("OnDisconnect.setWithPriority",t,this._path,!1),O1("OnDisconnect.setWithPriority",e,!1);const i=new P.BH;return function Yk(n,t,e,i,o){const l=Bn(e,i);n.server_.onDisconnectPut(t.toString(),l.val(!0),(h,_)=>{"ok"===h&&qp(n.onDisconnect_,t,l),cd(0,o,h,_)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Go("OnDisconnect.update",this._path),ZA("OnDisconnect.update",t,this._path,!1);const e=new P.BH;return function qk(n,t,e,i){if((0,P.xb)(e))return zi("onDisconnect().update() called with empty data.  Don't do anything."),void cd(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,l)=>{"ok"===o&&Zi(e,(h,_)=>{const b=Bn(_);qp(n.onDisconnect_,xn(t,h),b)}),cd(0,i,o,l)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ss{constructor(t,e,i,o){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return Mt(this._path)?null:WT(this._path)}get ref(){return new Wo(this._repo,this._path)}get _queryIdentifier(){const t=fA(this._queryParams),e=FT(t);return"{}"===e?"default":e}get _queryObject(){return fA(this._queryParams)}isEqual(t){if(!((t=(0,P.m9)(t))instanceof Ss))return!1;const e=this._repo===t._repo,i=zT(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function zR(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function ID(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ud(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Nl){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==xc)throw new Error(i);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==Sl)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===vn){if(null!=t&&!$m(t)||null!=e&&!$m(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(n.getIndex()instanceof QT||n.getIndex()===JT,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function SD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Wo extends Ss{constructor(t,e){super(t,e,new nD,!1)}get parent(){const t=QN(this._path);return null===t?null:new Wo(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class xh{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Qt(t),i=kh(this.ref,t);return new xh(this._node.getChild(e),i,vn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>t(new xh(o,kh(this.ref,i),vn)))}hasChild(t){const e=new Qt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cM(n,t){return(n=(0,P.m9)(n))._checkNotDeleted("ref"),void 0!==t?kh(n._root,t):n._root}function uM(n,t){(n=(0,P.m9)(n))._checkNotDeleted("refFromURL");const e=B1(t,n._repo.repoInfo_.nodeAdmin);YA("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Il("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),cM(n,e.path.toString())}function kh(n,t){return null===At((n=(0,P.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Zm("child","path",e,!1)):Zm("child","path",t,!1),new Wo(n._repo,xn(n._path,t));var e}function V1(n,t){n=(0,P.m9)(n),Go("set",n._path),Al("set",t,n._path,!1);const e=new P.BH;return k1(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function lP(n,t){ZA("update",t,n._path,!1);const e=new P.BH;return function Wk(n,t,e,i){Xp(n,"update",{path:t.toString(),value:e});let o=!0;const l=Ym(n),h={};if(Zi(e,(_,b)=>{o=!1,h[_]=GA(xn(t,_),Bn(b),n.serverSyncTree_,l)}),o)zi("update() called with empty data.  Don't do anything."),cd(0,i,"ok",void 0);else{const _=wD(n),b=function _k(n,t,e,i){!function xx(n,t,e,i){(0,P.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=c1(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const o=yn.fromObject(e);return Jp(n,new Kp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,h,_);CD(n.eventQueue_,b),n.server_.merge(t.toString(),e,(E,A)=>{const R="ok"===E;R||Ir("update at "+t+" failed: "+E);const L=ld(n.serverSyncTree_,_,!R),z=L.length>0?eg(n,t):t;$o(n.eventQueue_,z,L),cd(0,i,E,A)}),Zi(e,E=>{const A=L1(n,xn(t,E));eg(n,A)}),$o(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function cP(n){return function $k(n,t){const e=function Ck(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(E,A)=>{const R=Yr(E,e);i=i||od(A,R)});let o=n.syncPointTree_.get(e);o?i=i||od(o,Wt()):(o=new RA,n.syncPointTree_=n.syncPointTree_.set(e,o));const l=null!=i,h=l?new rd(i,!0,!1):null;return function rk(n){return lD(n.viewCache_)}(xA(o,t,cD(n.pendingWriteTree_,t._path),l?h.getNode():Dt.EMPTY_NODE,l))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const o=Bn(i).withIndex(t._queryParams.getIndex()),l=jm(n.serverSyncTree_,t._path,o);return R1(n.eventQueue_,t._path,l),Promise.resolve(o)},i=>(Xp(n,"get for query "+(0,P.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,P.m9)(n))._repo,n).then(t=>new xh(t,new Wo(n._repo,n._path),n._queryParams.getIndex()))}class ND{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new sM("value",this,new xh(t.snapshotNode,new Wo(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new oM(this,t,e):null}matches(t){return t instanceof ND&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class AD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new oM(this,t,e):null}createEvent(t,e){(0,P.hu)(null!=t.childName,"Child events should have a childName.");const i=kh(new Wo(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new sM(t.type,this,new xh(t.snapshotNode,i,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof AD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function qm(n,t,e,i,o){let l;if("object"==typeof i&&(l=void 0,o=i),"function"==typeof i&&(l=i),o&&o.onlyOnce){const b=e,E=(A,R)=>{P1(n._repo,n,_),b(A,R)};E.userCallback=e.userCallback,E.context=e.context,e=E}const h=new aM(e,l||void 0),_="value"===t?new ND(h):new AD(t,h);return function Kk(n,t,e){let i;i=".info"===At(t._path)?UA(n.infoSyncTree_,t,e):UA(n.serverSyncTree_,t,e),R1(n.eventQueue_,t._path,i)}(n._repo,n,_),()=>P1(n._repo,n,_)}function j1(n,t,e,i){return qm(n,"value",t,e,i)}function dM(n,t,e,i){return qm(n,"child_added",t,e,i)}function hM(n,t,e,i){return qm(n,"child_changed",t,e,i)}function fM(n,t,e,i){return qm(n,"child_moved",t,e,i)}function pM(n,t,e,i){return qm(n,"child_removed",t,e,i)}function gM(n,t,e){let i=null;const o=e?new aM(e):null;"value"===t?i=new ND(o):t&&(i=new AD(t,o)),P1(n._repo,n,i)}class Ma{}class _M extends Ma{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Al("endAt",this._value,t._path,!0);const e=n1(t._queryParams,this._value,this._key);if(SD(e),ud(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ss(t._repo,t._path,e,t._orderByCalled)}}class dP extends Ma{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Al("endBefore",this._value,t._path,!1);const e=function bx(n,t,e){let i,o;return n.index_===Nl?("string"==typeof t&&(t=uA(t)),o=n1(n,t,e)):(i=null==e?xc:uA(e),o=n1(n,t,i)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(SD(e),ud(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ss(t._repo,t._path,e,t._orderByCalled)}}class mM extends Ma{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Al("startAt",this._value,t._path,!0);const e=t1(t._queryParams,this._value,this._key);if(SD(e),ud(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ss(t._repo,t._path,e,t._orderByCalled)}}class pP extends Ma{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Al("startAfter",this._value,t._path,!1);const e=function yx(n,t,e){let i;if(n.index_===Nl)"string"==typeof t&&(t=cA(t)),i=t1(n,t,e);else{let o;o=null==e?Sl:cA(e),i=t1(n,t,o)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(SD(e),ud(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ss(t._repo,t._path,e,t._orderByCalled)}}class _P extends Ma{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ss(t._repo,t._path,function mx(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class vP extends Ma{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ss(t._repo,t._path,function vx(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class bP extends Ma{constructor(t){super(),this._path=t}_apply(t){ID(t,"orderByChild");const e=new Qt(this._path);if(Mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new QT(e),o=iD(t._queryParams,i);return ud(o),new Ss(t._repo,t._path,o,!0)}}class CP extends Ma{_apply(t){ID(t,"orderByKey");const e=iD(t._queryParams,Nl);return ud(e),new Ss(t._repo,t._path,e,!0)}}class EP extends Ma{_apply(t){ID(t,"orderByPriority");const e=iD(t._queryParams,vn);return ud(e),new Ss(t._repo,t._path,e,!0)}}class IP extends Ma{_apply(t){ID(t,"orderByValue");const e=iD(t._queryParams,JT);return ud(e),new Ss(t._repo,t._path,e,!0)}}class NP extends Ma{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Al("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _M(this._value,this._key)._apply(new mM(this._value,this._key)._apply(t))}}function Oa(n,...t){let e=(0,P.m9)(n);for(const i of t)e=i._apply(e);return e}(function lk(n){(0,P.hu)(!fD,"__referenceConstructor has already been defined"),fD=n})(Wo),function fk(n){(0,P.hu)(!gD,"__referenceConstructor has already been defined"),gD=n}(Wo);const H1={};function yM(n,t,e,i,o){let l=i||n.options.databaseURL;void 0===l&&(n.options.projectId||Il("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zi("Using default host for project ",n.options.projectId),l=`${n.options.projectId}-default-rtdb.firebaseio.com`);let b,E,h=B1(l,o),_=h.repoInfo;"undefined"!=typeof process&&process.env&&(E=process.env.FIREBASE_DATABASE_EMULATOR_HOST),E?(b=!0,l=`http://${E}?ns=${_.namespace}`,h=B1(l,o),_=h.repoInfo):b=!h.repoInfo.secure;const A=o&&b?new Am(Am.OWNER):new DR(n.name,n.options,t);YA("Invalid Firebase Database URL",h),Mt(h.path)||Il("Database URL must point to the root of a Firebase Database (not including a child path).");const R=function xP(n,t,e,i){let o=H1[t.name];o||(o={},H1[t.name]=o);let l=o[n.toURLString()];return l&&Il("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new jk(n,false,e,i),o[n.toURLString()]=l,l}(_,n,A,new bR(n.name,e));return new PP(R,n)}class PP{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Hk(n,t,e){if(n.stats_=HT(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new rD(n.repoInfo_,(i,o,l,h)=>{JA(n,i,o,l,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>XA(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Nh(n.repoInfo_,t,(i,o,l,h)=>{JA(n,i,o,l,h)},i=>{XA(n,i)},i=>{!function Gk(n,t){Zi(t,(e,i)=>{x1(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function ER(n,t){const e=n.toString();return jT[e]||(jT[e]=t()),jT[e]}(n.repoInfo_,()=>new Ix(n.stats_,n.server_)),n.infoData_=new Dx,n.infoSyncTree_=new LA({startListening:(i,o,l,h)=>{let _=[];const b=n.infoData_.getNode(i._path);return b.isEmpty()||(_=jm(n.infoSyncTree_,i._path,b),setTimeout(()=>{h("ok")},0)),_},stopListening:()=>{}}),x1(n,"connected",!1),n.serverSyncTree_=new LA({startListening:(i,o,l,h)=>(n.server_.listen(i,l,o,(_,b)=>{const E=h(_,b);$o(n.eventQueue_,i._path,E)}),[]),stopListening:(i,o)=>{n.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wo(this._repo,Wt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function RP(n,t){const e=H1[t];(!e||e[n.key]!==n)&&Il(`Database ${t}(${n.repoInfo_}) has already been deleted.`),tM(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Il("Cannot call "+t+" on a deleted database.")}}function bM(){BN.IS_TRANSPORT_INITIALIZED&&Ir("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function FP(){bM(),nd.forceDisallow()}function LP(){bM(),$p.forceDisallow(),nd.forceAllow()}function jP(n,t){yN(n,t)}const GP={".sv":"timestamp"};class zP{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Nh.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Nh.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function HP(n){pN(Uo.SDK_VERSION),(0,Uo._registerComponent)(new Tl.wA("database",(t,{instanceIdentifier:e})=>yM(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Uo.registerVersion)(hN,"0.13.0",n),(0,Uo.registerVersion)(hN,"0.13.0","esm2017")}();const KP=new hm.Yd("@firebase/database-compat"),DM=function(n){KP.warn("FIREBASE WARNING: "+n)};class XP{constructor(t){this._delegate=t}cancel(t){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(t,e);return i&&o.then(()=>i(null),l=>i(l)),o}update(t,e){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,DM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),o=>e(o)),i}}class eF{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class dd{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Zm("DataSnapshot.child","path",t,!1),new dd(this._database,this._delegate.child(t))}hasChild(t){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Zm("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new dd(this._database,e)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new Xs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ar{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,o){var l;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",e,!1);const h=ar.getCancelAndContextArgs_("Query.on",i,o),_=(E,A)=>{e.call(h.context,new dd(this.database,E),A)};_.userCallback=e,_.context=h.context;const b=null===(l=h.cancel)||void 0===l?void 0:l.bind(h.context);switch(t){case"value":return j1(this._delegate,_,b),e;case"child_added":return dM(this._delegate,_,b),e;case"child_removed":return pM(this._delegate,_,b),e;case"child_changed":return hM(this._delegate,_,b),e;case"child_moved":return fM(this._delegate,_,b),e;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,P.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,P.Wj)("Query.off","callback",e,!0),(0,P.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,gM(this._delegate,t,o)}else gM(this._delegate,t)}get(){return cP(this._delegate).then(t=>new dd(this.database,t))}once(t,e,i,o){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",e,!0);const l=ar.getCancelAndContextArgs_("Query.once",i,o),h=new P.BH,_=(E,A)=>{const R=new dd(this.database,E);e&&e.call(l.context,R,A),h.resolve(R)};_.userCallback=e,_.context=l.context;const b=E=>{l.cancel&&l.cancel.call(l.context,E),h.reject(E)};switch(t){case"value":j1(this._delegate,_,b,{onlyOnce:!0});break;case"child_added":dM(this._delegate,_,b,{onlyOnce:!0});break;case"child_removed":pM(this._delegate,_,b,{onlyOnce:!0});break;case"child_changed":hM(this._delegate,_,b,{onlyOnce:!0});break;case"child_moved":fM(this._delegate,_,b,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new ar(this.database,Oa(this._delegate,function mP(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new _P(n)}(t)))}limitToLast(t){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new ar(this.database,Oa(this._delegate,function yP(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new vP(n)}(t)))}orderByChild(t){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new ar(this.database,Oa(this._delegate,function DP(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zm("orderByChild","path",n,!1),new bP(n)}(t)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new ar(this.database,Oa(this._delegate,function wP(){return new CP}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new ar(this.database,Oa(this._delegate,function TP(){return new EP}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new ar(this.database,Oa(this._delegate,function SP(){return new IP}()))}startAt(t=null,e){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new ar(this.database,Oa(this._delegate,function fP(n=null,t){return zm("startAt","key",t,!0),new mM(n,t)}(t,e)))}startAfter(t=null,e){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new ar(this.database,Oa(this._delegate,function gP(n,t){return zm("startAfter","key",t,!0),new pP(n,t)}(t,e)))}endAt(t=null,e){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new ar(this.database,Oa(this._delegate,function uP(n,t){return zm("endAt","key",t,!0),new _M(n,t)}(t,e)))}endBefore(t=null,e){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new ar(this.database,Oa(this._delegate,function hP(n,t){return zm("endBefore","key",t,!0),new dP(n,t)}(t,e)))}equalTo(t,e){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new ar(this.database,Oa(this._delegate,function AP(n,t){return zm("equalTo","key",t,!0),new NP(n,t)}(t,e)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ar))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,P.Wj)(t,"cancel",o.cancel,!0),o.context=i,(0,P.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,P.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Xs(this.database,new Wo(this._delegate._repo,this._delegate._path))}}class Xs extends ar{constructor(t,e){super(t,new Ss(e._repo,e._path,new nD,!1)),this.database=t,this._delegate=e}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Xs(this.database,kh(this._delegate,t))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Xs(this.database,t):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new Xs(this.database,this._delegate.root)}set(t,e){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",e,!0);const i=V1(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}update(t,e){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let l=0;l<t.length;++l)o[""+l]=t[l];t=o,DM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Go("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",e,!0);const i=lP(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(t,e,i){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function aP(n,t,e){if(Go("setWithPriority",n._path),Al("setWithPriority",t,n._path,!1),O1("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new P.BH;return k1(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&o.then(()=>i(null),l=>i(l)),o}remove(t){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",t,!0);const e=function sP(n){return Go("remove",n._path),V1(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,P.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function ZP(n,t,e){var i;if(n=(0,P.m9)(n),Go("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,l=new P.BH,_=j1(n,()=>{});return function Jk(n,t,e,i,o,l){Xp(n,"transaction on "+t);const h={path:t,update:e,onComplete:i,status:null,order:_N(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},_=F1(n,t,void 0);h.currentInputSnapshot=_;const b=h.update(_.val());if(void 0===b)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{Wm("transaction failed: Data returned ",b,h.path),h.status=0;const E=yD(n.transactionQueueTree_,t),A=Rh(E)||[];let R;A.push(h),N1(E,A),"object"==typeof b&&null!==b&&(0,P.r3)(b,".priority")?(R=(0,P.DV)(b,".priority"),(0,P.hu)($m(R),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):R=(_D(n.serverSyncTree_,t)||Dt.EMPTY_NODE).getPriority().val();const L=Ym(n),z=Bn(b,R),ue=T1(z,_,L);h.currentOutputSnapshotRaw=z,h.currentOutputSnapshotResolved=ue,h.currentWriteId=wD(n);const we=v1(n.serverSyncTree_,t,ue,h.currentWriteId,h.applyLocally);$o(n.eventQueue_,t,we),ED(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(b,E,A)=>{let R=null;b?l.reject(b):(R=new xh(A,new Wo(n._repo,n._path),vn),l.resolve(new zP(E,R)))},_,o),l.promise}(this._delegate,t,{applyLocally:i}).then(l=>new eF(l.committed,new dd(this.database,l.snapshot)));return e&&o.then(l=>e(null,l.committed,l.snapshot),l=>e(l,!1,null)),o}setPriority(t,e){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",e,!0);const i=function oP(n,t){n=(0,P.m9)(n),Go("setPriority",n._path),O1("setPriority",t,!1);const e=new P.BH;return k1(n._repo,xn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),o=>e(o)),i}push(t,e){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",e,!0);const i=function rP(n,t){n=(0,P.m9)(n),Go("push",n._path),Al("push",t,n._path,!0);const e=QA(n._repo),i=fx(e),o=kh(n,i),l=kh(n,i);let h;return h=null!=t?V1(l,t).then(()=>l):Promise.resolve(l),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,t),o=i.then(h=>new Xs(this.database,h));e&&o.then(()=>e(null),h=>e(h));const l=new Xs(this.database,i);return l.then=o.then.bind(o),l.catch=o.catch.bind(o,void 0),l}onDisconnect(){return Go("Reference.onDisconnect",this._delegate._path),new XP(new lM(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Km{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:FP,forceLongPolling:LP}}useEmulator(t,e,i={}){!function UP(n,t,e,i={}){(n=(0,P.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Il("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Il('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Am(Am.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,P.Sg)(i.mockUserToken,n.app.options.projectId);l=new Am(h)}!function OP(n,t,e,i){n.repoInfo_=new BT(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(o,t,e,l)}(this._delegate,t,e,i)}ref(t){if((0,P.Dv)("database.ref",0,1,arguments.length),t instanceof Xs){const e=uM(this._delegate,t.toString());return new Xs(this,e)}{const e=cM(this._delegate,t);return new Xs(this,e)}}refFromURL(t){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const i=uM(this._delegate,t);return new Xs(this,i)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function BP(n){(n=(0,P.m9)(n))._checkNotDeleted("goOffline"),tM(n._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function VP(n){(n=(0,P.m9)(n))._checkNotDeleted("goOnline"),function Qk(n){n.persistentConnection_&&n.persistentConnection_.resume(KA)}(n._repo)}(this._delegate)}}Km.ServerValue={TIMESTAMP:function $P(){return GP}(),increment:n=>function WP(n){return{".sv":{increment:n}}}(n)};var nF=Object.freeze({__proto__:null,initStandalone:function tF({app:n,url:t,version:e,customAuthImpl:i,namespace:o,nodeAdmin:l=!1}){pN(e);const h=new Tl.zt("auth-internal",new Tl.H0("database-standalone"));return h.setComponent(new Tl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Km(yM(n,h,void 0,t,l),n),namespace:o}}});const iF=Km.ServerValue;function CM(n){return null==n}function wM(n){return"function"==typeof n.set}function EM(n,t){return wM(t)?t:n.ref(t)}function TM(n,t){if(function sF(n){return"string"==typeof n}(n))return t.stringCase();if(wM(n))return t.firebaseCase();if(function oF(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Qm(n,t,e="on",i=wf.z){return new zt.y(o=>{let l=null;return l=n[e](t,(h,_)=>{i.schedule(()=>{o.next({snapshot:h,prevKey:_})}),"once"===e&&i.schedule(()=>o.complete())},h=>{i.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=l&&n.off(t,l)}}:{unsubscribe(){}}}).pipe((0,ut.U)(o=>{const{snapshot:l,prevKey:h}=o;let _=null;return l.exists()&&(_=l.key),{type:t,payload:l,prevKey:h,key:_}}),(0,cm.B)())}function IM(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function cF(n,t){const{payload:e,prevKey:i,key:o}=t,l=IM(n,o),h=function lF(n,t){if(CM(t))return 0;{const e=IM(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let _=null;t.payload.forEach(b=>{const E={payload:b,type:"value",prevKey:_,key:b.key};return _=b.key,n=[...n,E],!1})}return n;case"child_added":if(l>-1){const _=n[l-1];(_&&_.key||null)!==i&&(n=n.filter(b=>b.payload.key!==e.key)).splice(h,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(_=>_.payload.key!==e.key);case"child_changed":return n.map(_=>_.payload.key===o?t:_);case"child_moved":if(l>-1){const _=n.splice(l,1)[0];return(n=n.slice()).splice(h,0,_),n}return n;default:return n}}function SM(n){return(CM(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function NM(n,t,e){return function aF(n,t,e){return Qm(n,"value","once",e).pipe(en(i=>{const o=[Ke(i)];return t.forEach(l=>o.push(Qm(n,l,"on",e))),(0,xb.T)(...o).pipe(Fr(cF,[]))}),function zd(n,t=Ji.y){return n=null!=n?n:XD,(0,gn.e)((e,i)=>{let o,l=!0;e.subscribe((0,Xt.x)(i,h=>{const _=t(h);(l||!n(o,_))&&(l=!1,o=_,i.next(h))}))})}())}(n,t=SM(t),e)}function AM(n,t,e){const i=(t=SM(t)).map(o=>Qm(n,o,"on",e));return(0,xb.T)(...i)}function MM(n,t){return function(i,o){return TM(i,{stringCase:()=>n.child(i)[t](o),firebaseCase:()=>i[t](o),snapshotCase:()=>i.ref[t](o)})}}function fF(n){return function(e){return e?TM(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function OM(n,t){return function(){return Qm(n,"value","on",t)}}!function rF(n){n.INTERNAL.registerComponent(new Tl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new Km(o,i)},"PUBLIC").setServiceProps({Reference:Xs,Query:ar,Database:Km,DataSnapshot:dd,enableLogging:jP,INTERNAL:nF,ServerValue:iF}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(dN.Z);const _F=new u.OlP("angularfire2.realtimeDatabaseURL"),mF=new u.OlP("angularfire2.database.use-emulator");let vF=(()=>{class n{constructor(e,i,o,l,h,_,b,E,A,R,L,z,ue,we,Oe){this.schedulers=_;const Xe=b,He=(0,Wi.on)(e,h,i);E&&uN(He,h,A,L,z,ue,R,we),this.database=(0,Wi.cc)(`${He.name}.database.${o}`,"AngularFireDatabase",He.name,()=>{const rt=h.runOutsideAngular(()=>He.database(o||void 0));return Xe&&rt.useEmulator(...Xe),rt},[Xe])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>EM(this.database,e));let l=o;return i&&(l=i(o)),function pF(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:MM(i,"update"),set:MM(i,"set"),push:o=>i.push(o),remove:fF(i),snapshotChanges:o=>NM(n,o,e).pipe(Un.iC),stateChanges:o=>AM(n,o,e).pipe(Un.iC),auditTrail:o=>function uF(n,t,e){return function hF(n,t,e){return function dF(n,t){return Qm(n,"value","on",t).pipe((0,ut.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(xu(t),(0,ut.U)(([o,l])=>{const h=o.lastKeyToLoad,_=l.map(b=>b.key);return{actions:l,lastKeyToLoad:h,loadedKeys:_}}),function cR(n){return(0,gn.e)((t,e)=>{let i=!1,o=0;t.subscribe((0,Xt.x)(e,l=>(i||(i=!n(l,o++)))&&e.next(l)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,ut.U)(o=>o.actions))}(n,AM(n,t).pipe(Fr((o,l)=>[...o,l],[])),e)}(n,o,e).pipe(Un.iC),valueChanges:(o,l)=>NM(n,o,e).pipe((0,ut.U)(_=>_.map(b=>l&&l.idField?Object.assign(Object.assign({},b.payload.val()),{[l.idField]:b.key}):b.payload.val())),Un.iC)}}(l,this)}object(e){return function gF(n,t){return{query:n,snapshotChanges:()=>OM(n,t.schedulers.outsideAngular)().pipe(Un.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>OM(n,t.schedulers.outsideAngular)().pipe(Un.iC,(0,ut.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>EM(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Wi.Dh),u.LFG(Wi.xv,8),u.LFG(_F,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Un.HU),u.LFG(mF,8),u.LFG(RT,8),u.LFG(rN,8),u.LFG(sN,8),u.LFG(oN,8),u.LFG(aN,8),u.LFG(lN,8),u.LFG(cN,8),u.LFG(zb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yF=(()=>{class n{constructor(){OT.Z.registerVersion("angularfire",Un.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[vF]}),n})();const RM="firebasestorage.googleapis.com",xM="storageBucket";class Zn extends P.ZR{constructor(t,e){super(G1(t),`Firebase Storage: ${e} (${G1(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zn.prototype)}_codeEquals(t){return G1(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function G1(n){return"storage/"+n}function $1(){return new Zn("unknown","An unknown error occurred, please check the error payload for server response.")}function kM(){return new Zn("canceled","User canceled the upload/download.")}function PM(){return new Zn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function tg(n){return new Zn("invalid-argument",n)}function FM(){return new Zn("app-deleted","The Firebase app was deleted.")}function LM(n){return new Zn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jm(n,t){return new Zn("invalid-format","String does not match format '"+n+"': "+t)}function Xm(n){throw new Zn("internal-error","Internal error: "+n)}class Sr{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Sr.makeFromUrl(t,e)}catch(o){return new Sr(t,"")}if(""===i.path)return i;throw function MF(n){return new Zn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const o="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+o+"(/(.*))?$","i");function E(Ge){Ge.path_=decodeURIComponent(Ge.path)}const R=e.replace(/[.]/g,"\\."),rt=[{regex:_,indices:{bucket:1,path:3},postModify:function l(Ge){"/"===Ge.path.charAt(Ge.path.length-1)&&(Ge.path_=Ge.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${e===RM?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let Ge=0;Ge<rt.length;Ge++){const gt=rt[Ge],yt=gt.regex.exec(t);if(yt){let Pt=yt[gt.indices.path];Pt||(Pt=""),i=new Sr(yt[gt.indices.bucket],Pt),gt.postModify(i);break}}if(null==i)throw function AF(n){return new Zn("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class kF{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function MD(n){return"string"==typeof n||n instanceof String}function UM(n){return W1()&&n instanceof Blob}function W1(){return"undefined"!=typeof Blob}function z1(n,t,e,i){if(i<t)throw tg(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw tg(`Invalid value for '${n}'. Expected ${e} or less.`)}function Pc(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function BM(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var hd=(()=>{return(n=hd||(hd={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",hd;var n})();class VF{constructor(t,e,i,o,l,h,_,b,E,A,R){this.url_=t,this.method_=e,this.headers_=i,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=_,this.errorCallback_=b,this.timeout_=E,this.progressCallback_=A,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,z)=>{this.resolve_=L,this.reject_=z,this.start_()})}start_(){const e=(i,o)=>{const l=this.resolve_,h=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const b=this.callback_(_,_.getResponse());!function LF(n){return void 0!==n}(b)?l():l(b)}catch(b){h(b)}else if(null!==_){const b=$1();b.serverResponse=_.getErrorText(),h(this.errorCallback_?this.errorCallback_(_,b):b)}else h(o.canceled?this.appDelete_?FM():kM():function NF(){return new Zn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new OD(!1,null,!0)):this.backoffId_=function PF(n,t,e){let i=1,o=null,l=null,h=!1,_=0;function b(){return 2===_}let E=!1;function A(...Oe){E||(E=!0,t.apply(null,Oe))}function R(Oe){o=setTimeout(()=>{o=null,n(z,b())},Oe)}function L(){l&&clearTimeout(l)}function z(Oe,...Xe){if(E)return void L();if(Oe)return L(),void A.call(null,Oe,...Xe);if(b()||h)return L(),void A.call(null,Oe,...Xe);let rt;i<64&&(i*=2),1===_?(_=2,rt=0):rt=1e3*(i+Math.random()),R(rt)}let ue=!1;function we(Oe){ue||(ue=!0,L(),!E&&(null!==o?(Oe||(_=2),clearTimeout(o),R(0)):Oe||(_=1)))}return R(0),l=setTimeout(()=>{h=!0,we(!0)},e),we}((i,o)=>{if(o)return void i(!1,new OD(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const h=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const _=l.getErrorCode()===hd.NO_ERROR,b=l.getStatus();if(!_||this.isRetryStatusCode_(b)){const A=l.getErrorCode()===hd.ABORT;return void i(!1,new OD(!1,null,A))}const E=-1!==this.successCodes_.indexOf(b);i(!0,new OD(E,l))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function FF(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,o=-1!==[408,429].indexOf(t),l=-1!==this.additionalRetryCodes_.indexOf(t);return e||o||l}}class OD{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function ZF(...n){const t=function zF(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(W1())return new Blob(n);throw new Zn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const eo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Z1{constructor(t,e){this.data=t,this.contentType=e||null}}function Y1(n,t){switch(n){case eo.RAW:return new Z1(VM(t));case eo.BASE64:case eo.BASE64URL:return new Z1(jM(n,t));case eo.DATA_URL:return new Z1(function QF(n){const t=new HM(n);return t.base64?jM(eo.BASE64,t.rest):function KF(n){let t;try{t=decodeURIComponent(n)}catch(e){throw Jm(eo.DATA_URL,"Malformed data URL.")}return VM(t)}(t.rest)}(t),function JF(n){return new HM(n).contentType}(t))}throw $1()}function VM(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function jM(n,t){switch(n){case eo.BASE64:{const o=-1!==t.indexOf("-"),l=-1!==t.indexOf("_");if(o||l)throw Jm(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case eo.BASE64URL:{const o=-1!==t.indexOf("+"),l=-1!==t.indexOf("/");if(o||l)throw Jm(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function qF(n){return atob(n)}(t)}catch(o){throw Jm(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return i}class HM{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Jm(eo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function XF(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Ml{constructor(t,e){let i=0,o="";UM(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,e){if(UM(this.data_)){const o=function YF(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===o?null:new Ml(o)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Ml(i,!0)}}static getBlob(...t){if(W1()){const e=t.map(i=>i instanceof Ml?i.data_:i);return new Ml(ZF.apply(null,e))}{const e=t.map(h=>MD(h)?Y1(eo.RAW,h).data:h.data_);let i=0;e.forEach(h=>{i+=h.byteLength});const o=new Uint8Array(i);let l=0;return e.forEach(h=>{for(let _=0;_<h.length;_++)o[l++]=h[_]}),new Ml(o,!0)}}uploadData(){return this.data_}}function q1(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function BF(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function GM(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function nL(n,t){return t}class qr{constructor(t,e,i,o){this.server=t,this.local=e||t,this.writable=!!i,this.xform=o||nL}}let RD=null;function ev(){if(RD)return RD;const n=[];n.push(new qr("bucket")),n.push(new qr("generation")),n.push(new qr("metageneration")),n.push(new qr("name","fullPath",!0));const e=new qr("name");e.xform=function t(l,h){return function iL(n){return!MD(n)||n.length<2?n:GM(n)}(h)},n.push(e);const o=new qr("size");return o.xform=function i(l,h){return void 0!==h?Number(h):h},n.push(o),n.push(new qr("timeCreated")),n.push(new qr("updated")),n.push(new qr("md5Hash",null,!0)),n.push(new qr("cacheControl",null,!0)),n.push(new qr("contentDisposition",null,!0)),n.push(new qr("contentEncoding",null,!0)),n.push(new qr("contentLanguage",null,!0)),n.push(new qr("contentType",null,!0)),n.push(new qr("metadata","customMetadata",!0)),RD=n,RD}function $M(n,t,e){const i=q1(t);return null===i?null:function sL(n,t,e){const i={type:"file"},o=e.length;for(let l=0;l<o;l++){const h=e[l];i[h.local]=h.xform(i,t[h.server])}return function rL(n,t){Object.defineProperty(n,"ref",{get:function e(){const l=new Sr(n.bucket,n.fullPath);return t._makeStorageReference(l)}})}(i,n),i}(n,i,e)}function K1(n,t){const e={},i=t.length;for(let o=0;o<i;o++){const l=t[o];l.writable&&(e[l.server]=n[l.local])}return JSON.stringify(e)}const WM="prefixes";class Ol{constructor(t,e,i,o){this.url=t,this.method=e,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Rl(n){if(!n)throw $1()}function xD(n,t){return function e(i,o){const l=$M(n,o,t);return Rl(null!==l),l}}function ng(n){return function t(e,i){let o;return o=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function IF(){return new Zn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function TF(){return new Zn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function EF(n){return new Zn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function SF(n){return new Zn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,o.serverResponse=i.serverResponse,o}}function tv(n){const t=ng(n);return function e(i,o){let l=t(i,o);return 404===i.getStatus()&&(l=function wF(n){return new Zn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=o.serverResponse,l}}function ZM(n,t,e){const o=Pc(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,_=new Ol(o,"GET",xD(n,e),h);return _.errorHandler=tv(t),_}function dL(n,t,e,i,o){const l={};l.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(l.delimiter=e),i&&(l.pageToken=i),o&&(l.maxResults=o);const _=Pc(t.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,A=new Ol(_,"GET",function cL(n,t){return function e(i,o){const l=function lL(n,t,e){const i=q1(e);return null===i?null:function aL(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[WM])for(const o of e[WM]){const l=o.replace(/\/$/,""),h=n._makeStorageReference(new Sr(t,l));i.prefixes.push(h)}if(e.items)for(const o of e.items){const l=n._makeStorageReference(new Sr(t,o.name));i.items.push(l)}return i}(n,t,i)}(n,t,o);return Rl(null!==l),l}}(n,t.bucket),E);return A.urlParams=l,A.errorHandler=ng(t),A}function qM(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function gL(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class kD{constructor(t,e,i,o){this.current=t,this.total=e,this.finalized=!!i,this.metadata=o||null}}function Q1(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){Rl(!1)}return Rl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const yL={STATE_CHANGED:"state_changed"},Kr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function J1(n){switch(n){case"running":case"pausing":case"canceling":return Kr.RUNNING;case"paused":return Kr.PAUSED;case"success":return Kr.SUCCESS;case"canceled":return Kr.CANCELED;default:return Kr.ERROR}}class bL{constructor(t,e,i){if(function UF(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const l=t;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function ig(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class CL extends class DL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hd.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hd.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hd.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,o){if(this.sent_)throw Xm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==o)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Xm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Ra(){return new CL}class XM{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=ev(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function _L(n,t,e,i,o){const l=t.bucketOnlyServerUrl(),h=qM(t,i,o),_={name:h.fullPath},b=Pc(l,n.host,n._protocol),A={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},R=K1(h,e),ue=new Ol(b,"POST",function z(we){let Oe;Q1(we);try{Oe=we.getResponseHeader("X-Goog-Upload-URL")}catch(Xe){Rl(!1)}return Rl(MD(Oe)),Oe},n.maxUploadRetryTime);return ue.urlParams=_,ue.headers=A,ue.body=R,ue.errorHandler=ng(t),ue}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(i,Ra,t,e);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const o=function mL(n,t,e,i){const b=new Ol(e,"POST",function l(E){const A=Q1(E,["active","final"]);let R=null;try{R=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch(z){Rl(!1)}R||Rl(!1);const L=Number(R);return Rl(!isNaN(L)),new kD(L,i.size(),"final"===A)},n.maxUploadRetryTime);return b.headers={"X-Goog-Upload-Command":"query"},b.errorHandler=ng(t),b}(this._ref.storage,this._ref._location,t,this._blob),l=this._ref.storage._makeRequest(o,Ra,e,i);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new kD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((o,l)=>{let h;try{h=function vL(n,t,e,i,o,l,h,_){const b=new kD(0,0);if(h?(b.current=h.current,b.total=h.total):(b.current=0,b.total=i.size()),i.size()!==b.total)throw function RF(){return new Zn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const E=b.total-b.current;let A=E;o>0&&(A=Math.min(A,o));const R=b.current,ue={"X-Goog-Upload-Command":A===E?"upload, finalize":"upload","X-Goog-Upload-Offset":`${b.current}`},we=i.slice(R,R+A);if(null===we)throw PM();const rt=new Ol(e,"POST",function Oe(Ge,gt){const yt=Q1(Ge,["active","final"]),jt=b.current+A,Pt=i.size();let ui;return ui="final"===yt?xD(t,l)(Ge,gt):null,new kD(jt,Pt,"final"===yt,ui)},t.maxUploadRetryTime);return rt.headers=ue,rt.body=we.uploadData(),rt.progressCallback=_||null,rt.errorHandler=ng(n),rt}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(b){return this._error=b,void this._transition("error")}const _=this._ref.storage._makeRequest(h,Ra,o,l);this._request=_,_.getPromise().then(b=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(b.current),b.finalized?(this._metadata=b.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=ZM(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(i,Ra,t,e);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function KM(n,t,e,i,o){const l=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},b=function _(){let rt="";for(let Ge=0;Ge<2;Ge++)rt+=Math.random().toString().slice(2);return rt}();h["Content-Type"]="multipart/related; boundary="+b;const E=qM(t,i,o),A=K1(E,e),z=Ml.getBlob("--"+b+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+A+"\r\n--"+b+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",i,"\r\n--"+b+"--");if(null===z)throw PM();const ue={name:E.fullPath},we=Pc(l,n.host,n._protocol),Xe=n.maxUploadRetryTime,He=new Ol(we,"POST",xD(n,e),Xe);return He.urlParams=ue,He.headers=h,He.body=z.uploadData(),He.errorHandler=ng(t),He}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(i,Ra,t,e);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=kM(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=J1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,o){const l=new bL(e||void 0,i||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(J1(this._state)){case Kr.SUCCESS:ig(this._resolve.bind(null,this.snapshot))();break;case Kr.CANCELED:case Kr.ERROR:ig(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(J1(this._state)){case Kr.RUNNING:case Kr.PAUSED:t.next&&ig(t.next.bind(t,this.snapshot))();break;case Kr.SUCCESS:t.complete&&ig(t.complete.bind(t))();break;default:t.error&&ig(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Ph{constructor(t,e){this._service=t,this._location=e instanceof Sr?e:Sr.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Ph(t,e)}get root(){const t=new Sr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GM(this._location.path)}get storage(){return this._service}get parent(){const t=function eL(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Sr(this._location.bucket,t);return new Ph(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw LM(t)}}function tO(n,t,e){return X1.apply(this,arguments)}function X1(){return(X1=(0,Lo.Z)(function*(n,t,e){const o=yield nO(n,{pageToken:e});t.prefixes.push(...o.prefixes),t.items.push(...o.items),null!=o.nextPageToken&&(yield tO(n,t,o.nextPageToken))})).apply(this,arguments)}function nO(n,t){null!=t&&"number"==typeof t.maxResults&&z1("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=dL(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,Ra)}function kL(n){n._throwIfRoot("getDownloadURL");const t=function hL(n,t,e){const o=Pc(t.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,_=new Ol(o,"GET",function uL(n,t){return function e(i,o){const l=$M(n,o,t);return Rl(null!==l),function oL(n,t,e,i){const o=q1(t);if(null===o||!MD(o.downloadTokens))return null;const l=o.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(E=>{const R=n.fullPath;return Pc("/b/"+h(n.bucket)+"/o/"+h(R),e,i)+BM({alt:"media",token:E})})[0]}(l,o,n.host,n._protocol)}}(n,e),h);return _.errorHandler=tv(t),_}(n.storage,n._location,ev());return n.storage.makeRequestWithTokens(t,Ra).then(e=>{if(null===e)throw function xF(){return new Zn("no-download-url","The given file does not have any download URLs.")}();return e})}function iO(n,t){const e=function tL(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Sr(n._location.bucket,e);return new Ph(n.storage,i)}function rO(n,t){if(n instanceof eI){const e=n;if(null==e._bucket)throw function OF(){return new Zn("no-default-bucket","No default bucket found. Did you set the '"+xM+"' property when initializing the app?")}();const i=new Ph(e,e._bucket);return null!=t?rO(i,t):i}return void 0!==t?iO(n,t):n}function UL(n,t){if(t&&function FL(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof eI)return function LL(n,t){return new Ph(n,t)}(n,t);throw tg("To use ref(service, url), the first argument must be a Storage instance.")}return rO(n,t)}function sO(n,t){const e=null==t?void 0:t[xM];return null==e?null:Sr.makeFromBucketSpec(e,n)}class eI{constructor(t,e,i,o,l){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=RM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?Sr.makeFromBucketSpec(o,this._host):sO(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Sr.makeFromBucketSpec(this._url,t):sO(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){z1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){z1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Lo.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Lo.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ph(this,t)}_makeRequest(t,e,i,o){if(this._deleted)return new kF(FM());{const l=function WF(n,t,e,i,o,l){const h=BM(n.urlParams),_=n.url+h,b=Object.assign({},n.headers);return function GF(n,t){t&&(n["X-Firebase-GMPID"]=t)}(b,t),function jF(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(b,e),function HF(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(b,l),function $F(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(b,i),new VF(_,n.method,b,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(t,this._appId,i,o,e,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(t,e){var i=this;return(0,Lo.Z)(function*(){const[o,l]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,o,l).getPromise()})()}}const oO="@firebase/storage";function cO(n,t){return UL(n=(0,P.m9)(n),t)}function qL(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new eI(e,i,o,t,Uo.SDK_VERSION)}!function KL(){(0,Uo._registerComponent)(new Tl.wA("storage",qL,"PUBLIC").setMultipleInstances(!0)),(0,Uo.registerVersion)(oO,"0.9.6",""),(0,Uo.registerVersion)(oO,"0.9.6","esm2017")}();class PD{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class uO{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new PD(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new PD(i,this,this._ref))},e)}on(t,e,i,o){let l;return e&&(l="function"==typeof e?h=>e(new PD(h,this,this._ref)):{next:e.next?h=>e.next(new PD(h,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,l,i||void 0,o||void 0)}}class dO{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Fc(t,this._service))}get items(){return this._delegate.items.map(t=>new Fc(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Fc{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function ZL(n,t){return iO(n,t)}(this._delegate,t);return new Fc(e,this.storage)}get root(){return new Fc(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Fc(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new uO(function VL(n,t,e){return function AL(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new XM(n,new Ml(t),e)}(n=(0,P.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=eo.RAW,i){this._throwIfRoot("putString");const o=Y1(e,t),l=Object.assign({},i);return null==l.contentType&&null!=o.contentType&&(l.contentType=o.contentType),new uO(new XM(this._delegate,new Ml(o.data,!0),l),this)}listAll(){return function $L(n){return function OL(n){const t={prefixes:[],items:[]};return tO(n,t).then(()=>t)}(n=(0,P.m9)(n))}(this._delegate).then(t=>new dO(t,this.storage))}list(t){return function GL(n,t){return nO(n=(0,P.m9)(n),t)}(this._delegate,t||void 0).then(e=>new dO(e,this.storage))}getMetadata(){return function jL(n){return function RL(n){n._throwIfRoot("getMetadata");const t=ZM(n.storage,n._location,ev());return n.storage.makeRequestWithTokens(t,Ra)}(n=(0,P.m9)(n))}(this._delegate)}updateMetadata(t){return function HL(n,t){return function xL(n,t){n._throwIfRoot("updateMetadata");const e=function fL(n,t,e,i){const l=Pc(t.fullServerUrl(),n.host,n._protocol),_=K1(e,i),E=n.maxOperationRetryTime,A=new Ol(l,"PATCH",xD(n,i),E);return A.headers={"Content-Type":"application/json; charset=utf-8"},A.body=_,A.errorHandler=tv(t),A}(n.storage,n._location,t,ev());return n.storage.makeRequestWithTokens(e,Ra)}(n=(0,P.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function WL(n){return kL(n=(0,P.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function zL(n){return function PL(n){n._throwIfRoot("deleteObject");const t=function pL(n,t){const i=Pc(t.fullServerUrl(),n.host,n._protocol),_=new Ol(i,"DELETE",function h(b,E){},n.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=tv(t),_}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,Ra)}(n=(0,P.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw LM(t)}}class hO{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(fO(t))throw tg("ref() expected a child path but got a URL, use refFromURL instead.");return new Fc(cO(this._delegate,t),this)}refFromURL(t){if(!fO(t))throw tg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Sr.makeFromUrl(t,this._delegate.host)}catch(e){throw tg("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fc(cO(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function YL(n,t,e,i={}){!function BL(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken="string"==typeof o?o:(0,P.Sg)(o,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function fO(n){return/^[A-Za-z]+:\/\//.test(n)}function e2(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new hO(e,i)}function pO(n){const t=function n2(n){return new zt.y(t=>{const e=h=>t.next(h);e(n.snapshot);const l=n.on("state_changed",e);return n.then(h=>{e(h),t.complete()},h=>{e(n.snapshot),(h=>{t.error(h)})(h)}),function(){l()}}).pipe(function bF(n,t=wf.z){return(0,gn.e)((e,i)=>{let o=null,l=null,h=null;const _=()=>{if(o){o.unsubscribe(),o=null;const E=l;l=null,i.next(E)}};function b(){const E=h+n,A=t.now();if(A<E)return o=this.schedule(void 0,E-A),void i.add(o);_()}e.subscribe((0,Xt.x)(i,E=>{l=E,h=t.now(),o||(o=t.schedule(b,n),i.add(o))},()=>{_(),i.complete()},void 0,()=>{l=o=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ut.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function FD(n){return{getDownloadURL:()=>Ke(void 0).pipe(Un.fc,en(()=>n.getDownloadURL()),Un.iC),getMetadata:()=>Ke(void 0).pipe(Un.fc,en(()=>n.getMetadata()),Un.iC),delete:()=>(0,nn.D)(n.delete()),child:t=>FD(n.child(t)),updateMetadata:t=>(0,nn.D)(n.updateMetadata(t)),put:(t,e)=>pO(n.put(t,e)),putString:(t,e,i)=>pO(n.putString(t,e,i)),list:t=>(0,nn.D)(n.list(t)),listAll:()=>(0,nn.D)(n.listAll())}}!function t2(n){const t={TaskState:Kr,TaskEvent:yL,StringFormat:eo,Storage:hO,Reference:Fc};n.INTERNAL.registerComponent(new Tl.wA("storage-compat",e2,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(dN.Z);const r2=new u.OlP("angularfire2.storageBucket"),s2=new u.OlP("angularfire2.storage.maxUploadRetryTime"),o2=new u.OlP("angularfire2.storage.maxOperationRetryTime"),a2=new u.OlP("angularfire2.storage.use-emulator");let l2=(()=>{class n{constructor(e,i,o,l,h,_,b,E,A,R){const L=(0,Wi.on)(e,h,i);this.storage=(0,Wi.cc)(`${L.name}.storage.${o}`,"AngularFireStorage",L.name,()=>{const z=h.runOutsideAngular(()=>L.storage(o||void 0)),ue=A;return ue&&z.useEmulator(...ue),b&&z.setMaxUploadRetryTime(b),E&&z.setMaxOperationRetryTime(E),z},[b,E])}ref(e){return FD(this.storage.ref(e))}refFromURL(e){return FD(this.storage.refFromURL(e))}upload(e,i,o){return FD(this.storage.ref(e)).put(i,o)}}return n.\u0275fac=function(e){return new(e||n)(u.LFG(Wi.Dh),u.LFG(Wi.xv,8),u.LFG(r2,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Un.HU),u.LFG(s2,8),u.LFG(o2,8),u.LFG(a2,8),u.LFG(zb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),c2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),u2=(()=>{class n{constructor(){OT.Z.registerVersion("angularfire",Un.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[l2],imports:[c2]}),n})(),d2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[Ob]}),n.\u0275inj=u.cJS({providers:[],imports:[[ia,Wi.hO.initializeApp(Rb_firebaseConfig),lR,u2,yF,Oc,cT]]}),n})();(0,u.G48)(),Ya().bootstrapModule(d2).catch(n=>console.error(n))},5867:(We,_e,x)=>{x.d(_e,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=x(9681);(0,u.registerVersion)("firebase","9.8.2","app")},127:(We,_e,x)=>{x.d(_e,{Z:()=>u.Z});var u=x(3942);u.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(We,_e,x)=>{x.r(_e);var u=x(5861),J=x(3942),k=x(2090),ae=x(9681),ie=x(655),pe=x(1877),le=x(4859);const Ae=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ke=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Be=new pe.Yd("@firebase/auth");function $e(m,...f){Be.logLevel<=pe.in.ERROR&&Be.error(`Auth (${ae.SDK_VERSION}): ${m}`,...f)}function Ee(m,...f){throw Fe(m,...f)}function ye(m,...f){return Fe(m,...f)}function be(m,f,g){const y=Object.assign(Object.assign({},ke()),{[f]:g});return new k.LL("auth","Firebase",y).create(f,{appName:m.name})}function Pe(m,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Ee(m,"argument-error"),be(m,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(m,...f){if("string"!=typeof m){const g=f[0],y=[...f.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(g,...y)}return he.create(m,...f)}function H(m,f,...g){if(!m)throw Fe(f,...g)}function ve(m){const f="INTERNAL ASSERTION FAILED: "+m;throw $e(f),new Error(f)}function q(m,f){m||ve(f)}const re=new Map;function ee(m){q(m instanceof Function,"Expected a class definition");let f=re.get(m);return f?(q(f instanceof m,"Instance stored in cache mismatched with class"),f):(f=new m,re.set(m,f),f)}function Me(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function tt(){return"http:"===It()||"https:"===It()}function It(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Lt{constructor(f,g){this.shortDelay=f,this.longDelay=g,q(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Ct(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(tt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function un(m,f){q(m.emulator,"Emulator should always be set here");const{url:g}=m.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Ut{static initialize(f,g,y){this.fetchImpl=f,g&&(this.headersImpl=g),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},di=new Lt(3e4,6e4);function Ot(m,f){return m.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:m.tenantId}):f}function wt(m,f,g,y){return cr.apply(this,arguments)}function cr(){return(cr=(0,u.Z)(function*(m,f,g,y,I={}){return xi(m,I,(0,u.Z)(function*(){let O={},Y={};y&&("GET"===f?Y=y:O={body:JSON.stringify(y)});const de=(0,k.xO)(Object.assign({key:m.config.apiKey},Y)).slice(1),xe=yield m._getAdditionalHeaders();return xe["Content-Type"]="application/json",m.languageCode&&(xe["X-Firebase-Locale"]=m.languageCode),Ut.fetch()(Qr(m,m.config.apiHost,g,de),Object.assign({method:f,headers:xe,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function xi(m,f,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,u.Z)(function*(m,f,g){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},kt),f);try{const I=new Ci(m),O=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const Y=yield O.json();if("needConfirmation"in Y)throw Yi(m,"account-exists-with-different-credential",Y);if(O.ok&&!("errorMessage"in Y))return Y;{const de=O.ok?Y.errorMessage:Y.error.message,[xe,Ye]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===xe)throw Yi(m,"credential-already-in-use",Y);if("EMAIL_EXISTS"===xe)throw Yi(m,"email-already-in-use",Y);if("USER_DISABLED"===xe)throw Yi(m,"user-disabled",Y);const st=y[xe]||xe.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw be(m,st,Ye);Ee(m,st)}}catch(I){if(I instanceof k.ZR)throw I;Ee(m,"network-request-failed")}})).apply(this,arguments)}function hi(m,f,g,y){return ur.apply(this,arguments)}function ur(){return(ur=(0,u.Z)(function*(m,f,g,y,I={}){const O=yield wt(m,f,g,y,I);return"mfaPendingCredential"in O&&Ee(m,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Qr(m,f,g,y){const I=`${f}${g}?${y}`;return m.config.emulator?un(m.config,I):`${m.config.apiScheme}://${I}`}class Ci{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,y)=>{this.timer=setTimeout(()=>y(ye(this.auth,"network-request-failed")),di.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yi(m,f,g){const y={appName:m.name};g.email&&(y.email=g.email),g.phoneNumber&&(y.phoneNumber=g.phoneNumber);const I=ye(m,f,y);return I.customData._tokenResponse=g,I}function ki(){return(ki=(0,u.Z)(function*(m,f){return wt(m,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function rn(m,f){return dn.apply(this,arguments)}function dn(){return(dn=(0,u.Z)(function*(m,f){return wt(m,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Jr(m,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,u.Z)(function*(m,f){return wt(m,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function kn(m){if(m)try{const f=new Date(Number(m));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Ns(){return(Ns=(0,u.Z)(function*(m,f=!1){const g=(0,k.m9)(m),y=yield g.getIdToken(f),I=Je(y);H(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const O="object"==typeof I.firebase?I.firebase:void 0,Y=null==O?void 0:O.sign_in_provider;return{claims:I,token:y,authTime:kn(St(I.auth_time)),issuedAtTime:kn(St(I.iat)),expirationTime:kn(St(I.exp)),signInProvider:Y||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function St(m){return 1e3*Number(m)}function Je(m){const[f,g,y]=m.split(".");if(void 0===f||void 0===g||void 0===y)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,k.tV)(g);return I?JSON.parse(I):($e("Failed to decode base64 JWT payload"),null)}catch(I){return $e("Caught error parsing JWT payload as JSON",I),null}}function Kn(m,f){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,u.Z)(function*(m,f,g=!1){if(g)return f;try{return yield f}catch(y){throw y instanceof k.ZR&&Tt(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}function Tt({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class As{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const y=this.getInterval(f);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),y)}iteration(){var f=this;return(0,u.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class Qn{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=kn(this.lastLoginAt),this.creationTime=kn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jn(m){return B.apply(this,arguments)}function B(){return(B=(0,u.Z)(function*(m){var f;const g=m.auth,y=yield m.getIdToken(),I=yield Kn(m,Jr(g,{idToken:y}));H(null==I?void 0:I.users.length,g,"internal-error");const O=I.users[0];m._notifyReloadListener(O);const Y=(null===(f=O.providerUserInfo)||void 0===f?void 0:f.length)?$(O.providerUserInfo):[],de=Ce(m.providerData,Y),st=!!m.isAnonymous&&!(m.email&&O.passwordHash||(null==de?void 0:de.length)),it={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:de,metadata:new Qn(O.createdAt,O.lastLoginAt),isAnonymous:st};Object.assign(m,it)})).apply(this,arguments)}function Z(){return(Z=(0,u.Z)(function*(m){const f=(0,k.m9)(m);yield Jn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ce(m,f){return[...m.filter(y=>!f.some(I=>I.providerId===y.providerId)),...f]}function $(m){return m.map(f=>{var{providerId:g}=f,y=(0,ie._T)(f,["providerId"]);return{providerId:g,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function Ne(){return(Ne=(0,u.Z)(function*(m,f){const g=yield xi(m,{},(0,u.Z)(function*(){const y=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:I,apiKey:O}=m.config,Y=Qr(m,I,"/v1/token",`key=${O}`),de=yield m._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",Ut.fetch()(Y,{method:"POST",headers:de,body:y})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){H(f.idToken,"internal-error"),H(void 0!==f.idToken,"internal-error"),H(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function dt(m){const f=Je(m);return H(f,"internal-error"),H(void 0!==f.exp,"internal-error"),H(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var y=this;return(0,u.Z)(function*(){return H(!y.accessToken||y.refreshToken,f,"user-token-expired"),g||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(f,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var y=this;return(0,u.Z)(function*(){const{accessToken:I,refreshToken:O,expiresIn:Y}=yield function X(m,f){return Ne.apply(this,arguments)}(f,g);y.updateTokensAndExpiration(I,O,Number(Y))})()}updateTokensAndExpiration(f,g,y){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(f,g){const{refreshToken:y,accessToken:I,expirationTime:O}=g,Y=new Ze;return y&&(H("string"==typeof y,"internal-error",{appName:f}),Y.refreshToken=y),I&&(H("string"==typeof I,"internal-error",{appName:f}),Y.accessToken=I),O&&(H("number"==typeof O,"internal-error",{appName:f}),Y.expirationTime=O),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ze,this.toJSON())}_performRefresh(){return ve("not implemented")}}function ot(m,f){H("string"==typeof m||void 0===m,"internal-error",{appName:f})}class pt{constructor(f){var{uid:g,auth:y,stsTokenManager:I}=f,O=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new As(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=y,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Qn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,u.Z)(function*(){const y=yield Kn(g,g.stsTokenManager.getToken(g.auth,f));return H(y,g.auth,"internal-error"),g.accessToken!==y&&(g.accessToken=y,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),y})()}getIdTokenResult(f){return function Pi(m){return Ns.apply(this,arguments)}(this,f)}reload(){return function W(m){return Z.apply(this,arguments)}(this)}_assign(f){this!==f&&(H(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new pt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var y=this;return(0,u.Z)(function*(){let I=!1;f.idToken&&f.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(f),I=!0),g&&(yield Jn(y)),yield y.auth._persistUserIfCurrent(y),I&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var f=this;return(0,u.Z)(function*(){const g=yield f.getIdToken();return yield Kn(f,function lt(m,f){return ki.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var y,I,O,Y,de,xe,Ye,st;const it=null!==(y=g.displayName)&&void 0!==y?y:void 0,mn=null!==(I=g.email)&&void 0!==I?I:void 0,ji=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,gl=null!==(Y=g.photoURL)&&void 0!==Y?Y:void 0,Vd=null!==(de=g.tenantId)&&void 0!==de?de:void 0,_f=null!==(xe=g._redirectEventId)&&void 0!==xe?xe:void 0,ga=null!==(Ye=g.createdAt)&&void 0!==Ye?Ye:void 0,pc=null!==(st=g.lastLoginAt)&&void 0!==st?st:void 0,{uid:Ou,emailVerified:mf,isAnonymous:yi,providerData:jd,stsTokenManager:Hd}=g;H(Ou&&Hd,f,"internal-error");const Gd=Ze.fromJSON(this.name,Hd);H("string"==typeof Ou,f,"internal-error"),ot(it,f.name),ot(mn,f.name),H("boolean"==typeof mf,f,"internal-error"),H("boolean"==typeof yi,f,"internal-error"),ot(ji,f.name),ot(gl,f.name),ot(Vd,f.name),ot(_f,f.name),ot(ga,f.name),ot(pc,f.name);const _a=new pt({uid:Ou,auth:f,email:mn,emailVerified:mf,displayName:it,isAnonymous:yi,photoURL:gl,phoneNumber:ji,tenantId:Vd,stsTokenManager:Gd,createdAt:ga,lastLoginAt:pc});return jd&&Array.isArray(jd)&&(_a.providerData=jd.map(_l=>Object.assign({},_l))),_f&&(_a._redirectEventId=_f),_a}static _fromIdTokenResponse(f,g,y=!1){return(0,u.Z)(function*(){const I=new Ze;I.updateFromServerResponse(g);const O=new pt({uid:g.localId,auth:f,stsTokenManager:I,isAnonymous:y});return yield Jn(O),O})()}}const ft=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,y){var I=this;return(0,u.Z)(function*(){I.storage[g]=y})()}_get(g){var y=this;return(0,u.Z)(function*(){const I=y.storage[g];return void 0===I?null:I})()}_remove(g){var y=this;return(0,u.Z)(function*(){delete y.storage[g]})()}_addListener(g,y){}_removeListener(g,y){}}return m.type="NONE",m})();function Sn(m,f,g){return`firebase:${m}:${f}:${g}`}class fi{constructor(f,g,y){this.persistence=f,this.auth=g,this.userKey=y;const{config:I,name:O}=this.auth;this.fullUserKey=Sn(this.userKey,I.apiKey,O),this.fullPersistenceKey=Sn("persistence",I.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,u.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?pt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,u.Z)(function*(){if(g.persistence===f)return;const y=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,y?g.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,y="authUser"){return(0,u.Z)(function*(){if(!g.length)return new fi(ee(ft),f,y);const I=(yield Promise.all(g.map(function(){var Ye=(0,u.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let O=I[0]||ee(ft);const Y=Sn(y,f.config.apiKey,f.name);let de=null;for(const Ye of g)try{const st=yield Ye._get(Y);if(st){const it=pt._fromJSON(f,st);Ye!==O&&(de=it),O=Ye;break}}catch(st){}const xe=I.filter(Ye=>Ye._shouldAllowMigration);return O._shouldAllowMigration&&xe.length?(O=xe[0],de&&(yield O._set(Y,de.toJSON())),yield Promise.all(g.map(function(){var Ye=(0,u.Z)(function*(st){if(st!==O)try{yield st._remove(Y)}catch(it){}});return function(st){return Ye.apply(this,arguments)}}())),new fi(O,f,y)):new fi(O,f,y)})()}}function Pa(m){const f=m.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Nn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(zo(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Nr(f))return"Blackberry";if(An(f))return"Webos";if(Fa(f))return"Safari";if((f.includes("chrome/")||Zo(f))&&!f.includes("edge/"))return"Chrome";if(pi(f))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function zo(m=(0,k.z$)()){return/firefox\//i.test(m)}function Fa(m=(0,k.z$)()){const f=m.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Zo(m=(0,k.z$)()){return/crios\//i.test(m)}function Nn(m=(0,k.z$)()){return/iemobile/i.test(m)}function pi(m=(0,k.z$)()){return/android/i.test(m)}function Nr(m=(0,k.z$)()){return/blackberry/i.test(m)}function An(m=(0,k.z$)()){return/webos/i.test(m)}function Ei(m=(0,k.z$)()){return/iphone|ipad|ipod/i.test(m)}function Xr(m=(0,k.z$)()){return Ei(m)||pi(m)||An(m)||Nr(m)||/windows phone/i.test(m)||Nn(m)}function io(m,f=[]){let g;switch(m){case"Browser":g=Pa((0,k.z$)());break;case"Worker":g=`${Pa((0,k.z$)())}-${m}`;break;default:g=m}const y=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${y}`}class Ti{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const y=O=>new Promise((Y,de)=>{try{Y(f(O))}catch(xe){de(xe)}});y.onAbort=g,this.queue.push(y);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,u.Z)(function*(){if(g.auth.currentUser===f)return;const y=[];try{for(const I of g.queue)yield I(f),I.onAbort&&y.push(I.onAbort)}catch(I){y.reverse();for(const O of y)try{O()}catch(Y){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:I.message})}})()}}class Ve{constructor(f,g,y){this.app=f,this.heartbeatServiceProvider=g,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bt(this),this.idTokenSubscription=new Bt(this),this.beforeStateQueue=new Ti(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(f,g){var y=this;return g&&(this._popupRedirectResolver=ee(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var I,O;if(!y._deleted&&(y.persistenceManager=yield fi.create(y,f),!y._deleted)){if(null===(I=y._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(Y){}yield y.initializeCurrentUser(g),y.lastNotifiedUid=(null===(O=y.currentUser)||void 0===O?void 0:O.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,u.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,u.Z)(function*(){var y;const I=yield g.assertedPersistence.getCurrentUser();let O=I,Y=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const de=null===(y=g.redirectUser)||void 0===y?void 0:y._redirectEventId,xe=null==O?void 0:O._redirectEventId,Ye=yield g.tryRedirectSignIn(f);(!de||de===xe)&&(null==Ye?void 0:Ye.user)&&(O=Ye.user,Y=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(Y)try{yield g.beforeStateQueue.runMiddleware(O)}catch(de){O=I,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(de))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return H(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(f){var g=this;return(0,u.Z)(function*(){let y=null;try{y=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(I){yield g._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,u.Z)(function*(){try{yield Jn(f)}catch(y){if("auth/network-request-failed"!==y.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function je(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var f=this;return(0,u.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,u.Z)(function*(){const y=f?(0,k.m9)(f):null;return y&&H(y.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(y&&y._clone(g))})()}_updateCurrentUser(f,g=!1){var y=this;return(0,u.Z)(function*(){if(!y._deleted)return f&&H(y.tenantId===f.tenantId,y,"tenant-id-mismatch"),g||(yield y.beforeStateQueue.runMiddleware(f)),y.queue((0,u.Z)(function*(){yield y.directlySetCurrentUser(f),y.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,u.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(ee(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,y){return this.registerStateListener(this.authStateSubscription,f,g,y)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,y){return this.registerStateListener(this.idTokenSubscription,f,g,y)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var y=this;return(0,u.Z)(function*(){const I=yield y.getOrInitRedirectPersistenceManager(g);return null===f?I.removeCurrentUser():I.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const y=f&&ee(f)||g._popupRedirectResolver;H(y,g,"argument-error"),g.redirectPersistenceManager=yield fi.create(g,[ee(y._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,u.Z)(function*(){var y,I;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(y=g._currentUser)||void 0===y?void 0:y._redirectEventId)===f?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,u.Z)(function*(){if(f===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,y,I){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return H(Y,this,"internal-error"),Y.then(()=>O(this.currentUser)),"function"==typeof g?f.addObserver(g,y,I):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=io(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,u.Z)(function*(){var g;const y={"X-Client-Version":f.clientVersion};f.app.options.appId&&(y["X-Firebase-gmpid"]=f.app.options.appId);const I=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return I&&(y["X-Firebase-Client"]=I),y})()}}function et(m){return(0,k.m9)(m)}class Bt{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function dr(m){const f=m.indexOf(":");return f<0?"":m.substr(0,f+1)}function hr(m){if(!m)return null;const f=Number(m);return isNaN(f)?null:f}class qi{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return ve("not implemented")}_getIdTokenResponse(f){return ve("not implemented")}_linkToIdToken(f,g){return ve("not implemented")}_getReauthenticationResolver(f){return ve("not implemented")}}function fn(m,f){return vt.apply(this,arguments)}function vt(){return(vt=(0,u.Z)(function*(m,f){return wt(m,"POST","/v1/accounts:resetPassword",Ot(m,f))})).apply(this,arguments)}function qo(m,f){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(m,f){return wt(m,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function La(m,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(m,f){return wt(m,"POST","/v1/accounts:update",Ot(m,f))})).apply(this,arguments)}function Os(){return(Os=(0,u.Z)(function*(m,f){return hi(m,"POST","/v1/accounts:signInWithPassword",Ot(m,f))})).apply(this,arguments)}function ns(m,f){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(m,f){return wt(m,"POST","/v1/accounts:sendOobCode",Ot(m,f))})).apply(this,arguments)}function Ht(m,f){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(m,f){return ns(m,f)})).apply(this,arguments)}function Ko(m,f){return Si.apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(m,f){return ns(m,f)})).apply(this,arguments)}function fr(m,f){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(m,f){return ns(m,f)})).apply(this,arguments)}function Uc(m,f){return pr.apply(this,arguments)}function pr(){return(pr=(0,u.Z)(function*(m,f){return ns(m,f)})).apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(m,f){return hi(m,"POST","/v1/accounts:signInWithEmailLink",Ot(m,f))})).apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(m,f){return hi(m,"POST","/v1/accounts:signInWithEmailLink",Ot(m,f))})).apply(this,arguments)}class Xn extends qi{constructor(f,g,y,I=null){super("password",y),this._email=f,this._password=g,this._tenantId=I}static _fromEmailAndPassword(f,g){return new Xn(f,g,"password")}static _fromEmailAndCode(f,g,y=null){return new Xn(f,g,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function sn(m,f){return Os.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function gr(m,f){return xl.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Ee(f,"internal-error")}})()}_linkToIdToken(f,g){var y=this;return(0,u.Z)(function*(){switch(y.signInMethod){case"password":return qo(f,{idToken:g,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Va(m,f){return Bc.apply(this,arguments)}(f,{idToken:g,email:y._email,oobCode:y._password});default:Ee(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function is(m,f){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,u.Z)(function*(m,f){return hi(m,"POST","/v1/accounts:signInWithIdp",Ot(m,f))})).apply(this,arguments)}class Ar extends qi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Ar(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Ee("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:I}=g,O=(0,ie._T)(g,["providerId","signInMethod"]);if(!y||!I)return null;const Y=new Ar(y,I);return Y.idToken=O.idToken||void 0,Y.accessToken=O.accessToken||void 0,Y.secret=O.secret,Y.nonce=O.nonce,Y.pendingToken=O.pendingToken||null,Y}_getIdTokenResponse(f){return is(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,is(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,is(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function Vh(m,f){return jc.apply(this,arguments)}function jc(){return(jc=(0,u.Z)(function*(m,f){return wt(m,"POST","/v1/accounts:sendVerificationCode",Ot(m,f))})).apply(this,arguments)}function rs(){return(rs=(0,u.Z)(function*(m,f){return hi(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,f))})).apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(m,f){const g=yield hi(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,f));if(g.temporaryProof)throw Yi(m,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const pd={USER_NOT_FOUND:"user-not-found"};function Gc(){return(Gc=(0,u.Z)(function*(m,f){return hi(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,Object.assign(Object.assign({},f),{operation:"REAUTH"})),pd)})).apply(this,arguments)}class ro extends qi{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new ro({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new ro({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function kl(m,f){return rs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function jh(m,f){return Hc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Hh(m,f){return Gc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:y,verificationCode:I}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:y,code:I}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:y,phoneNumber:I,temporaryProof:O}=f;return y||g||I||O?new ro({verificationId:g,verificationCode:y,phoneNumber:I,temporaryProof:O}):null}}class ja{constructor(f){var g,y,I,O,Y,de;const xe=(0,k.zd)((0,k.pd)(f)),Ye=null!==(g=xe.apiKey)&&void 0!==g?g:null,st=null!==(y=xe.oobCode)&&void 0!==y?y:null,it=function gd(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=xe.mode)&&void 0!==I?I:null);H(Ye&&st&&it,"argument-error"),this.apiKey=Ye,this.operation=it,this.code=st,this.continueUrl=null!==(O=xe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Y=xe.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(de=xe.tenantId)&&void 0!==de?de:null}static parseLink(f){const g=function Qo(m){const f=(0,k.zd)((0,k.pd)(m)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,y=(0,k.zd)((0,k.pd)(m)).deep_link_id;return(y?(0,k.zd)((0,k.pd)(y)).link:null)||y||g||f||m}(f);try{return new ja(g)}catch(y){return null}}}let Wc=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(g,y){return Xn._fromEmailAndPassword(g,y)}static credentialWithLink(g,y){const I=ja.parseLink(y);return H(I,"argument-error"),Xn._fromEmailAndCode(g,I.code,I.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class ei{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Rs extends ei{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class _r extends Rs{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return H("providerId"in g&&"signInMethod"in g,"argument-error"),Ar._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return H(f.idToken||f.accessToken,"argument-error"),Ar._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return _r.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return _r.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:y,oauthTokenSecret:I,pendingToken:O,nonce:Y,providerId:de}=f;if(!y&&!I&&!g&&!O||!de)return null;try{return new _r(de)._credential({idToken:g,accessToken:y,nonce:Y,pendingToken:O})}catch(xe){return null}}}let so=(()=>{class m extends Rs{constructor(){super("facebook.com")}static credential(g){return Ar._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return m.credential(g.oauthAccessToken)}catch(y){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),zc=(()=>{class m extends Rs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,y){return Ar._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:y})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:I}=g;if(!y&&!I)return null;try{return m.credential(y,I)}catch(O){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),_d=(()=>{class m extends Rs{constructor(){super("github.com")}static credential(g){return Ar._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return m.credential(g.oauthAccessToken)}catch(y){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class xs extends qi{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return is(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,is(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,is(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:I,pendingToken:O}=g;return y&&I&&O&&y===I?new xs(y,O):null}static _create(f,g){return new xs(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _i extends ei{constructor(f){H(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return _i.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return _i.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=xs.fromJSON(f);return H(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:y}=f;if(!g||!y)return null;try{return xs._create(y,g)}catch(I){return null}}}let Zc=(()=>{class m extends Rs{constructor(){super("twitter.com")}static credential(g,y){return Ar._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:y})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:y,oauthTokenSecret:I}=g;if(!y||!I)return null;try{return m.credential(y,I)}catch(O){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function ti(m,f){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(m,f){return hi(m,"POST","/v1/accounts:signUp",Ot(m,f))})).apply(this,arguments)}class Li{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,y,I=!1){return(0,u.Z)(function*(){const O=yield pt._fromIdTokenResponse(f,y,I),Y=Pl(y);return new Li({user:O,providerId:Y,_tokenResponse:y,operationType:g})})()}static _forOperation(f,g,y){return(0,u.Z)(function*(){yield f._updateTokensIfNecessary(y,!0);const I=Pl(y);return new Li({user:f,providerId:I,_tokenResponse:y,operationType:g})})()}}function Pl(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Fl(){return(Fl=(0,u.Z)(function*(m){var f;const g=et(m);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Li({user:g.currentUser,providerId:null,operationType:"signIn"});const y=yield ti(g,{returnSecureToken:!0}),I=yield Li._fromIdTokenResponse(g,"signIn",y,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class ao extends k.ZR{constructor(f,g,y,I){var O;super(g.code,g.message),this.operationType=y,this.user=I,Object.setPrototypeOf(this,ao.prototype),this.customData={appName:f.name,tenantId:null!==(O=f.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(f,g,y,I){return new ao(f,g,y,I)}}function Ll(m,f,g,y){return("reauthenticate"===f?g._getReauthenticationResolver(m):g._getIdTokenResponse(m)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ao._fromErrorAndOperation(m,O,f,y):O})}function mr(m){return new Set(m.map(({providerId:f})=>f).filter(f=>!!f))}function Gt(){return(Gt=(0,u.Z)(function*(m,f){const g=(0,k.m9)(m);yield Ft(!0,g,f);const{providerUserInfo:y}=yield rn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),I=mr(y||[]);return g.providerData=g.providerData.filter(O=>I.has(O.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Xo(m,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(m,f,g=!1){const y=yield Kn(m,f._linkToIdToken(m.auth,yield m.getIdToken()),g);return Li._forOperation(m,"link",y)})).apply(this,arguments)}function Ft(m,f,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(m,f,g){yield Jn(f);const I=!1===m?"provider-already-linked":"no-such-provider";H(mr(f.providerData).has(g)===m,f.auth,I)})).apply(this,arguments)}function Ha(m,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(m,f,g=!1){const{auth:y}=m,I="reauthenticate";try{const O=yield Kn(m,Ll(y,I,f,m),g);H(O.idToken,y,"internal-error");const Y=Je(O.idToken);H(Y,y,"internal-error");const{sub:de}=Y;return H(m.uid===de,y,"user-mismatch"),Li._forOperation(m,I,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ee(y,"user-mismatch"),O}})).apply(this,arguments)}function jn(m,f){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,u.Z)(function*(m,f,g=!1){const y="signIn",I=yield Ll(m,y,f),O=yield Li._fromIdTokenResponse(m,y,I);return g||(yield m._updateCurrentUser(O.user)),O})).apply(this,arguments)}function tn(m,f){return vr.apply(this,arguments)}function vr(){return(vr=(0,u.Z)(function*(m,f){return jn(et(m),f)})).apply(this,arguments)}function Hn(m,f){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(m,f){const g=(0,k.m9)(m);return yield Ft(!1,g,f.providerId),Xo(g,f)})).apply(this,arguments)}function Mr(m,f){return ta.apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(m,f){return Ha((0,k.m9)(m),f)})).apply(this,arguments)}function Ki(m,f){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(m,f){return hi(m,"POST","/v1/accounts:signInWithCustomToken",Ot(m,f))})).apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(m,f){const g=et(m),y=yield Ki(g,{token:f,returnSecureToken:!0}),I=yield Li._fromIdTokenResponse(g,"signIn",y);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class os{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Bl._fromServerResponse(f,g):Ee(f,"internal-error")}}class Bl extends os{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Bl(g)}}function na(m,f,g){var y;H((null===(y=g.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),H(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(H(g.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(H(g.android.packageName.length>0,m,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Ga(){return(Ga=(0,u.Z)(function*(m,f,g){const y=(0,k.m9)(m),I={requestType:"PASSWORD_RESET",email:f};g&&na(y,I,g),yield Ko(y,I)})).apply(this,arguments)}function jl(){return(jl=(0,u.Z)(function*(m,f,g){yield fn((0,k.m9)(m),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(m,f){yield La((0,k.m9)(m),{oobCode:f})})).apply(this,arguments)}function Et(m,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(m,f){const g=(0,k.m9)(m),y=yield fn(g,{oobCode:f}),I=y.requestType;switch(H(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(y.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(y.mfaInfo,g,"internal-error");default:H(y.email,g,"internal-error")}let O=null;return y.mfaInfo&&(O=os._fromServerResponse(et(g),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:O},operation:I}})).apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(m,f){const{data:g}=yield Et((0,k.m9)(m),f);return g.email})).apply(this,arguments)}function Ui(){return(Ui=(0,u.Z)(function*(m,f,g){const y=et(m),I=yield ti(y,{returnSecureToken:!0,email:f,password:g}),O=yield Li._fromIdTokenResponse(y,"signIn",I);return yield y._updateCurrentUser(O.user),O})).apply(this,arguments)}function $l(){return($l=(0,u.Z)(function*(m,f,g){const y=(0,k.m9)(m),I={requestType:"EMAIL_SIGNIN",email:f};H(g.handleCodeInApp,y,"argument-error"),g&&na(y,I,g),yield fr(y,I)})).apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(m,f,g){const y=(0,k.m9)(m),I=Wc.credentialWithLink(f,g||Me());return H(I._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),tn(y,I)})).apply(this,arguments)}function ni(m,f){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.Z)(function*(m,f){return wt(m,"POST","/v1/accounts:createAuthUri",Ot(m,f))})).apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(m,f){const y={identifier:f,continueUri:tt()?Me():"http://localhost"},{signinMethods:I}=yield ni((0,k.m9)(m),y);return I||[]})).apply(this,arguments)}function Wl(){return(Wl=(0,u.Z)(function*(m,f){const g=(0,k.m9)(m),I={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};f&&na(g.auth,I,f);const{email:O}=yield Ht(g.auth,I);O!==m.email&&(yield m.reload())})).apply(this,arguments)}function Ya(){return(Ya=(0,u.Z)(function*(m,f,g){const y=(0,k.m9)(m),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:f};g&&na(y.auth,O,g);const{email:Y}=yield Uc(y.auth,O);Y!==m.email&&(yield m.reload())})).apply(this,arguments)}function zl(m,f){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(m,f){return wt(m,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(m,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const y=(0,k.m9)(m),O={idToken:yield y.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Y=yield Kn(y,zl(y.auth,O));y.displayName=Y.displayName||null,y.photoURL=Y.photoUrl||null;const de=y.providerData.find(({providerId:xe})=>"password"===xe);de&&(de.displayName=y.displayName,de.photoURL=y.photoURL),yield y._updateTokensIfNecessary(Y)})).apply(this,arguments)}function Qa(m,f,g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(m,f,g){const{auth:y}=m,O={idToken:yield m.getIdToken(),returnSecureToken:!0};f&&(O.email=f),g&&(O.password=g);const Y=yield Kn(m,qo(y,O));yield m._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class ho{constructor(f,g,y={}){this.isNewUser=f,this.providerId=g,this.profile=y}}class Xc extends ho{constructor(f,g,y,I){super(f,g,y),this.username=I}}class Ja extends ho{constructor(f,g){super(f,"facebook.com",g)}}class Ni extends Xc{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class vd extends ho{constructor(f,g){super(f,"google.com",g)}}class Zl extends Xc{constructor(f,g,y){super(f,"twitter.com",g,y)}}function Pn(m){const{user:f,_tokenResponse:g}=m;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Jc(m){var f,g;if(!m)return null;const{providerId:y}=m,I=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},O=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&(null==m?void 0:m.idToken)){const Y=null===(g=null===(f=Je(m.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Y)return new ho(O,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!y)return null;switch(y){case"facebook.com":return new Ja(O,I);case"github.com":return new Ni(O,I);case"google.com":return new vd(O,I);case"twitter.com":return new Zl(O,I,m.screenName||null);case"custom":case"anonymous":return new ho(O,null);default:return new ho(O,y,I)}}(g)}class Rr{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Rr("enroll",f)}static _fromMfaPendingCredential(f){return new Rr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,y;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Rr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(y=f.multiFactorSession)||void 0===y?void 0:y.idToken)return Rr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Bs{constructor(f,g,y){this.session=f,this.hints=g,this.signInResolver=y}static _fromError(f,g){const y=et(f),I=g.customData._serverResponse,O=(I.mfaInfo||[]).map(de=>os._fromServerResponse(y,de));H(I.mfaPendingCredential,y,"internal-error");const Y=Rr._fromMfaPendingCredential(I.mfaPendingCredential);return new Bs(Y,O,function(){var de=(0,u.Z)(function*(xe){const Ye=yield xe._process(y,Y);delete I.mfaInfo,delete I.mfaPendingCredential;const st=Object.assign(Object.assign({},I),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(g.operationType){case"signIn":const it=yield Li._fromIdTokenResponse(y,g.operationType,st);return yield y._updateCurrentUser(it.user),it;case"reauthenticate":return H(g.user,y,"internal-error"),Li._forOperation(g.user,g.operationType,st);default:Ee(y,"internal-error")}});return function(xe){return de.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,u.Z)(function*(){return g.signInResolver(f)})()}}function tu(m,f){return wt(m,"POST","/v2/accounts/mfaEnrollment:start",Ot(m,f))}class fo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(y=>os._fromServerResponse(f.auth,y)))})}static _fromUser(f){return new fo(f)}getSession(){var f=this;return(0,u.Z)(function*(){return Rr._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var y=this;return(0,u.Z)(function*(){const I=f,O=yield y.getSession(),Y=yield Kn(y.user,I._process(y.user.auth,O,g));return yield y.user._updateTokensIfNecessary(Y),y.user.reload()})()}unenroll(f){var g=this;return(0,u.Z)(function*(){const y="string"==typeof f?f:f.uid,I=yield g.user.getIdToken(),O=yield Kn(g.user,function Vs(m,f){return wt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(m,f))}(g.user.auth,{idToken:I,mfaEnrollmentId:y}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Y})=>Y!==y),yield g.user._updateTokensIfNecessary(O);try{yield g.user.reload()}catch(Y){if("auth/user-token-expired"!==Y.code)throw Y}})()}}const Xa=new WeakMap,xr="__sak";class el{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(xr,"1"),this.storage.removeItem(xr),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vt=(()=>{class m extends el{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,y)=>this.onStorageEvent(g,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zh(){const m=(0,k.z$)();return Fa(m)||Ei(m)}()&&function Vn(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=Xr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const y of Object.keys(this.listeners)){const I=this.storage.getItem(y),O=this.localCache[y];I!==O&&g(y,O,I)}}onStorageEvent(g,y=!1){if(!g.key)return void this.forAllChangedKeys((de,xe,Ye)=>{this.notifyListeners(de,Ye)});const I=g.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(I);if(g.newValue!==de)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!y)return}const O=()=>{const de=this.storage.getItem(I);!y&&this.localCache[I]===de||this.notifyListeners(I,de)},Y=this.storage.getItem(I);!function Yo(){return(0,k.w1)()&&10===document.documentMode}()||Y===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,y){this.localCache[g]=y;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,y,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:y,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,y){var I=()=>super._set,O=this;return(0,u.Z)(function*(){yield I().call(O,g,y),O.localCache[g]=JSON.stringify(y)})()}_get(g){var y=()=>super._get,I=this;return(0,u.Z)(function*(){const O=yield y().call(I,g);return I.localCache[g]=JSON.stringify(O),O})()}_remove(g){var y=()=>super._remove,I=this;return(0,u.Z)(function*(){yield y().call(I,g),delete I.localCache[g]})()}}return m.type="LOCAL",m})(),zt=(()=>{class m extends el{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,y){}_removeListener(g,y){}}return m.type="SESSION",m})();let nu=(()=>{class m{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const y=this.receivers.find(O=>O.isListeningto(g));if(y)return y;const I=new m(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var y=this;return(0,u.Z)(function*(){const I=g,{eventId:O,eventType:Y,data:de}=I.data,xe=y.handlersMap[Y];if(!(null==xe?void 0:xe.size))return;I.ports[0].postMessage({status:"ack",eventId:O,eventType:Y});const Ye=Array.from(xe).map(function(){var it=(0,u.Z)(function*(mn){return mn(I.origin,de)});return function(mn){return it.apply(this,arguments)}}()),st=yield function sa(m){return Promise.all(m.map(function(){var f=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(y){return{fulfilled:!1,reason:y}}});return function(g){return f.apply(this,arguments)}}()))}(Ye);I.ports[0].postMessage({status:"done",eventId:O,eventType:Y,response:st})})()}_subscribe(g,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(y)}_unsubscribe(g,y){this.handlersMap[g]&&y&&this.handlersMap[g].delete(y),(!y||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function po(m="",f=10){let g="";for(let y=0;y<f;y++)g+=Math.floor(10*Math.random());return m+g}class ls{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,y=50){var I=this;return(0,u.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let Y,de;return new Promise((xe,Ye)=>{const st=po("",20);O.port1.start();const it=setTimeout(()=>{Ye(new Error("unsupported_event"))},y);de={messageChannel:O,onMessage(mn){const ji=mn;if(ji.data.eventId===st)switch(ji.data.status){case"ack":clearTimeout(it),Y=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),xe(ji.data.response);break;default:clearTimeout(it),clearTimeout(Y),Ye(new Error("invalid_response"))}}},I.handlers.add(de),O.port1.addEventListener("message",de.onMessage),I.target.postMessage({eventType:f,eventId:st,data:g},[O.port2])}).finally(()=>{de&&I.removeMessageHandler(de)})})()}}function pn(){return window}function Ji(){return void 0!==pn().WorkerGlobalScope&&"function"==typeof pn().importScripts}function iu(){return(iu=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Yl="firebaseLocalStorageDb",us="firebaseLocalStorage",ds="fbase_key";class Hs{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Gn(m,f){return m.transaction([us],f?"readwrite":"readonly").objectStore(us)}function Gs(){const m=indexedDB.open(Yl,1);return new Promise((f,g)=>{m.addEventListener("error",()=>{g(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore(us,{keyPath:ds})}catch(I){g(I)}}),m.addEventListener("success",(0,u.Z)(function*(){const y=m.result;y.objectStoreNames.contains(us)?f(y):(y.close(),yield function mi(){const m=indexedDB.deleteDatabase(Yl);return new Hs(m).toPromise()}(),f(yield Gs()))}))})}function go(m,f,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(m,f,g){const y=Gn(m,!0).put({[ds]:f,value:g});return new Hs(y).toPromise()})).apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(m,f){const g=Gn(m,!1).get(f),y=yield new Hs(g).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function ps(m,f){const g=Gn(m,!0).delete(f);return new Hs(g).toPromise()}const $s=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Gs()),g.db})()}_withRetries(g){var y=this;return(0,u.Z)(function*(){let I=0;for(;;)try{const O=yield y._openDb();return yield g(O)}catch(O){if(I++>3)throw O;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return Ji()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=nu._getInstance(function tl(){return Ji()?self:null}()),g.receiver._subscribe("keyChanged",function(){var y=(0,u.Z)(function*(I,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(I,O){return y.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var y=(0,u.Z)(function*(I,O){return["keyChanged"]});return function(I,O){return y.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var y,I;if(g.activeServiceWorker=yield function ut(){return iu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ls(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);!O||(null===(y=O[0])||void 0===y?void 0:y.fulfilled)&&(null===(I=O[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var y=this;return(0,u.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function ru(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:g},y.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Gs();return yield go(g,xr,"1"),yield ps(g,xr),!0}catch(g){}return!1})()}_withPendingWrite(g){var y=this;return(0,u.Z)(function*(){y.pendingWrites++;try{yield g()}finally{y.pendingWrites--}})()}_set(g,y){var I=this;return(0,u.Z)(function*(){return I._withPendingWrite((0,u.Z)(function*(){return yield I._withRetries(O=>go(O,g,y)),I.localCache[g]=y,I.notifyServiceWorker(g)}))})()}_get(g){var y=this;return(0,u.Z)(function*(){const I=yield y._withRetries(O=>function _o(m,f){return fs.apply(this,arguments)}(O,g));return y.localCache[g]=I,I})()}_remove(g){var y=this;return(0,u.Z)(function*(){return y._withPendingWrite((0,u.Z)(function*(){return yield y._withRetries(I=>ps(I,g)),delete y.localCache[g],y.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const y=yield g._withRetries(Y=>{const de=Gn(Y,!1).getAll();return new Hs(de).toPromise()});if(!y)return[];if(0!==g.pendingWrites)return[];const I=[],O=new Set;for(const{fbase_key:Y,value:de}of y)O.add(Y),JSON.stringify(g.localCache[Y])!==JSON.stringify(de)&&(g.notifyListeners(Y,de),I.push(Y));for(const Y of Object.keys(g.localCache))g.localCache[Y]&&!O.has(Y)&&(g.notifyListeners(Y,null),I.push(Y));return I})()}notifyListeners(g,y){this.localCache[g]=y;const I=this.listeners[g];if(I)for(const O of Array.from(I))O(y)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function gn(m,f){return wt(m,"POST","/v2/accounts/mfaSignIn:start",Ot(m,f))}function en(){return(en=(0,u.Z)(function*(m){return(yield wt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ws(m){return new Promise((f,g)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=f,y.onerror=I=>{const O=ye("internal-error");O.customData=I,g(O)},y.type="text/javascript",y.charset="UTF-8",function wn(){var m,f;return null!==(f=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==f?f:document}().appendChild(y)})}function Pr(m){return`__${m}${Math.floor(1e6*Math.random())}`}const er=1e12;class _n{constructor(f){this.auth=f,this.counter=er,this._widgets=new Map}render(f,g){const y=this.counter;return this._widgets.set(y,new br(f,this.auth.name,g||{})),this.counter++,y}reset(f){var g;const y=f||er;null===(g=this._widgets.get(y))||void 0===g||g.delete(),this._widgets.delete(y)}getResponse(f){var g;return(null===(g=this._widgets.get(f||er))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,u.Z)(function*(){var y;return null===(y=g._widgets.get(f||er))||void 0===y||y.execute(),""})()}}class br{constructor(f,g,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof f?document.getElementById(f):f;H(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function nl(m){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(y){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(y){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kl=Pr("rcb"),an=new Lt(3e4,6e4);class ag{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!pn().grecaptcha}load(f,g=""){return H(function mo(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(pn().grecaptcha):new Promise((y,I)=>{const O=pn().setTimeout(()=>{I(ye(f,"network-request-failed"))},an.get());pn()[Kl]=()=>{pn().clearTimeout(O),delete pn()[Kl];const de=pn().grecaptcha;if(!de)return void I(ye(f,"internal-error"));const xe=de.render;de.render=(Ye,st)=>{const it=xe(Ye,st);return this.counter++,it},this.hostLanguage=g,y(de)},Ws(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Kl,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),I(ye(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!pn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ii{load(f){return(0,u.Z)(function*(){return new _n(f)})()}clearedOneInstance(){}}const su="recaptcha",_s={theme:"light",type:"image"};class ou{constructor(f,g=Object.assign({},_s),y){this.parameters=g,this.type=su,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=et(y),this.isInvisible="invisible"===this.parameters.size,H("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;H(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ii:new ag,this.validateStartingState()}verify(){var f=this;return(0,u.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),y=f.getAssertedRecaptcha();return y.getResponse(g)||new Promise(O=>{const Y=de=>{!de||(f.tokenChangeListeners.delete(Y),O(de))};f.tokenChangeListeners.add(Y),f.isInvisible&&y.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(y=>y(g)),"function"==typeof f)f(g);else if("string"==typeof f){const y=pn()[f];"function"==typeof y&&y(g)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,u.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const y=document.createElement("div");g.appendChild(y),g=y}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,u.Z)(function*(){H(tt()&&!Ji(),f.auth,"internal-error"),yield function Lr(){let m=null;return new Promise(f=>{"complete"!==document.readyState?(m=()=>f(),window.addEventListener("load",m)):f()}).catch(f=>{throw m&&window.removeEventListener("load",m),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function gs(m){return en.apply(this,arguments)}(f.auth);H(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ql{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=ro._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function aa(){return(aa=(0,u.Z)(function*(m,f,g){const y=et(m),I=yield vi(y,f,(0,k.m9)(g));return new Ql(I,O=>tn(y,O))})).apply(this,arguments)}function au(){return(au=(0,u.Z)(function*(m,f,g){const y=(0,k.m9)(m);yield Ft(!1,y,"phone");const I=yield vi(y.auth,f,(0,k.m9)(g));return new Ql(I,O=>Hn(y,O))})).apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(m,f,g){const y=(0,k.m9)(m),I=yield vi(y.auth,f,(0,k.m9)(g));return new Ql(I,O=>Mr(y,O))})).apply(this,arguments)}function vi(m,f,g){return la.apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(m,f,g){var y;const I=yield g.verify();try{let O;if(H("string"==typeof I,m,"argument-error"),H(g.type===su,m,"argument-error"),O="string"==typeof f?{phoneNumber:f}:f,"session"in O){const Y=O.session;if("phoneNumber"in O)return H("enroll"===Y.type,m,"internal-error"),(yield tu(m,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{H("signin"===Y.type,m,"internal-error");const de=(null===(y=O.multiFactorHint)||void 0===y?void 0:y.uid)||O.multiFactorUid;return H(de,m,"missing-multi-factor-info"),(yield gn(m,{mfaPendingCredential:Y.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield Vh(m,{phoneNumber:O.phoneNumber,recaptchaToken:I});return Y}}finally{g._reset()}})).apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(m,f){yield Xo((0,k.m9)(m),f)})).apply(this,arguments)}let ms=(()=>{class m{constructor(g){this.providerId=m.PROVIDER_ID,this.auth=et(g)}verifyPhoneNumber(g,y){return vi(this.auth,g,(0,k.m9)(y))}static credential(g,y){return ro._fromVerification(g,y)}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:y,temporaryProof:I}=g;return y&&I?ro._fromTokenResponse(y,I):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Br(m,f){return f?ee(f):(H(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class yo extends qi{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return is(f,this._buildIdpRequest())}_linkToIdToken(f,g){return is(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return is(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function bt(m){return jn(m.auth,new yo(m),m.bypassAuthState)}function lu(m){const{auth:f,user:g}=m;return H(g,f,"internal-error"),Ha(g,new yo(m),m.bypassAuthState)}function bo(m){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(m){const{auth:f,user:g}=m;return H(g,f,"internal-error"),Xo(g,new yo(m),m.bypassAuthState)})).apply(this,arguments)}class ca{constructor(f,g,y,I,O=!1){this.auth=f,this.resolver=y,this.user=I,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,u.Z)(function*(y,I){f.pendingPromise={resolve:y,reject:I};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(O){f.reject(O)}});return function(y,I){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,u.Z)(function*(){const{urlResponse:y,sessionId:I,postBody:O,tenantId:Y,error:de,type:xe}=f;if(de)return void g.reject(de);const Ye={auth:g.auth,requestUri:y,sessionId:I,tenantId:Y||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(xe)(Ye))}catch(st){g.reject(st)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return bt;case"linkViaPopup":case"linkViaRedirect":return bo;case"reauthViaPopup":case"reauthViaRedirect":return lu;default:Ee(this.auth,"internal-error")}}resolve(f){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Do=new Lt(2e3,1e4);function Vr(){return(Vr=(0,u.Z)(function*(m,f,g){const y=et(m);Pe(m,f,ei);const I=Br(y,g);return new uu(y,"signInViaPopup",f,I).executeNotNull()})).apply(this,arguments)}function rl(){return(rl=(0,u.Z)(function*(m,f,g){const y=(0,k.m9)(m);Pe(y.auth,f,ei);const I=Br(y.auth,g);return new uu(y.auth,"reauthViaPopup",f,I,y).executeNotNull()})).apply(this,arguments)}function Dr(){return(Dr=(0,u.Z)(function*(m,f,g){const y=(0,k.m9)(m);Pe(y.auth,f,ei);const I=Br(y.auth,g);return new uu(y.auth,"linkViaPopup",f,I,y).executeNotNull()})).apply(this,arguments)}let uu=(()=>{class m extends ca{constructor(g,y,I,O,Y){super(g,y,O,Y),this.provider=I,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const y=yield g.execute();return H(y,g.auth,"internal-error"),y})()}onExecution(){var g=this;return(0,u.Z)(function*(){q(1===g.filter.length,"Popup operations only handle one event");const y=po();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],y),g.authWindow.associatedEvent=y,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(ye(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const g=()=>{var y,I;this.pollId=(null===(I=null===(y=this.authWindow)||void 0===y?void 0:y.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Do.get())};g()}}return m.currentPopupAction=null,m})();const $n=new Map;class Jl extends ca{constructor(f,g,y=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,y),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,u.Z)(function*(){let y=$n.get(g.auth._key());if(!y){try{const O=(yield function Cd(m,f){return vs.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;y=()=>Promise.resolve(O)}catch(I){y=()=>Promise.reject(I)}$n.set(g.auth._key(),y)}return g.bypassAuthState||$n.set(g.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,y=this;return(0,u.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(y,f);if("unknown"!==f.type){if(f.eventId){const I=yield y.auth._redirectUserForId(f.eventId);if(I)return y.user=I,g().call(y,f);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function vs(){return(vs=(0,u.Z)(function*(m,f){const g=U(f),y=M(m);if(!(yield y._isAvailable()))return!1;const I="true"===(yield y._get(g));return yield y._remove(g),I})).apply(this,arguments)}function Co(m,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(m,f){return M(m)._set(U(f),"true")})).apply(this,arguments)}function T(m,f){$n.set(m._key(),f)}function M(m){return ee(m._redirectPersistence)}function U(m){return Sn("pendingRedirect",m.config.apiKey,m.name)}function fe(){return(fe=(0,u.Z)(function*(m,f,g){const y=et(m);Pe(m,f,ei);const I=Br(y,g);return yield Co(I,y),I._openRedirect(y,f,"signInViaRedirect")})).apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(m,f,g){const y=(0,k.m9)(m);Pe(y.auth,f,ei);const I=Br(y.auth,g);yield Co(I,y.auth);const O=yield oi(y);return I._openRedirect(y.auth,f,"reauthViaRedirect",O)})).apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(m,f,g){const y=(0,k.m9)(m);Pe(y.auth,f,ei);const I=Br(y.auth,g);yield Ft(!1,y,f.providerId),yield Co(I,y.auth);const O=yield oi(y);return I._openRedirect(y.auth,f,"linkViaRedirect",O)})).apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(m,f){return yield et(m)._initializationPromise,Cr(m,f,!1)})).apply(this,arguments)}function Cr(m,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(m,f,g=!1){const y=et(m),I=Br(y,f),Y=yield new Jl(y,I,g).execute();return Y&&!g&&(delete Y.user._redirectEventId,yield y._persistUserIfCurrent(Y.user),yield y._setRedirectUser(null,f)),Y})).apply(this,arguments)}function oi(m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(m){const f=po(`${m.uid}:::`);return m._redirectEventId=f,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),f})).apply(this,arguments)}class Xl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(f,y)&&(g=!0,this.sendToConsumer(f,y),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function hu(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ec(m);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var y;if(f.error&&!ec(f)){const I=(null===(y=f.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";g.onError(ye(this.auth,I))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const y=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&y}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(du(f))}saveEventToCache(f){this.cachedEventUids.add(du(f)),this.lastProcessedEventTime=Date.now()}}function du(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(f=>f).join("-")}function ec({type:m,error:f}){return"unknown"===m&&"auth/no-auth-event"===(null==f?void 0:f.code)}function wd(m){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,u.Z)(function*(m,f={}){return wt(m,"GET","/v1/projects",f)})).apply(this,arguments)}const fu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sl=/^https?/;function Td(){return(Td=(0,u.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:f}=yield wd(m);for(const g of f)try{if(av(g))return}catch(y){}Ee(m,"unauthorized-domain")})).apply(this,arguments)}function av(m){const f=Me(),{protocol:g,hostname:y}=new URL(f);if(m.startsWith("chrome-extension://")){const Y=new URL(m);return""===Y.hostname&&""===y?"chrome-extension:"===g&&m.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Y.hostname===y}if(!sl.test(g))return!1;if(fu.test(m))return y===m;const I=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(y)}const qh=new Lt(3e4,6e4);function Id(){const m=pn().___jsl;if(null==m?void 0:m.H)for(const f of Object.keys(m.H))if(m.H[f].r=m.H[f].r||[],m.H[f].L=m.H[f].L||[],m.H[f].r=[...m.H[f].L],m.CP)for(let g=0;g<m.CP.length;g++)m.CP[g]=null}let ol=null;function zs(m){return ol=ol||function Kh(m){return new Promise((f,g)=>{var y,I,O;function Y(){Id(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Id(),g(ye(m,"network-request-failed"))},timeout:qh.get()})}if(null===(I=null===(y=pn().gapi)||void 0===y?void 0:y.iframes)||void 0===I?void 0:I.Iframe)f(gapi.iframes.getContext());else{if(!(null===(O=pn().gapi)||void 0===O?void 0:O.load)){const de=Pr("iframefcb");return pn()[de]=()=>{gapi.load?Y():g(ye(m,"network-request-failed"))},Ws(`https://apis.google.com/js/api.js?onload=${de}`).catch(xe=>g(xe))}Y()}}).catch(f=>{throw ol=null,f})}(m),ol}const al=new Lt(5e3,15e3),ll={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qh(m){const f=m.config;H(f.authDomain,m,"auth-domain-config-required");const g=f.emulator?un(f,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,y={apiKey:f.apiKey,appName:m.name,v:ae.SDK_VERSION},I=cl.get(m.config.apiHost);I&&(y.eid=I);const O=m._getFrameworks();return O.length&&(y.fw=O.join(",")),`${g}?${(0,k.xO)(y).slice(1)}`}function Zs(){return Zs=(0,u.Z)(function*(m){const f=yield zs(m),g=pn().gapi;return H(g,m,"internal-error"),f.open({where:document.body,url:Qh(m),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ll,dontclear:!0},y=>new Promise(function(){var I=(0,u.Z)(function*(O,Y){yield y.restyle({setHideOnLeave:!1});const de=ye(m,"network-request-failed"),xe=pn().setTimeout(()=>{Y(de)},al.get());function Ye(){pn().clearTimeout(xe),O(y)}y.ping(Ye).then(Ye,()=>{Y(de)})});return function(O,Y){return I.apply(this,arguments)}}()))}),Zs.apply(this,arguments)}const gu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ir(m,f,g,y,I,O){H(m.config.authDomain,m,"auth-domain-config-required"),H(m.config.apiKey,m,"invalid-api-key");const Y={apiKey:m.config.apiKey,appName:m.name,authType:g,redirectUrl:y,v:ae.SDK_VERSION,eventId:I};if(f instanceof ei){f.setDefaultLanguage(m.languageCode),Y.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(Y.customParameters=JSON.stringify(f.getCustomParameters()));for(const[xe,Ye]of Object.entries(O||{}))Y[xe]=Ye}if(f instanceof Rs){const xe=f.getScopes().filter(Ye=>""!==Ye);xe.length>0&&(Y.scopes=xe.join(","))}m.tenantId&&(Y.tid=m.tenantId);const de=Y;for(const xe of Object.keys(de))void 0===de[xe]&&delete de[xe];return`${function Ys({config:m}){return m.emulator?un(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,k.xO)(de).slice(1)}`}const rc="webStorageSupport";class yu extends class cv{constructor(f){this.factorId=f}_process(f,g,y){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,y);case"signin":return this._finalizeSignIn(f,g.credential);default:return ve("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new yu(f)}_finalizeEnroll(f,g,y){return function Wh(m,f){return wt(m,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(m,f))}(f,{idToken:g,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function ql(m,f){return wt(m,"POST","/v2/accounts/mfaSignIn:finalize",Ot(m,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let uv=(()=>{class m{constructor(){}static assertion(g){return yu._fromCredential(g)}}return m.FACTOR_ID="phone",m})();var Nd="@firebase/auth";class tf{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(y=>{var I;f((null===(I=y)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function da(){return window}function wr(){return(wr=(0,u.Z)(function*(m,f,g){var y;const{BuildInfo:I}=da();q(f.sessionId,"AuthEvent did not contain a session ID");const O=yield dv(f.sessionId),Y={};return Ei()?Y.ibi=I.packageName:pi()?Y.apn=I.packageName:Ee(m,"operation-not-supported-in-this-environment"),I.displayName&&(Y.appDisplayName=I.displayName),Y.sessionId=O,ir(m,g,f.type,void 0,null!==(y=f.eventId)&&void 0!==y?y:void 0,Y)})).apply(this,arguments)}function Du(){return(Du=(0,u.Z)(function*(m){const{BuildInfo:f}=da(),g={};Ei()?g.iosBundleId=f.packageName:pi()?g.androidPackageName=f.packageName:Ee(m,"operation-not-supported-in-this-environment"),yield wd(m,g)})).apply(this,arguments)}function nf(){return(nf=(0,u.Z)(function*(m,f,g){const{cordova:y}=da();let I=()=>{};try{yield new Promise((O,Y)=>{let de=null;function xe(){var it;O();const mn=null===(it=y.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof mn&&mn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ye(){de||(de=window.setTimeout(()=>{Y(ye(m,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===(null==document?void 0:document.visibilityState)&&Ye()}f.addPassiveListener(xe),document.addEventListener("resume",Ye,!1),pi()&&document.addEventListener("visibilitychange",st,!1),I=()=>{f.removePassiveListener(xe),document.removeEventListener("resume",Ye,!1),document.removeEventListener("visibilitychange",st,!1),de&&window.clearTimeout(de)}})}finally{I()}})).apply(this,arguments)}function dv(m){return ac.apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(m){const f=Md(m),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Md(m){if(q(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const f=new ArrayBuffer(m.length),g=new Uint8Array(f);for(let y=0;y<m.length;y++)g[y]=m.charCodeAt(y);return g}!function hg(m){(0,ae._registerComponent)(new le.wA("auth",(f,{options:g})=>{const y=f.getProvider("app").getImmediate(),I=f.getProvider("heartbeat"),{apiKey:O,authDomain:Y}=y.options;return((de,xe)=>{H(O&&!O.includes(":"),"invalid-api-key",{appName:de.name}),H(!(null==Y?void 0:Y.includes(":")),"argument-error",{appName:de.name});const Ye={apiKey:O,authDomain:Y,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:io(m)},st=new Ve(de,xe,Ye);return function oe(m,f){const g=(null==f?void 0:f.persistence)||[],y=(Array.isArray(g)?g:[g]).map(ee);(null==f?void 0:f.errorMap)&&m._updateErrorMap(f.errorMap),m._initializeWithPersistence(y,null==f?void 0:f.popupRedirectResolver)}(st,g),st})(y,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,y)=>{f.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new le.wA("auth-internal",f=>{const g=et(f.getProvider("auth").getImmediate());return new tf(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Nd,"0.20.2",function bu(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ae.registerVersion)(Nd,"0.20.2","esm2017")}("Browser");class wu extends Xl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,u.Z)(function*(){yield f.initPromise})()}}function dl(m){return lc.apply(this,arguments)}function lc(){return(lc=(0,u.Z)(function*(m){const f=yield cc()._get(hl(m));return f&&(yield cc()._remove(hl(m))),f})).apply(this,arguments)}function sf(){const m=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const y=Math.floor(Math.random()*f.length);m.push(f.charAt(y))}return m.join("")}function cc(){return ee(Vt)}function hl(m){return Sn("authEvent",m.config.apiKey,m.name)}function Ai(m){if(!(null==m?void 0:m.includes("?")))return{};const[f,...g]=m.split("?");return(0,k.zd)(g.join("?"))}function ha(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function wo(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function uf(m=(0,k.z$)()){return!("file:"!==wo()&&"ionic:"!==wo()&&"capacitor:"!==wo()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function xd(){try{const m=self.localStorage,f=po();if(m)return m.setItem(f,"1"),m.removeItem(f),!function Iu(m=(0,k.z$)()){return function fl(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ln(m=(0,k.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,k.hl)()}catch(m){return Su()&&(0,k.hl)()}return!1}function Su(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Wn(){return(function cf(){return"http:"===wo()||"https:"===wo()}()||(0,k.ru)()||uf())&&!function Rd(){return(0,k.b$)()||(0,k.UG)()}()&&xd()&&!Su()}function pl(){return uf()&&"undefined"!=typeof document}function dc(){return(dc=(0,u.Z)(function*(){return!!pl()&&new Promise(m=>{const f=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),m(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},Eo=H,Pd="persistence";function fa(m){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,u.Z)(function*(m){yield m._initializationPromise;const f=Nu(),g=Sn(Pd,m.config.apiKey,m.name);f&&f.setItem(g,m._getPersistence())})).apply(this,arguments)}function Nu(){var m;try{return(null===(m=function yg(){return"undefined"!=typeof window?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch(f){return null}}const Dg=H;class Er{constructor(){this.browserResolver=ee(class dg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zt,this._completeRedirectFn=Cr,this._overrideRedirectResult=T}_openPopup(f,g,y,I){var O=this;return(0,u.Z)(function*(){var Y;q(null===(Y=O.eventManagers[f._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const de=ir(f,g,y,Me(),I);return function ic(m,f,g,y=500,I=600){const O=Math.max((window.screen.availHeight-I)/2,0).toString(),Y=Math.max((window.screen.availWidth-y)/2,0).toString();let de="";const xe=Object.assign(Object.assign({},gu),{width:y.toString(),height:I.toString(),top:O,left:Y}),Ye=(0,k.z$)().toLowerCase();g&&(de=Zo(Ye)?"_blank":g),zo(Ye)&&(f=f||"http://localhost",xe.scrollbars="yes");const st=Object.entries(xe).reduce((mn,[ji,gl])=>`${mn}${ji}=${gl},`,"");if(function Ms(m=(0,k.z$)()){var f;return Ei(m)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Ye)&&"_self"!==de)return function lg(m,f){const g=document.createElement("a");g.href=m,g.target=f;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(y)}(f||"",de),new Jh(null);const it=window.open(f||"",de,st);H(it,m,"popup-blocked");try{it.focus()}catch(mn){}return new Jh(it)}(f,de,po())})()}_openRedirect(f,g,y,I){var O=this;return(0,u.Z)(function*(){return yield O._originValidation(f),function cs(m){pn().location.href=m}(ir(f,g,y,Me(),I)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:I,promise:O}=this.eventManagers[g];return I?Promise.resolve(I):(q(O,"If manager is not set, promise should be"),O)}const y=this.initAndGetManager(f);return this.eventManagers[g]={promise:y},y.catch(()=>{delete this.eventManagers[g]}),y}initAndGetManager(f){var g=this;return(0,u.Z)(function*(){const y=yield function lv(m){return Zs.apply(this,arguments)}(f),I=new Xl(f);return y.register("authEvent",O=>(H(null==O?void 0:O.authEvent,f,"invalid-auth-event"),{status:I.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:I},g.iframes[f._key()]=y,I})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(rc,{type:rc},I=>{var O;const Y=null===(O=null==I?void 0:I[0])||void 0===O?void 0:O[rc];void 0!==Y&&g(!!Y),Ee(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function tc(m){return Td.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Xr()||Fa()||Ei()}}),this.cordovaResolver=ee(class af{constructor(){this._redirectPersistence=zt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cr,this._overrideRedirectResult=T}_initialize(f){var g=this;return(0,u.Z)(function*(){const y=f._key();let I=g.eventManagers.get(y);return I||(I=new wu(f),g.eventManagers.set(y,I),g.attachCallbackListeners(f,I)),I})()}_openPopup(f){Ee(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,y,I){var O=this;return(0,u.Z)(function*(){!function ul(m){var f,g,y,I,O,Y,de,xe,Ye,st;const it=da();H("function"==typeof(null===(f=null==it?void 0:it.universalLinks)||void 0===f?void 0:f.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(void 0!==(null===(g=null==it?void 0:it.BuildInfo)||void 0===g?void 0:g.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(O=null===(I=null===(y=null==it?void 0:it.cordova)||void 0===y?void 0:y.plugins)||void 0===I?void 0:I.browsertab)||void 0===O?void 0:O.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(xe=null===(de=null===(Y=null==it?void 0:it.cordova)||void 0===Y?void 0:Y.plugins)||void 0===de?void 0:de.browsertab)||void 0===xe?void 0:xe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(st=null===(Ye=null==it?void 0:it.cordova)||void 0===Ye?void 0:Ye.InAppBrowser)||void 0===st?void 0:st.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Y=yield O._initialize(f);yield Y.initialized(),Y.resetRedirect(),function w(){$n.clear()}(),yield O._originValidation(f);const de=function Eu(m,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:sf(),postBody:null,tenantId:m.tenantId,error:ye(m,"no-auth-event")}}(f,y,I);yield function rf(m,f){return cc()._set(hl(m),f)}(f,de);const xe=yield function Ad(m,f,g){return wr.apply(this,arguments)}(f,de,g),Ye=yield function Cu(m){const{cordova:f}=da();return new Promise(g=>{f.plugins.browsertab.isAvailable(y=>{let I=null;y?f.plugins.browsertab.openUrl(m):I=f.InAppBrowser.open(m,function Lc(m=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),g(I)})})}(xe);return function qs(m,f,g){return nf.apply(this,arguments)}(f,Y,Ye)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function oc(m){return Du.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:y,handleOpenURL:I,BuildInfo:O}=da(),Y=setTimeout((0,u.Z)(function*(){yield dl(f),g.onEvent(ha())}),500),de=function(){var st=(0,u.Z)(function*(it){clearTimeout(Y);const mn=yield dl(f);let ji=null;mn&&(null==it?void 0:it.url)&&(ji=function pg(m,f){var g,y;const I=function uc(m){const f=Ai(m),g=f.link?decodeURIComponent(f.link):void 0,y=Ai(g).link,I=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Ai(I).link||I||y||g||m}(f);if(I.includes("/__/auth/callback")){const O=Ai(I),Y=O.firebaseError?function gg(m){try{return JSON.parse(m)}catch(f){return null}}(decodeURIComponent(O.firebaseError)):null,de=null===(y=null===(g=null==Y?void 0:Y.code)||void 0===g?void 0:g.split("auth/"))||void 0===y?void 0:y[1],xe=de?ye(de):null;return xe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:xe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:I,postBody:null}}return null}(mn,it.url)),g.onEvent(ji||ha())});return function(mn){return st.apply(this,arguments)}}();void 0!==y&&"function"==typeof y.subscribe&&y.subscribe(null,de);const xe=I,Ye=`${O.packageName.toLowerCase()}://`;da().handleOpenURL=function(){var st=(0,u.Z)(function*(it){if(it.toLowerCase().startsWith(Ye)&&de({url:it}),"function"==typeof xe)try{xe(it)}catch(mn){console.error(mn)}});return function(it){return st.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=zt,this._completeRedirectFn=Cr,this._overrideRedirectResult=T}_initialize(f){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,y,I){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(f,g,y,I)})()}_openRedirect(f,g,y,I){var O=this;return(0,u.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(f,g,y,I)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return pl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Dg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,u.Z)(function*(){if(f.underlyingResolver)return;const g=yield function kd(){return dc.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Au(m){return m.unwrap()}function wg(m){return df(m)}function df(m){const{_tokenResponse:f}=m instanceof k.ZR?m.customData:m;if(!f)return null;if(!(m instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ms.credentialFromResult(m);const g=f.providerId;if(!g||"password"===g)return null;let y;switch(g){case"google.com":y=zc;break;case"facebook.com":y=so;break;case"github.com":y=_d;break;case"twitter.com":y=Zc;break;default:const{oauthIdToken:I,oauthAccessToken:O,oauthTokenSecret:Y,pendingToken:de,nonce:xe}=f;return O||Y||I||de?de?g.startsWith("saml.")?xs._create(g,de):Ar._fromParams({providerId:g,signInMethod:g,pendingToken:de,idToken:I,accessToken:O}):new _r(g).credential({idToken:I,accessToken:O,rawNonce:xe}):null}return m instanceof k.ZR?y.credentialFromError(m):y.credentialFromResult(m)}function Vi(m,f){return f.catch(g=>{throw g instanceof k.ZR&&function Mu(m,f){var g;const y=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Eg(m,function Mn(m,f){var g;const y=(0,k.m9)(m),I=f;return H(f.customData.operationType,y,"argument-error"),H(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,y,"argument-error"),Bs._fromError(y,I)}(m,f));else if(y){const I=df(f),O=f;I&&(O.credential=I,O.tenantId=y.tenantId||void 0,O.email=y.email||void 0,O.phoneNumber=y.phoneNumber||void 0)}}(m,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:wg(g),additionalUserInfo:Pn(g),user:Gr.getOrCreate(I)}})}function Ld(m,f){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,u.Z)(function*(m,f){const g=yield f;return{verificationId:g.verificationId,confirm:y=>Vi(m,g.confirm(y))}})).apply(this,arguments)}class Eg{constructor(f,g){this.resolver=g,this.auth=function Cg(m){return m.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Vi(Au(this.auth),this.resolver.resolveSignIn(f))}}class Gr{constructor(f){this._delegate=f,this.multiFactor=function zh(m){const f=(0,k.m9)(m);return Xa.has(f)||Xa.set(f,fo._fromUser(f)),Xa.get(f)}(f)}static getOrCreate(f){return Gr.USER_MAP.has(f)||Gr.USER_MAP.set(f,new Gr(f)),Gr.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,u.Z)(function*(){return Vi(g.auth,Hn(g._delegate,f))})()}linkWithPhoneNumber(f,g){var y=this;return(0,u.Z)(function*(){return Ld(y.auth,function il(m,f,g){return au.apply(this,arguments)}(y._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,u.Z)(function*(){return Vi(g.auth,function cu(m,f,g){return Dr.apply(this,arguments)}(g._delegate,f,Er))})()}linkWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield fa(et(g.auth)),function Rt(m,f,g){return function _t(m,f,g){return Tn.apply(this,arguments)}(m,f,g)}(g._delegate,f,Er)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,u.Z)(function*(){return Vi(g.auth,Mr(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Ld(this.auth,function Dd(m,f,g){return ri.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Vi(this.auth,function tr(m,f,g){return rl.apply(this,arguments)}(this._delegate,f,Er))}reauthenticateWithRedirect(f){var g=this;return(0,u.Z)(function*(){return yield fa(et(g.auth)),function ze(m,f,g){return function Qe(m,f,g){return nt.apply(this,arguments)}(m,f,g)}(g._delegate,f,Er)})()}sendEmailVerification(f){return function Qi(m,f){return Wl.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,u.Z)(function*(){return yield function md(m,f){return Gt.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Kc(m,f){return Qa((0,k.m9)(m),f,null)}(this._delegate,f)}updatePassword(f){return function Qc(m,f){return Qa((0,k.m9)(m),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function vo(m,f){return Ur.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function qa(m,f){return Ka.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function Za(m,f,g){return Ya.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gr.USER_MAP=new WeakMap;const fc=H;let hf=(()=>{class m{constructor(g,y){if(this.app=g,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;fc(I,"invalid-api-key",{appName:g.name}),fc(I,"invalid-api-key",{appName:g.name});const O="undefined"!=typeof window?Er:void 0;this._delegate=y.initialize({options:{persistence:Tg(I,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,y){!function Ii(m,f,g){const y=et(m);H(y._canInitEmulator,y,"emulator-config-failed"),H(/^https?:\/\//.test(f),y,"invalid-emulator-scheme");const I=!!(null==g?void 0:g.disableWarnings),O=dr(f),{host:Y,port:de}=function bn(m){const f=dr(m),g=/(\/\/)?([^?#/]+)/.exec(m.substr(f.length));if(!g)return{host:"",port:null};const y=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(y);if(I){const O=I[1];return{host:O,port:hr(y.substr(O.length+1))}}{const[O,Y]=y.split(":");return{host:O,port:hr(Y)}}}(f);y.config.emulator={url:`${O}//${Y}${null===de?"":`:${de}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:Y,port:de,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function qt(){function m(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,g,y)}applyActionCode(g){return function co(m,f){return Te.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Et(this._delegate,g)}confirmPasswordReset(g,y){return function $a(m,f,g){return jl.apply(this,arguments)}(this._delegate,g,y)}createUserWithEmailAndPassword(g,y){var I=this;return(0,u.Z)(function*(){return Vi(I._delegate,function Fs(m,f,g){return Ui.apply(this,arguments)}(I._delegate,g,y))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function za(m,f){return as.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function qc(m,f){const g=ja.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){fc(Wn(),g._delegate,"operation-not-supported-in-this-environment");const y=yield function Fn(m,f){return jr.apply(this,arguments)}(g._delegate,Er);return y?Vi(g._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function lf(m,f){et(m)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,y,I){const{next:O,error:Y,complete:de}=ff(g,y,I);return this._delegate.onAuthStateChanged(O,Y,de)}onIdTokenChanged(g,y,I){const{next:O,error:Y,complete:de}=ff(g,y,I);return this._delegate.onIdTokenChanged(O,Y,de)}sendSignInLinkToEmail(g,y){return function Gl(m,f,g){return $l.apply(this,arguments)}(this._delegate,g,y)}sendPasswordResetEmail(g,y){return function Vl(m,f,g){return Ga.apply(this,arguments)}(this._delegate,g,y||void 0)}setPersistence(g){var y=this;return(0,u.Z)(function*(){let I;switch(function bg(m,f){Eo(Object.values(Mi).includes(f),m,"invalid-persistence-type"),(0,k.b$)()?Eo(f!==Mi.SESSION,m,"unsupported-persistence-type"):(0,k.UG)()?Eo(f===Mi.NONE,m,"unsupported-persistence-type"):Su()?Eo(f===Mi.NONE||f===Mi.LOCAL&&(0,k.hl)(),m,"unsupported-persistence-type"):Eo(f===Mi.NONE||xd(),m,"unsupported-persistence-type")}(y._delegate,g),g){case Mi.SESSION:I=zt;break;case Mi.LOCAL:I=(yield ee($s)._isAvailable())?$s:Vt;break;case Mi.NONE:I=ft;break;default:return Ee("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Vi(this._delegate,function Yc(m){return Fl.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Vi(this._delegate,tn(this._delegate,g))}signInWithCustomToken(g){return Vi(this._delegate,function lo(m,f){return ct.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,y){return Vi(this._delegate,function Hl(m,f,g){return tn((0,k.m9)(m),Wc.credential(f,g))}(this._delegate,g,y))}signInWithEmailLink(g,y){return Vi(this._delegate,function Gh(m,f,g){return Or.apply(this,arguments)}(this._delegate,g,y))}signInWithPhoneNumber(g,y){return Ld(this._delegate,function En(m,f,g){return aa.apply(this,arguments)}(this._delegate,g,y))}signInWithPopup(g){var y=this;return(0,u.Z)(function*(){return fc(Wn(),y._delegate,"operation-not-supported-in-this-environment"),Vi(y._delegate,function Yh(m,f,g){return Vr.apply(this,arguments)}(y._delegate,g,Er))})()}signInWithRedirect(g){var y=this;return(0,u.Z)(function*(){return fc(Wn(),y._delegate,"operation-not-supported-in-this-environment"),yield fa(y._delegate),function K(m,f,g){return function ne(m,f,g){return fe.apply(this,arguments)}(m,f,g)}(y._delegate,g,Er)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Jt(m,f){return Wa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Mi,m})();function ff(m,f,g){let y=m;"function"!=typeof m&&({next:y,error:f,complete:g}=m);const I=y;return{next:Y=>I(Y&&Gr.getOrCreate(Y)),error:f,complete:g}}function Tg(m,f){const g=function hc(m,f){const g=Nu();if(!g)return[];const y=Sn(Pd,m,f);switch(g.getItem(y)){case Mi.NONE:return[ft];case Mi.LOCAL:return[$s,zt];case Mi.SESSION:return[zt];default:return[]}}(m,f);if("undefined"!=typeof self&&!g.includes($s)&&g.push($s),"undefined"!=typeof window)for(const y of[Vt,zt])g.includes(y)||g.push(y);return g.includes(ft)||g.push(ft),g}class Bd{constructor(){this.providerId="phone",this._delegate=new ms(Au(J.Z.auth()))}static credential(f,g){return ms.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Bd.PHONE_SIGN_IN_METHOD=ms.PHONE_SIGN_IN_METHOD,Bd.PROVIDER_ID=ms.PROVIDER_ID;const pf=H;class hv{constructor(f,g,y=J.Z.app()){var I;pf(null===(I=y.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new ou(f,g,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pa(m){m.INTERNAL.registerComponent(new le.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),y=f.getProvider("auth");return new hf(g,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Wc,FacebookAuthProvider:so,GithubAuthProvider:_d,GoogleAuthProvider:zc,OAuthProvider:_r,SAMLAuthProvider:_i,PhoneAuthProvider:Bd,PhoneMultiFactorGenerator:uv,RecaptchaVerifier:hv,TwitterAuthProvider:Zc,Auth:hf,AuthCredential:qi,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.15")}(J.Z)},8306:(We,_e,x)=>{x.d(_e,{y:()=>G});var u=x(930),J=x(727),k=x(8822),ae=x(4671);var le=x(2416),se=x(576),ce=x(2806);let G=(()=>{class Se{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const he=new Se;return he.source=this,he.operator=ke,he}subscribe(ke,he,De){const Be=function Ue(Se){return Se&&Se instanceof u.Lv||function te(Se){return Se&&(0,se.m)(Se.next)&&(0,se.m)(Se.error)&&(0,se.m)(Se.complete)}(Se)&&(0,J.Nn)(Se)}(ke)?ke:new u.Hp(ke,he,De);return(0,ce.x)(()=>{const{operator:$e,source:Ee}=this;Be.add($e?$e.call(Be,Ee):Ee?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(ke){try{return this._subscribe(ke)}catch(he){ke.error(he)}}forEach(ke,he){return new(he=j(he))((De,Be)=>{const $e=new u.Hp({next:Ee=>{try{ke(Ee)}catch(ye){Be(ye),$e.unsubscribe()}},error:Be,complete:De});this.subscribe($e)})}_subscribe(ke){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe(ke)}[k.L](){return this}pipe(...ke){return function pe(Se){return 0===Se.length?ae.y:1===Se.length?Se[0]:function(ke){return Se.reduce((he,De)=>De(he),ke)}}(ke)(this)}toPromise(ke){return new(ke=j(ke))((he,De)=>{let Be;this.subscribe($e=>Be=$e,$e=>De($e),()=>he(Be))})}}return Se.create=Ae=>new Se(Ae),Se})();function j(Se){var Ae;return null!==(Ae=null!=Se?Se:le.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(We,_e,x)=>{x.d(_e,{x:()=>le});var u=x(8306),J=x(727);const ae=(0,x(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=x(8737),pe=x(2806);let le=(()=>{class ce extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const te=new se(this,this);return te.operator=j,te}_throwIfClosed(){if(this.closed)throw new ae}next(j){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(j)}})}error(j){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:te}=this;for(;te.length;)te.shift().error(j)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:te,isStopped:Ue,observers:Se}=this;return te||Ue?J.Lc:(this.currentObservers=null,Se.push(j),new J.w0(()=>{this.currentObservers=null,(0,ie.P)(Se,j)}))}_checkFinalizedStatuses(j){const{hasError:te,thrownError:Ue,isStopped:Se}=this;te?j.error(Ue):Se&&j.complete()}asObservable(){const j=new u.y;return j.source=this,j}}return ce.create=(G,j)=>new se(G,j),ce})();class se extends le{constructor(G,j){super(),this.destination=G,this.source=j}next(G){var j,te;null===(te=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===te||te.call(j,G)}error(G){var j,te;null===(te=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===te||te.call(j,G)}complete(){var G,j;null===(j=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===j||j.call(G)}_subscribe(G){var j,te;return null!==(te=null===(j=this.source)||void 0===j?void 0:j.subscribe(G))&&void 0!==te?te:J.Lc}}},930:(We,_e,x)=>{x.d(_e,{Hp:()=>ke,Lv:()=>te});var u=x(576),J=x(727),k=x(2416),ae=x(7849),ie=x(5032);const pe=ce("C",void 0,void 0);function ce(Ee,ye,be){return{kind:Ee,value:ye,error:be}}var G=x(3410),j=x(2806);class te extends J.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,J.Nn)(ye)&&ye.add(this)):this.destination=$e}static create(ye,be,Pe){return new ke(ye,be,Pe)}next(ye){this.isStopped?Be(function se(Ee){return ce("N",Ee,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Be(function le(Ee){return ce("E",void 0,Ee)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Be(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Se(Ee,ye){return Ue.call(Ee,ye)}class Ae{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:be}=this;if(be.next)try{be.next(ye)}catch(Pe){he(Pe)}}error(ye){const{partialObserver:be}=this;if(be.error)try{be.error(ye)}catch(Pe){he(Pe)}else he(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(be){he(be)}}}class ke extends te{constructor(ye,be,Pe){let Fe;if(super(),(0,u.m)(ye)||!ye)Fe={next:null!=ye?ye:void 0,error:null!=be?be:void 0,complete:null!=Pe?Pe:void 0};else{let H;this&&k.v.useDeprecatedNextContext?(H=Object.create(ye),H.unsubscribe=()=>this.unsubscribe(),Fe={next:ye.next&&Se(ye.next,H),error:ye.error&&Se(ye.error,H),complete:ye.complete&&Se(ye.complete,H)}):Fe=ye}this.destination=new Ae(Fe)}}function he(Ee){k.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ee):(0,ae.h)(Ee)}function Be(Ee,ye){const{onStoppedNotification:be}=k.v;be&&G.z.setTimeout(()=>be(Ee,ye))}const $e={closed:!0,next:ie.Z,error:function De(Ee){throw Ee},complete:ie.Z}},727:(We,_e,x)=>{x.d(_e,{Lc:()=>pe,w0:()=>ie,Nn:()=>le});var u=x(576);const k=(0,x(3888).d)(ce=>function(j){ce(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((te,Ue)=>`${Ue+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ae=x(8737);class ie{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Se of j)Se.remove(this);else j.remove(this);const{initialTeardown:te}=this;if((0,u.m)(te))try{te()}catch(Se){G=Se instanceof k?Se.errors:[Se]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Se of Ue)try{se(Se)}catch(Ae){G=null!=G?G:[],Ae instanceof k?G=[...G,...Ae.errors]:G.push(Ae)}}if(G)throw new k(G)}}add(G){var j;if(G&&G!==this)if(this.closed)se(G);else{if(G instanceof ie){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(G)}}_hasParent(G){const{_parentage:j}=this;return j===G||Array.isArray(j)&&j.includes(G)}_addParent(G){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(G),j):j?[j,G]:G}_removeParent(G){const{_parentage:j}=this;j===G?this._parentage=null:Array.isArray(j)&&(0,ae.P)(j,G)}remove(G){const{_finalizers:j}=this;j&&(0,ae.P)(j,G),G instanceof ie&&G._removeParent(this)}}ie.EMPTY=(()=>{const ce=new ie;return ce.closed=!0,ce})();const pe=ie.EMPTY;function le(ce){return ce instanceof ie||ce&&"closed"in ce&&(0,u.m)(ce.remove)&&(0,u.m)(ce.add)&&(0,u.m)(ce.unsubscribe)}function se(ce){(0,u.m)(ce)?ce():ce.unsubscribe()}},2416:(We,_e,x)=>{x.d(_e,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(We,_e,x)=>{x.d(_e,{E:()=>J});const J=new(x(8306).y)(ie=>ie.complete())},8996:(We,_e,x)=>{x.d(_e,{D:()=>ye});var u=x(8421),J=x(5363),k=x(9468),pe=x(8306),se=x(2202),ce=x(576),G=x(9672);function te(be,Pe){if(!be)throw new Error("Iterable cannot be null");return new pe.y(Fe=>{(0,G.f)(Fe,Pe,()=>{const H=be[Symbol.asyncIterator]();(0,G.f)(Fe,Pe,()=>{H.next().then(ve=>{ve.done?Fe.complete():Fe.next(ve.value)})},0,!0)})})}var Ue=x(3670),Se=x(8239),Ae=x(1144),ke=x(6495),he=x(2206),De=x(4532),Be=x(3260);function ye(be,Pe){return Pe?function Ee(be,Pe){if(null!=be){if((0,Ue.c)(be))return function ae(be,Pe){return(0,u.Xf)(be).pipe((0,k.R)(Pe),(0,J.Q)(Pe))}(be,Pe);if((0,Ae.z)(be))return function le(be,Pe){return new pe.y(Fe=>{let H=0;return Pe.schedule(function(){H===be.length?Fe.complete():(Fe.next(be[H++]),Fe.closed||this.schedule())})})}(be,Pe);if((0,Se.t)(be))return function ie(be,Pe){return(0,u.Xf)(be).pipe((0,k.R)(Pe),(0,J.Q)(Pe))}(be,Pe);if((0,he.D)(be))return te(be,Pe);if((0,ke.T)(be))return function j(be,Pe){return new pe.y(Fe=>{let H;return(0,G.f)(Fe,Pe,()=>{H=be[se.h](),(0,G.f)(Fe,Pe,()=>{let ve,q;try{({value:ve,done:q}=H.next())}catch(re){return void Fe.error(re)}q?Fe.complete():Fe.next(ve)},0,!0)}),()=>(0,ce.m)(null==H?void 0:H.return)&&H.return()})}(be,Pe);if((0,Be.L)(be))return function $e(be,Pe){return te((0,Be.Q)(be),Pe)}(be,Pe)}throw(0,De.z)(be)}(be,Pe):(0,u.Xf)(be)}},8421:(We,_e,x)=>{x.d(_e,{Xf:()=>Ue});var u=x(655),J=x(1144),k=x(8239),ae=x(8306),ie=x(3670),pe=x(2206),le=x(4532),se=x(6495),ce=x(3260),G=x(576),j=x(7849),te=x(8822);function Ue(Ee){if(Ee instanceof ae.y)return Ee;if(null!=Ee){if((0,ie.c)(Ee))return function Se(Ee){return new ae.y(ye=>{const be=Ee[te.L]();if((0,G.m)(be.subscribe))return be.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,J.z)(Ee))return function Ae(Ee){return new ae.y(ye=>{for(let be=0;be<Ee.length&&!ye.closed;be++)ye.next(Ee[be]);ye.complete()})}(Ee);if((0,k.t)(Ee))return function ke(Ee){return new ae.y(ye=>{Ee.then(be=>{ye.closed||(ye.next(be),ye.complete())},be=>ye.error(be)).then(null,j.h)})}(Ee);if((0,pe.D)(Ee))return De(Ee);if((0,se.T)(Ee))return function he(Ee){return new ae.y(ye=>{for(const be of Ee)if(ye.next(be),ye.closed)return;ye.complete()})}(Ee);if((0,ce.L)(Ee))return function Be(Ee){return De((0,ce.Q)(Ee))}(Ee)}throw(0,le.z)(Ee)}function De(Ee){return new ae.y(ye=>{(function $e(Ee,ye){var be,Pe,Fe,H;return(0,u.mG)(this,void 0,void 0,function*(){try{for(be=(0,u.KL)(Ee);!(Pe=yield be.next()).done;)if(ye.next(Pe.value),ye.closed)return}catch(ve){Fe={error:ve}}finally{try{Pe&&!Pe.done&&(H=be.return)&&(yield H.call(be))}finally{if(Fe)throw Fe.error}}ye.complete()})})(Ee,ye).catch(be=>ye.error(be))})}},6451:(We,_e,x)=>{x.d(_e,{T:()=>pe});var u=x(8189),J=x(8421),k=x(515),ae=x(3269),ie=x(8996);function pe(...le){const se=(0,ae.yG)(le),ce=(0,ae._6)(le,1/0),G=le;return G.length?1===G.length?(0,J.Xf)(G[0]):(0,u.J)(ce)((0,ie.D)(G,se)):k.E}},5403:(We,_e,x)=>{x.d(_e,{x:()=>J});var u=x(930);function J(ae,ie,pe,le,se){return new k(ae,ie,pe,le,se)}class k extends u.Lv{constructor(ie,pe,le,se,ce,G){super(ie),this.onFinalize=ce,this.shouldUnsubscribe=G,this._next=pe?function(j){try{pe(j)}catch(te){ie.error(te)}}:super._next,this._error=se?function(j){try{se(j)}catch(te){ie.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=le?function(){try{le()}catch(j){ie.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(We,_e,x)=>{x.d(_e,{U:()=>k});var u=x(4482),J=x(5403);function k(ae,ie){return(0,u.e)((pe,le)=>{let se=0;pe.subscribe((0,J.x)(le,ce=>{le.next(ae.call(ie,ce,se++))}))})}},8189:(We,_e,x)=>{x.d(_e,{J:()=>k});var u=x(5577),J=x(4671);function k(ae=1/0){return(0,u.z)(J.y,ae)}},5577:(We,_e,x)=>{x.d(_e,{z:()=>se});var u=x(4004),J=x(8421),k=x(4482),ae=x(9672),ie=x(5403),le=x(576);function se(ce,G,j=1/0){return(0,le.m)(G)?se((te,Ue)=>(0,u.U)((Se,Ae)=>G(te,Se,Ue,Ae))((0,J.Xf)(ce(te,Ue))),j):("number"==typeof G&&(j=G),(0,k.e)((te,Ue)=>function pe(ce,G,j,te,Ue,Se,Ae,ke){const he=[];let De=0,Be=0,$e=!1;const Ee=()=>{$e&&!he.length&&!De&&G.complete()},ye=Pe=>De<te?be(Pe):he.push(Pe),be=Pe=>{Se&&G.next(Pe),De++;let Fe=!1;(0,J.Xf)(j(Pe,Be++)).subscribe((0,ie.x)(G,H=>{null==Ue||Ue(H),Se?ye(H):G.next(H)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(De--;he.length&&De<te;){const H=he.shift();Ae?(0,ae.f)(G,Ae,()=>be(H)):be(H)}Ee()}catch(H){G.error(H)}}))};return ce.subscribe((0,ie.x)(G,ye,()=>{$e=!0,Ee()})),()=>{null==ke||ke()}}(te,Ue,ce,j)))}},5363:(We,_e,x)=>{x.d(_e,{Q:()=>ae});var u=x(9672),J=x(4482),k=x(5403);function ae(ie,pe=0){return(0,J.e)((le,se)=>{le.subscribe((0,k.x)(se,ce=>(0,u.f)(se,ie,()=>se.next(ce),pe),()=>(0,u.f)(se,ie,()=>se.complete(),pe),ce=>(0,u.f)(se,ie,()=>se.error(ce),pe)))})}},3099:(We,_e,x)=>{x.d(_e,{B:()=>pe});var u=x(8996),J=x(5698),k=x(7579),ae=x(930),ie=x(4482);function pe(se={}){const{connector:ce=(()=>new k.x),resetOnError:G=!0,resetOnComplete:j=!0,resetOnRefCountZero:te=!0}=se;return Ue=>{let Se=null,Ae=null,ke=null,he=0,De=!1,Be=!1;const $e=()=>{null==Ae||Ae.unsubscribe(),Ae=null},Ee=()=>{$e(),Se=ke=null,De=Be=!1},ye=()=>{const be=Se;Ee(),null==be||be.unsubscribe()};return(0,ie.e)((be,Pe)=>{he++,!Be&&!De&&$e();const Fe=ke=null!=ke?ke:ce();Pe.add(()=>{he--,0===he&&!Be&&!De&&(Ae=le(ye,te))}),Fe.subscribe(Pe),Se||(Se=new ae.Hp({next:H=>Fe.next(H),error:H=>{Be=!0,$e(),Ae=le(Ee,G,H),Fe.error(H)},complete:()=>{De=!0,$e(),Ae=le(Ee,j),Fe.complete()}}),(0,u.D)(be).subscribe(Se))})(Ue)}}function le(se,ce,...G){return!0===ce?(se(),null):!1===ce?null:ce(...G).pipe((0,J.q)(1)).subscribe(()=>se())}},9468:(We,_e,x)=>{x.d(_e,{R:()=>J});var u=x(4482);function J(k,ae=0){return(0,u.e)((ie,pe)=>{pe.add(k.schedule(()=>ie.subscribe(pe),ae))})}},5698:(We,_e,x)=>{x.d(_e,{q:()=>ae});var u=x(515),J=x(4482),k=x(5403);function ae(ie){return ie<=0?()=>u.E:(0,J.e)((pe,le)=>{let se=0;pe.subscribe((0,k.x)(le,ce=>{++se<=ie&&(le.next(ce),ie<=se&&le.complete())}))})}},8505:(We,_e,x)=>{x.d(_e,{b:()=>ie});var u=x(576),J=x(4482),k=x(5403),ae=x(4671);function ie(pe,le,se){const ce=(0,u.m)(pe)||le||se?{next:pe,error:le,complete:se}:pe;return ce?(0,J.e)((G,j)=>{var te;null===(te=ce.subscribe)||void 0===te||te.call(ce);let Ue=!0;G.subscribe((0,k.x)(j,Se=>{var Ae;null===(Ae=ce.next)||void 0===Ae||Ae.call(ce,Se),j.next(Se)},()=>{var Se;Ue=!1,null===(Se=ce.complete)||void 0===Se||Se.call(ce),j.complete()},Se=>{var Ae;Ue=!1,null===(Ae=ce.error)||void 0===Ae||Ae.call(ce,Se),j.error(Se)},()=>{var Se,Ae;Ue&&(null===(Se=ce.unsubscribe)||void 0===Se||Se.call(ce)),null===(Ae=ce.finalize)||void 0===Ae||Ae.call(ce)}))}):ae.y}},4408:(We,_e,x)=>{x.d(_e,{o:()=>ie});var u=x(727);class J extends u.w0{constructor(le,se){super()}schedule(le,se=0){return this}}const k={setInterval(pe,le,...se){const{delegate:ce}=k;return(null==ce?void 0:ce.setInterval)?ce.setInterval(pe,le,...se):setInterval(pe,le,...se)},clearInterval(pe){const{delegate:le}=k;return((null==le?void 0:le.clearInterval)||clearInterval)(pe)},delegate:void 0};var ae=x(8737);class ie extends J{constructor(le,se){super(le,se),this.scheduler=le,this.work=se,this.pending=!1}schedule(le,se=0){if(this.closed)return this;this.state=le;const ce=this.id,G=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(G,ce,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(G,this.id,se),this}requestAsyncId(le,se,ce=0){return k.setInterval(le.flush.bind(le,this),ce)}recycleAsyncId(le,se,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return se;k.clearInterval(se)}execute(le,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(le,se);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(le,se){let G,ce=!1;try{this.work(le)}catch(j){ce=!0,G=j||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:le,scheduler:se}=this,{actions:ce}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ce,this),null!=le&&(this.id=this.recycleAsyncId(se,le,null)),this.delay=null,super.unsubscribe()}}}},7565:(We,_e,x)=>{x.d(_e,{v:()=>k});var u=x(6063);class J{constructor(ie,pe=J.now){this.schedulerActionCtor=ie,this.now=pe}schedule(ie,pe=0,le){return new this.schedulerActionCtor(this,ie).schedule(le,pe)}}J.now=u.l.now;class k extends J{constructor(ie,pe=J.now){super(ie,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:pe}=this;if(this._active)return void pe.push(ie);let le;this._active=!0;do{if(le=ie.execute(ie.state,ie.delay))break}while(ie=pe.shift());if(this._active=!1,le){for(;ie=pe.shift();)ie.unsubscribe();throw le}}}},4986:(We,_e,x)=>{x.d(_e,{P:()=>ae,z:()=>k});var u=x(4408);const k=new(x(7565).v)(u.o),ae=k},6063:(We,_e,x)=>{x.d(_e,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(We,_e,x)=>{x.d(_e,{z:()=>u});const u={setTimeout(J,k,...ae){const{delegate:ie}=u;return(null==ie?void 0:ie.setTimeout)?ie.setTimeout(J,k,...ae):setTimeout(J,k,...ae)},clearTimeout(J){const{delegate:k}=u;return((null==k?void 0:k.clearTimeout)||clearTimeout)(J)},delegate:void 0}},2202:(We,_e,x)=>{x.d(_e,{h:()=>J});const J=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(We,_e,x)=>{x.d(_e,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(We,_e,x)=>{x.d(_e,{_6:()=>pe,jO:()=>ae,yG:()=>ie});var u=x(576),J=x(3532);function k(le){return le[le.length-1]}function ae(le){return(0,u.m)(k(le))?le.pop():void 0}function ie(le){return(0,J.K)(k(le))?le.pop():void 0}function pe(le,se){return"number"==typeof k(le)?le.pop():se}},8737:(We,_e,x)=>{function u(J,k){if(J){const ae=J.indexOf(k);0<=ae&&J.splice(ae,1)}}x.d(_e,{P:()=>u})},3888:(We,_e,x)=>{function u(J){const ae=J(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}x.d(_e,{d:()=>u})},2806:(We,_e,x)=>{x.d(_e,{O:()=>ae,x:()=>k});var u=x(2416);let J=null;function k(ie){if(u.v.useDeprecatedSynchronousErrorHandling){const pe=!J;if(pe&&(J={errorThrown:!1,error:null}),ie(),pe){const{errorThrown:le,error:se}=J;if(J=null,le)throw se}}else ie()}function ae(ie){u.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ie)}},9672:(We,_e,x)=>{function u(J,k,ae,ie=0,pe=!1){const le=k.schedule(function(){ae(),pe?J.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(J.add(le),!pe)return le}x.d(_e,{f:()=>u})},4671:(We,_e,x)=>{function u(J){return J}x.d(_e,{y:()=>u})},1144:(We,_e,x)=>{x.d(_e,{z:()=>u});const u=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(We,_e,x)=>{x.d(_e,{D:()=>J});var u=x(576);function J(k){return Symbol.asyncIterator&&(0,u.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(We,_e,x)=>{function u(J){return"function"==typeof J}x.d(_e,{m:()=>u})},3670:(We,_e,x)=>{x.d(_e,{c:()=>k});var u=x(8822),J=x(576);function k(ae){return(0,J.m)(ae[u.L])}},6495:(We,_e,x)=>{x.d(_e,{T:()=>k});var u=x(2202),J=x(576);function k(ae){return(0,J.m)(null==ae?void 0:ae[u.h])}},8239:(We,_e,x)=>{x.d(_e,{t:()=>J});var u=x(576);function J(k){return(0,u.m)(null==k?void 0:k.then)}},3260:(We,_e,x)=>{x.d(_e,{L:()=>ae,Q:()=>k});var u=x(655),J=x(576);function k(ie){return(0,u.FC)(this,arguments,function*(){const le=ie.getReader();try{for(;;){const{value:se,done:ce}=yield(0,u.qq)(le.read());if(ce)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(se)}}finally{le.releaseLock()}})}function ae(ie){return(0,J.m)(null==ie?void 0:ie.getReader)}},3532:(We,_e,x)=>{x.d(_e,{K:()=>J});var u=x(576);function J(k){return k&&(0,u.m)(k.schedule)}},4482:(We,_e,x)=>{x.d(_e,{A:()=>J,e:()=>k});var u=x(576);function J(ae){return(0,u.m)(null==ae?void 0:ae.lift)}function k(ae){return ie=>{if(J(ie))return ie.lift(function(pe){try{return ae(pe,this)}catch(le){this.error(le)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(We,_e,x)=>{function u(){}x.d(_e,{Z:()=>u})},7849:(We,_e,x)=>{x.d(_e,{h:()=>k});var u=x(2416),J=x(3410);function k(ae){J.z.setTimeout(()=>{const{onUnhandledError:ie}=u.v;if(!ie)throw ae;ie(ae)})}},4532:(We,_e,x)=>{function u(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(_e,{z:()=>u})},655:(We,_e,x)=>{function ae(q,re){var ee={};for(var ge in q)Object.prototype.hasOwnProperty.call(q,ge)&&re.indexOf(ge)<0&&(ee[ge]=q[ge]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(ge=Object.getOwnPropertySymbols(q);oe<ge.length;oe++)re.indexOf(ge[oe])<0&&Object.prototype.propertyIsEnumerable.call(q,ge[oe])&&(ee[ge[oe]]=q[ge[oe]])}return ee}function se(q,re,ee,ge){return new(ee||(ee=Promise))(function(Me,tt){function It(Lt){try{je(ge.next(Lt))}catch(un){tt(un)}}function Ct(Lt){try{je(ge.throw(Lt))}catch(un){tt(un)}}function je(Lt){Lt.done?Me(Lt.value):function oe(Me){return Me instanceof ee?Me:new ee(function(tt){tt(Me)})}(Lt.value).then(It,Ct)}je((ge=ge.apply(q,re||[])).next())})}function he(q){return this instanceof he?(this.v=q,this):new he(q)}function De(q,re,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ge=ee.apply(q,re||[]),Me=[];return oe={},tt("next"),tt("throw"),tt("return"),oe[Symbol.asyncIterator]=function(){return this},oe;function tt(Ut){ge[Ut]&&(oe[Ut]=function(kt){return new Promise(function(di,Ot){Me.push([Ut,kt,di,Ot])>1||It(Ut,kt)})})}function It(Ut,kt){try{!function Ct(Ut){Ut.value instanceof he?Promise.resolve(Ut.value.v).then(je,Lt):un(Me[0][2],Ut)}(ge[Ut](kt))}catch(di){un(Me[0][3],di)}}function je(Ut){It("next",Ut)}function Lt(Ut){It("throw",Ut)}function un(Ut,kt){Ut(kt),Me.shift(),Me.length&&It(Me[0][0],Me[0][1])}}function $e(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,re=q[Symbol.asyncIterator];return re?re.call(q):(q=function te(q){var re="function"==typeof Symbol&&Symbol.iterator,ee=re&&q[re],ge=0;if(ee)return ee.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&ge>=q.length&&(q=void 0),{value:q&&q[ge++],done:!q}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),ee={},ge("next"),ge("throw"),ge("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function ge(Me){ee[Me]=q[Me]&&function(tt){return new Promise(function(It,Ct){!function oe(Me,tt,It,Ct){Promise.resolve(Ct).then(function(je){Me({value:je,done:It})},tt)}(It,Ct,(tt=q[Me](tt)).done,tt.value)})}}}x.d(_e,{FC:()=>De,KL:()=>$e,_T:()=>ae,mG:()=>se,qq:()=>he})},5e3:(We,_e,x)=>{x.d(_e,{$8M:()=>Ws,$Z:()=>Uy,AFp:()=>eT,ALo:()=>Q0,AaK:()=>se,CHM:()=>uo,CRH:()=>BE,CZH:()=>Eb,CqO:()=>Hy,EJc:()=>xS,EpF:()=>Vy,F$t:()=>Zy,F4k:()=>ih,FYo:()=>W0,FiY:()=>oi,G48:()=>$S,Gf:()=>ob,GfV:()=>z0,Gpc:()=>j,Hsn:()=>Yy,Ikx:()=>I0,JOm:()=>O,LFG:()=>Qe,LSH:()=>ha,Lbi:()=>MS,MAs:()=>Xd,MGl:()=>ap,NdJ:()=>S_,OlP:()=>an,Oqu:()=>A_,PXZ:()=>uT,Q6J:()=>w_,QGY:()=>jy,Qsj:()=>vE,QtT:()=>j0,R0b:()=>Es,RDi:()=>Ll,Rgc:()=>Sa,SBq:()=>Xu,SDv:()=>B0,Sil:()=>PS,Suo:()=>_h,TTD:()=>_r,TgZ:()=>ip,Tol:()=>d0,Udp:()=>c0,VKq:()=>AE,VLi:()=>Mb,W1O:()=>lb,WLB:()=>q0,X6Q:()=>GS,XFs:()=>lt,Xpm:()=>ot,Y36:()=>nh,YKP:()=>TE,YNc:()=>wa,Yjl:()=>Zo,Yz7:()=>kt,ZZ4:()=>Rc,_Bn:()=>hE,_UZ:()=>T_,_Vd:()=>gp,_c5:()=>Gb,_uU:()=>_0,aQg:()=>Pp,c2e:()=>OS,cJS:()=>Ot,cg1:()=>N0,dDg:()=>am,deG:()=>bd,dqk:()=>Tt,eFA:()=>cm,ekj:()=>u0,g9A:()=>tT,h0i:()=>uh,hGG:()=>bm,hij:()=>cp,iGM:()=>gh,ifc:()=>St,ip1:()=>wb,kEZ:()=>ME,kL8:()=>A0,lG2:()=>Fa,n5z:()=>en,oAB:()=>fi,oxw:()=>zy,pQV:()=>V0,q4F:()=>Z0,qLn:()=>Mu,qOj:()=>Ey,qZA:()=>rp,s9C:()=>qy,sBO:()=>WS,sIi:()=>Jd,s_b:()=>ph,soG:()=>Ib,tBr:()=>nr,tb:()=>nT,tp0:()=>ys,uIk:()=>h_,vHH:()=>Ae,vpe:()=>Po,wAp:()=>ht,xi3:()=>RE,xp6:()=>Og,z2F:()=>dm,zSh:()=>n_,zs3:()=>So});var u=x(7579),J=x(727),k=x(8306),ae=x(6451),ie=x(3099);function pe(r){for(let s in r)if(r[s]===pe)return s;throw Error("Could not find renamed property on target object.")}function le(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function se(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(se).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ce(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const G=pe({__forward_ref__:pe});function j(r){return r.__forward_ref__=j,r.toString=function(){return se(this())},r}function te(r){return Ue(r)?r():r}function Ue(r){return"function"==typeof r&&r.hasOwnProperty(G)&&r.__forward_ref__===j}class Ae extends Error{constructor(s,a){super(function ke(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function he(r){return"string"==typeof r?r:null==r?"":String(r)}function De(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():he(r)}function ye(r,s){const a=s?` in ${s}`:"";throw new Ae(-201,`No provider for ${De(r)} found${a}`)}function je(r,s,a,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}function kt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ot(r){return{providers:r.providers||[],imports:r.imports||[]}}function wt(r){return cr(r,ur)||cr(r,Ci)}function cr(r,s){return r.hasOwnProperty(s)?r[s]:null}function hi(r){return r&&(r.hasOwnProperty(Qr)||r.hasOwnProperty(Yi))?r[Qr]:null}const ur=pe({\u0275prov:pe}),Qr=pe({\u0275inj:pe}),Ci=pe({ngInjectableDef:pe}),Yi=pe({ngInjectorDef:pe});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let ki;function dn(r){const s=ki;return ki=r,s}function Jr(r,s,a){const c=wt(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==s?s:void ye(se(r),"Injector")}function kn(r){return{toString:r}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),St=(()=>{return(r=St||(St={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",St;var r})();const Je="undefined"!=typeof globalThis&&globalThis,dt="undefined"!=typeof window&&window,Kn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Tt=Je||"undefined"!=typeof global&&global||dt||Kn,Jn={},B=[],W=pe({\u0275cmp:pe}),Z=pe({\u0275dir:pe}),Ce=pe({\u0275pipe:pe}),$=pe({\u0275mod:pe}),X=pe({\u0275fac:pe}),Ne=pe({__NG_ELEMENT_ID__:pe});let Ze=0;function ot(r){return kn(()=>{const a={},c={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||B,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||St.Emulated,id:"c",styles:r.styles||B,_:null,setInput:null,schemas:r.schemas||null,tView:null},d=r.directives,p=r.features,v=r.pipes;return c.id+=Ze++,c.inputs=zo(r.inputs,a),c.outputs=zo(r.outputs),p&&p.forEach(D=>D(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(Yt):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(ft):null,c})}function Yt(r){return Nn(r)||function pi(r){return r[Z]||null}(r)}function ft(r){return function Nr(r){return r[Ce]||null}(r)}const Sn={};function fi(r){return kn(()=>{const s={type:r.type,bootstrap:r.bootstrap||B,declarations:r.declarations||B,imports:r.imports||B,exports:r.exports||B,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(Sn[r.id]=r.type),s})}function zo(r,s){if(null==r)return Jn;const a={};for(const c in r)if(r.hasOwnProperty(c)){let d=r[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,s&&(s[d]=p)}return a}const Fa=ot;function Zo(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Nn(r){return r[W]||null}function An(r,s){const a=r[$]||null;if(!a&&!0===s)throw new Error(`Type ${se(r)} does not have '\u0275mod' property.`);return a}function Si(r){return Array.isArray(r)&&"object"==typeof r[1]}function fr(r){return Array.isArray(r)&&!0===r[1]}function Ba(r){return 0!=(8&r.flags)}function Uc(r){return 2==(2&r.flags)}function pr(r){return 1==(1&r.flags)}function gr(r){return null!==r.template}function xl(r){return 0!=(512&r[2])}function ei(r,s){return r.hasOwnProperty(X)?r[X]:null}class Rs{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function _r(){return so}function so(r){return r.type.prototype.ngOnChanges&&(r.setInput=_d),zc}function zc(){const r=xs(this),s=null==r?void 0:r.current;if(s){const a=r.previous;if(a===Jn)r.previous=s;else for(let c in s)a[c]=s[c];r.current=null,this.ngOnChanges(s)}}function _d(r,s,a,c){const d=xs(r)||function oo(r,s){return r[gi]=s}(r,{previous:Jn,current:null}),p=d.current||(d.current={}),v=d.previous,D=this.declaredInputs[a],C=v[D];p[D]=new Rs(C&&C.currentValue,s,v===Jn),r[c]=s}_r.ngInherit=!0;const gi="__ngSimpleChanges__";function xs(r){return r[gi]||null}let ao;function Ll(r){ao=r}function mr(){return void 0!==ao?ao:"undefined"!=typeof document?document:void 0}function Gt(r){return!!r.listen}const Xo={createRenderer:(r,s)=>mr()};function Ft(r){for(;Array.isArray(r);)r=r[0];return r}function ss(r,s){return Ft(s[r])}function jn(r,s){return Ft(s[r.index])}function tn(r,s){return r.data[s]}function vr(r,s){return r[s]}function Hn(r,s){const a=s[r];return Si(a)?a:a[0]}function Ps(r){return 4==(4&r[2])}function Mr(r){return 128==(128&r[2])}function Ki(r,s){return null==s?null:r[s]}function yr(r){r[18]=0}function lo(r,s){r[5]+=s;let a=r,c=r[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const ct={lFrame:ho(null),bindingsEnabled:!0};function $a(){return ct.bindingsEnabled}function Te(){return ct.lFrame.lView}function Et(){return ct.lFrame.tView}function uo(r){return ct.lFrame.contextLView=r,r[8]}function Jt(){let r=Wa();for(;null!==r&&64===r.type;)r=r.parent;return r}function Wa(){return ct.lFrame.currentTNode}function Fs(){const r=ct.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function Ui(r,s){const a=ct.lFrame;a.currentTNode=r,a.isParent=s}function Hl(){return ct.lFrame.isParent}function Gl(){ct.lFrame.isParent=!1}function ni(){const r=ct.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function as(){return ct.lFrame.bindingIndex++}function Qi(r){const s=ct.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function Za(r){ct.lFrame.inI18n=r}function Ya(r,s){const a=ct.lFrame;a.bindingIndex=a.bindingRootIndex=r,ia(s)}function ia(r){ct.lFrame.currentDirectiveIndex=r}function Ka(){return ct.lFrame.currentQueryIndex}function Kc(r){ct.lFrame.currentQueryIndex=r}function Qc(r){const s=r[1];return 2===s.type?s.declTNode:1===s.type?r[6]:null}function Qa(r,s,a){if(a&lt.SkipSelf){let d=s,p=r;for(;!(d=d.parent,null!==d||a&lt.Host||(d=Qc(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,r=p}const c=ct.lFrame=Jc();return c.currentTNode=s,c.lView=r,!0}function Ls(r){const s=Jc(),a=r[1];ct.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Jc(){const r=ct.lFrame,s=null===r?null:r.child;return null===s?ho(r):s}function ho(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function Xc(){const r=ct.lFrame;return ct.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Ja=Xc;function Ni(){const r=Xc();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Pn(){return ct.lFrame.selectedIndex}function Us(r){ct.lFrame.selectedIndex=r}function Cn(){const r=ct.lFrame;return tn(r.tView,r.selectedIndex)}function ra(r,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=r.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:N}=p;v&&(r.contentHooks||(r.contentHooks=[])).push(-a,v),D&&((r.contentHooks||(r.contentHooks=[])).push(a,D),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(a,D)),C&&(r.viewHooks||(r.viewHooks=[])).push(-a,C),S&&((r.viewHooks||(r.viewHooks=[])).push(a,S),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(a,S)),null!=N&&(r.destroyHooks||(r.destroyHooks=[])).push(a,N)}}function Rr(r,s,a){tu(r,s,3,a)}function Bs(r,s,a,c){(3&r[2])===a&&tu(r,s,a,c)}function Mn(r,s){let a=r[2];(3&a)===s&&(a&=2047,a+=1,r[2]=a)}function tu(r,s,a,c){const p=null!=c?c:-1,v=s.length-1;let D=0;for(let C=void 0!==c?65535&r[18]:0;C<v;C++)if("number"==typeof s[C+1]){if(D=s[C],null!=c&&D>=c)break}else s[C]<0&&(r[18]+=65536),(D<p||-1==p)&&(Wh(r,a,s,C),r[18]=(4294901760&r[18])+C+2),C++}function Wh(r,s,a,c){const d=a[c]<0,p=a[c+1],D=r[d?-a[c]:a[c]];if(d){if(r[2]>>11<r[18]>>16&&(3&r[2])===s){r[2]+=2048;try{p.call(D)}finally{}}}else try{p.call(D)}finally{}}class fo{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Vt(r,s,a){const c=Gt(r);let d=0;for(;d<a.length;){const p=a[d];if("number"==typeof p){if(0!==p)break;d++;const v=a[d++],D=a[d++],C=a[d++];c?r.setAttribute(s,D,C,v):s.setAttributeNS(v,D,C)}else{const v=p,D=a[++d];zt(v)?c&&r.setProperty(s,v,D):c?r.setAttribute(s,v,D):s.setAttribute(v,D),d++}}return d}function On(r){return 3===r||4===r||6===r}function zt(r){return 64===r.charCodeAt(0)}function sa(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||nu(r,a,d,null,-1===a||2===a?s[++c]:null)}}return r}function nu(r,s,a,c,d){let p=0,v=r.length;if(-1===s)v=-1;else for(;p<r.length;){const D=r[p++];if("number"==typeof D){if(D===s){v=-1;break}if(D>s){v=p-1;break}}}for(;p<r.length;){const D=r[p];if("number"==typeof D)break;if(D===a){if(null===c)return void(null!==d&&(r[p+1]=d));if(c===r[p+1])return void(r[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==v&&(r.splice(v,0,s),p=v+1),r.splice(p++,0,a),null!==c&&r.splice(p++,0,c),null!==d&&r.splice(p++,0,d)}function po(r){return-1!==r}function ls(r){return 32767&r}function cs(r,s){let a=function pn(r){return r>>16}(r),c=s;for(;a>0;)c=c[15],a--;return c}let Ji=!0;function ut(r){const s=Ji;return Ji=r,s}let Yl=0;function us(r,s){const a=Hs(r,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(r.injectorIndex=s.length,ds(c.data,r),ds(s,null),ds(c.blueprint,null));const d=Gn(r,s),p=r.injectorIndex;if(po(d)){const v=ls(d),D=cs(d,s),C=D[1].data;for(let S=0;S<8;S++)s[p+S]=D[v+S]|C[v+S]}return s[p+8]=d,p}function ds(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Hs(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Gn(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const p=d[1],v=p.type;if(c=2===v?p.declTNode:1===v?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function mi(r,s,a){!function Xt(r,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Ne)&&(c=a[Ne]),null==c&&(c=a[Ne]=Yl++);const d=255&c;s.data[r+(d>>5)]|=1<<d}(r,s,a)}function go(r,s,a){if(a&lt.Optional)return r;ye(s,"NodeInjector")}function hs(r,s,a,c){if(a&lt.Optional&&void 0===c&&(c=null),0==(a&(lt.Self|lt.Host))){const d=r[9],p=dn(void 0);try{return d?d.get(s,c,a&lt.Optional):Jr(s,c,a&lt.Optional)}finally{dn(p)}}return go(c,s,a)}function _o(r,s,a,c=lt.Default,d){if(null!==r){const p=function $s(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Ne)?r[Ne]:void 0;return"number"==typeof s?s>=0?255&s:ps:s}(a);if("function"==typeof p){if(!Qa(s,r,c))return c&lt.Host?go(d,a,c):hs(s,a,c,d);try{const v=p(c);if(null!=v||c&lt.Optional)return v;ye(a)}finally{Ja()}}else if("number"==typeof p){let v=null,D=Hs(r,s),C=-1,S=c&lt.Host?s[16][6]:null;for((-1===D||c&lt.SkipSelf)&&(C=-1===D?Gn(r,s):s[D+8],-1!==C&&ql(c,!1)?(v=s[1],D=ls(C),s=cs(C,s)):D=-1);-1!==D;){const N=s[1];if(gn(p,D,N.data)){const F=kr(D,s,a,v,c,S);if(F!==fs)return F}C=s[D+8],-1!==C&&ql(c,s[1].data[D+8]===S)&&gn(p,D,s)?(v=N,D=ls(C),s=cs(C,s)):D=-1}}}return hs(s,a,c,d)}const fs={};function ps(){return new gs(Jt(),Te())}function kr(r,s,a,c,d,p){const v=s[1],D=v.data[r+8],N=oa(D,v,a,null==c?Uc(D)&&Ji:c!=v&&0!=(3&D.type),d&lt.Host&&p===D);return null!==N?Xi(s,v,N,D):fs}function oa(r,s,a,c,d){const p=r.providerIndexes,v=s.data,D=1048575&p,C=r.directiveStart,N=p>>20,V=d?D+N:r.directiveEnd;for(let Q=c?D:D+N;Q<V;Q++){const me=v[Q];if(Q<C&&a===me||Q>=C&&me.type===a)return Q}if(d){const Q=v[C];if(Q&&gr(Q)&&Q.type===a)return C}return null}function Xi(r,s,a,c){let d=r[a];const p=s.data;if(function Xa(r){return r instanceof fo}(d)){const v=d;v.resolving&&function Be(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${r}${a}`)}(De(p[a]));const D=ut(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?dn(v.injectImpl):null;Qa(r,c,lt.Default);try{d=r[a]=v.factory(void 0,p,r,c),s.firstCreatePass&&a>=c.directiveStart&&function og(r,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const v=so(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(r,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-r,d),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(r,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,p))}(a,p[a],s)}finally{null!==C&&dn(C),ut(D),v.resolving=!1,Ja()}}return d}function gn(r,s,a){return!!(a[s+(r>>5)]&1<<r)}function ql(r,s){return!(r&lt.Self||r&lt.Host&&s)}class gs{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return _o(this._tNode,this._lView,s,c,a)}}function en(r){return kn(()=>{const s=r.prototype.constructor,a=s[X]||wn(s),c=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==c;){const p=d[X]||wn(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function wn(r){return Ue(r)?()=>{const s=wn(te(r));return s&&s()}:ei(r)}function Ws(r){return function Gs(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(On(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(Jt(),r)}const Fr="__parameters__";function br(r,s,a){return kn(()=>{const c=function _n(r){return function(...a){if(r){const c=r(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const v=new d(...p);return D.annotation=v,D;function D(C,S,N){const F=C.hasOwnProperty(Fr)?C[Fr]:Object.defineProperty(C,Fr,{value:[]})[Fr];for(;F.length<=N;)F.push(null);return(F[N]=F[N]||[]).push(v),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}class an{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=kt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const bd=new an("AnalyzeForEntryComponents");function ri(r,s){void 0===s&&(s=r);for(let a=0;a<r.length;a++){let c=r[a];Array.isArray(c)?(s===r&&(s=r.slice(0,a)),ri(c,s)):s!==r&&s.push(c)}return s}function vi(r,s){r.forEach(a=>Array.isArray(a)?vi(a,s):s(a))}function la(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function vo(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Ur(r,s){const a=[];for(let c=0;c<r;c++)a.push(s);return a}function si(r,s,a){let c=Do(r,s);return c>=0?r[1|c]=a:(c=~c,function yo(r,s,a,c){let d=r.length;if(d==s)r.push(a,c);else if(1===d)r.push(c,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=a,r[s+1]=c}}(r,c,s,a)),c}function ca(r,s){const a=Do(r,s);if(a>=0)return r[1|a]}function Do(r,s){return function Vr(r,s,a){let c=0,d=r.length>>a;for(;d!==c;){const p=c+(d-c>>1),v=r[p<<a];if(s===v)return p<<a;v>s?d=p:c=p+1}return~(d<<a)}(r,s,1)}const vs={},Co="__NG_DI_FLAG__",ua="ngTempTokenPath",T=/\n/gm,U="__source",K=pe({provide:String,useValue:pe});let ne;function fe(r){const s=ne;return ne=r,s}function ze(r,s=lt.Default){if(void 0===ne)throw new Ae(203,"");return null===ne?Jr(r,void 0,s):ne.get(r,s&lt.Optional?null:void 0,s)}function Qe(r,s=lt.Default){return(function rn(){return ki}()||ze)(te(r),s)}const Rt=Qe;function _t(r){const s=[];for(let a=0;a<r.length;a++){const c=te(r[a]);if(Array.isArray(c)){if(0===c.length)throw new Ae(900,"");let d,p=lt.Default;for(let v=0;v<c.length;v++){const D=c[v],C=Fn(D);"number"==typeof C?-1===C?d=D.token:p|=C:d=D}s.push(Qe(d,p))}else s.push(Qe(c))}return s}function Tn(r,s){return r[Co]=s,r.prototype[Co]=s,r}function Fn(r){return r[Co]}const nr=Tn(br("Inject",r=>({token:r})),-1),oi=Tn(br("Optional"),8),ys=Tn(br("SkipSelf"),4);let nc;function ll(r){var s;return(null===(s=function pu(){if(void 0===nc&&(nc=null,Tt.trustedTypes))try{nc=Tt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return nc}())||void 0===s?void 0:s.createHTML(r))||r}class vu{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ir(r){return r instanceof vu?r.changingThisBreaksApplicationSecurity:r}class ef{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ll(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class tf{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ll(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=ll(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const v=a.item(d).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&s.removeAttribute(v)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const hg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,da=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sc(r){return(r=String(r)).match(hg)||r.match(da)?r:"unsafe:"+r}function Ad(r){return(r=String(r)).split(",").map(s=>sc(s.trim())).join(", ")}function wr(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function oc(...r){const s={};for(const a of r)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const Du=wr("area,br,col,hr,img,wbr"),Cu=wr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qs=wr("rp,rt"),ac=oc(Du,oc(Cu,wr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oc(qs,wr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oc(qs,Cu)),Md=wr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Od=wr("srcset"),rf=oc(Md,Od,wr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function ha(r){const s=function fl(){const r=Te();return r&&r[12]}();return s?s.sanitize(In.URL,r)||"":function Ys(r,s){const a=function rc(r){return r instanceof vu&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(r,"URL")?ir(r):sc(he(r))}const Su="__ngContext__";function Wn(r,s){r[Su]=s}function kd(r){const s=function pl(r){return r[Su]||null}(r);return s?Array.isArray(s)?s:s.lView:null}function Au(r){return r.ngOriginalError}function wg(r,...s){r.error(...s)}class Mu{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=function Cg(r){return r&&r.ngErrorLogger||wg}(s);c(this._console,"ERROR",s),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Au(s);for(;a&&Au(a);)a=Au(a);return a||null}}const Ld=/^>|^->|<!--|-->|--!>|<!-$/g,Ud=/(<|>)/;const Bd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt))();function m(r){return r instanceof Function?r():r}var O=(()=>((O=O||{})[O.Important=1]="Important",O[O.DashCase=2]="DashCase",O))();let Y;function de(r,s){return Y(r,s)}function st(r){const s=r[3];return fr(s)?s[3]:s}function ji(r){return Vd(r[13])}function gl(r){return Vd(r[4])}function Vd(r){for(;null!==r&&!fr(r);)r=r[4];return r}function ga(r,s,a,c,d){if(null!=c){let p,v=!1;fr(c)?p=c:Si(c)&&(v=!0,c=c[0]);const D=Ft(c);0===r&&null!==a?null==d?mv(s,a,D):vl(s,a,D,d||null,!0):1===r&&null!==a?vl(s,a,D,d||null,!0):2===r?Ev(s,D,v):3===r&&s.destroyNode(D),null!=p&&function WD(r,s,a,c,d){const p=a[7];p!==Ft(a)&&ga(s,r,c,p,d);for(let D=10;D<a.length;D++){const C=a[D];$d(C[1],C,r,s,c,p)}}(s,r,p,a,d)}}function pc(r,s){return Gt(r)?r.createText(s):r.createTextNode(s)}function Ou(r,s,a){Gt(r)?r.setValue(s,a):s.textContent=a}function mf(r,s){return r.createComment(function Gr(r){return r.replace(Ld,s=>s.replace(Ud,"\u200b$1\u200b"))}(s))}function yi(r,s,a){if(Gt(r))return r.createElement(s,a);{const c=null!==a?function Fl(r){const s=r.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===c?r.createElement(s):r.createElementNS(c,s)}}function pv(r,s){const a=r[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,lo(d,-1)),a.splice(c,1)}function vf(r,s){if(r.length<=10)return;const a=10+s,c=r[a];if(c){const d=c[17];null!==d&&d!==r&&pv(d,c),s>0&&(r[a-1][4]=c[4]);const p=vo(r,10+s);!function jd(r,s){$d(r,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const v=p[19];null!==v&&v.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function gv(r,s){if(!(256&s[2])){const a=s[11];Gt(a)&&a.destroyNode&&$d(r,s,a,3,null,null),function _a(r){let s=r[13];if(!s)return yf(r[1],r);for(;s;){let a=null;if(Si(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==r;)Si(s)&&yf(s[1],s),s=s[3];null===s&&(s=r),Si(s)&&yf(s[1],s),a=s&&s[4]}s=a}}(s)}}function yf(r,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Ig(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof fo)){const p=a[c+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const D=d[p[v]],C=p[v+1];try{C.call(D)}finally{}}else try{p.call(d)}finally{}}}}(r,s),function _v(r,s){const a=r.cleanup,c=s[7];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const v=a[p+1],D="function"==typeof v?v(s):Ft(s[v]),C=c[d=a[p+2]],S=a[p+3];"boolean"==typeof S?D.removeEventListener(a[p],C,S):S>=0?c[d=S]():c[d=-S].unsubscribe(),p+=2}else{const v=c[d=a[p+1]];a[p].call(v)}if(null!==c){for(let p=d+1;p<c.length;p++)c[p]();s[7]=null}}(r,s),1===s[1].type&&Gt(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&fr(s[3])){a!==s[3]&&pv(a,s);const c=s[19];null!==c&&c.detachView(r)}}}function HD(r,s,a){return ml(r,s.parent,a)}function ml(r,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=r.data[c.directiveStart].encapsulation;if(d===St.None||d===St.Emulated)return null}return jn(c,a)}function vl(r,s,a,c,d){Gt(r)?r.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function mv(r,s,a){Gt(r)?r.appendChild(s,a):s.appendChild(a)}function vv(r,s,a,c,d){null!==c?vl(r,s,a,c,d):mv(r,s,a)}function bf(r,s){return Gt(r)?r.parentNode(s):s.parentNode}function bv(r,s,a){return Dv(r,s,a)}function Sg(r,s,a){return 40&r.type?jn(r,a):null}let Ng,Dv=Sg;function Cv(r,s){Dv=r,Ng=s}function Ru(r,s,a,c){const d=HD(r,c,s),p=s[11],D=bv(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)vv(p,d,a[C],D,!1);else vv(p,d,a,D,!1);void 0!==Ng&&Ng(p,c,s,a,d)}function Df(r,s){if(null!==s){const a=s.type;if(3&a)return jn(s,r);if(4&a)return Cf(-1,r[s.index]);if(8&a){const c=s.child;if(null!==c)return Df(r,c);{const d=r[s.index];return fr(d)?Cf(-1,d):Ft(d)}}if(32&a)return de(s,r)()||Ft(r[s.index]);{const c=wv(r,s);return null!==c?Array.isArray(c)?c[0]:Df(st(r[16]),c):Df(r,s.next)}}return null}function wv(r,s){return null!==s?r[16][6].projection[s.projection]:null}function Cf(r,s){const a=10+r+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return Df(c,d)}return s[7]}function Ev(r,s,a){const c=bf(r,s);c&&function yv(r,s,a,c){Gt(r)?r.removeChild(s,a,c):s.removeChild(a)}(r,c,s,a)}function Tv(r,s,a,c,d,p,v){for(;null!=a;){const D=c[a.index],C=a.type;if(v&&0===s&&(D&&Wn(Ft(D),c),a.flags|=4),64!=(64&a.flags))if(8&C)Tv(r,s,a.child,c,d,p,!1),ga(s,r,d,D,p);else if(32&C){const S=de(a,c);let N;for(;N=S();)ga(s,r,d,N,p);ga(s,r,d,D,p)}else 16&C?Iv(r,s,c,a,d,p):ga(s,r,d,D,p);a=v?a.projectionNext:a.next}}function $d(r,s,a,c,d,p){Tv(a,c,r.firstChild,s,d,p,!1)}function Iv(r,s,a,c,d,p){const v=a[16],C=v[6].projection[c.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)ga(s,r,d,C[S],p);else Tv(r,s,C,v[3],d,p,!0)}function Sv(r,s,a){Gt(r)?r.setAttribute(s,"style",a):s.style.cssText=a}function Ag(r,s,a){Gt(r)?""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a):s.className=a}function Nv(r,s,a){let c=r.length;for(;;){const d=r.indexOf(s,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||r.charCodeAt(d+p)<=32)return d}a=d+1}}const Av="ng-template";function ZD(r,s,a){let c=0;for(;c<r.length;){let d=r[c++];if(a&&"class"===d){if(d=r[c],-1!==Nv(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<r.length&&"string"==typeof(d=r[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Mv(r){return 4===r.type&&r.value!==Av}function rr(r,s,a){return s===(4!==r.type||a?r.value:Av)}function Ov(r,s,a){let c=4;const d=r.attrs||[],p=function qD(r){for(let s=0;s<r.length;s++)if(On(r[s]))return s;return r.length}(d);let v=!1;for(let D=0;D<s.length;D++){const C=s[D];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!rr(r,C,a)||""===C&&1===s.length){if(Ks(c))return!1;v=!0}}else{const S=8&c?C:s[++D];if(8&c&&null!==r.attrs){if(!ZD(r.attrs,S,a)){if(Ks(c))return!1;v=!0}continue}const F=YD(8&c?"class":C,d,Mv(r),a);if(-1===F){if(Ks(c))return!1;v=!0;continue}if(""!==S){let V;V=F>p?"":d[F+1].toLowerCase();const Q=8&c?V:null;if(Q&&-1!==Nv(Q,S,0)||2&c&&S!==V){if(Ks(c))return!1;v=!0}}}}else{if(!v&&!Ks(c)&&!Ks(C))return!1;if(v&&Ks(C))continue;v=!1,c=C|1&c}}return Ks(c)||v}function Ks(r){return 0==(1&r)}function YD(r,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let p=!1;for(;d<s.length;){const v=s[d];if(v===r)return d;if(3===v||6===v)p=!0;else{if(1===v||2===v){let D=s[++d];for(;"string"==typeof D;)D=s[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=p?1:2}return-1}return function KD(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const c=r[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,r)}function Rv(r,s,a=!1){for(let c=0;c<s.length;c++)if(Ov(r,s[c],a))return!0;return!1}function Mg(r,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(r.length===c.length){for(let d=0;d<r.length;d++)if(r[d]!==c[d])continue e;return!0}}return!1}function xv(r,s){return r?":not("+s.trim()+")":s}function kv(r){let s=r[0],a=1,c=2,d="",p=!1;for(;a<r.length;){let v=r[a];if("string"==typeof v)if(2&c){const D=r[++a];d+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&c?d+="."+v:4&c&&(d+=" "+v);else""!==d&&!Ks(v)&&(s+=xv(p,d),d=""),c=v,p=p||!Ks(c);a++}return""!==d&&(s+=xv(p,d)),s}const mt={};function Og(r){JD(Et(),Te(),Pn()+r,!1)}function JD(r,s,a,c){if(!c)if(3==(3&s[2])){const p=r.preOrderCheckHooks;null!==p&&Rr(s,p,a)}else{const p=r.preOrderHooks;null!==p&&Bs(s,p,0,a)}Us(a)}function Ef(r,s){return r<<17|s<<2}function Zt(r){return r>>17&32767}function xu(r){return 2|r}function ma(r){return(131068&r)>>2}function Rg(r,s){return-131069&r|s<<2}function kg(r){return 1|r}function ya(r,s){const a=r.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],p=a[c+1];if(-1!==p){const v=r.data[p];Kc(d),v.contentQueries(2,s[p],p)}}}function Mf(r,s,a,c,d,p,v,D,C,S){const N=s.blueprint.slice();return N[0]=d,N[2]=140|c,yr(N),N[3]=N[15]=r,N[8]=a,N[10]=v||r&&r[10],N[11]=D||r&&r[11],N[12]=C||r&&r[12]||null,N[9]=S||r&&r[9]||null,N[6]=p,N[16]=2==s.type?r[16]:N,N}function qd(r,s,a,c,d){let p=r.data[s];if(null===p)p=$g(r,s,a,c,d),function Wl(){return ct.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const v=Fs();p.injectorIndex=null===v?-1:v.injectorIndex}return Ui(p,!0),p}function $g(r,s,a,c,d){const p=Wa(),v=Hl(),C=r.data[s]=function pC(r,s,a,c,d,p){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,a,s,c,d);return null===r.firstChild&&(r.firstChild=C),null!==p&&(v?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}function ku(r,s,a,c){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(c),r.blueprint.push(c),r.data.push(null);return d}function _c(r,s,a){Ls(s);try{const c=r.viewQuery;null!==c&&e_(1,c,a);const d=r.template;null!==d&&Of(r,s,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&ya(r,s),r.staticViewQueries&&e_(2,r.viewQuery,a);const p=r.components;null!==p&&function Hv(r,s){for(let a=0;a<s.length;a++)Vf(r,s[a])}(s,p)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{s[2]&=-5,Ni()}}function ba(r,s,a,c){const d=s[2];if(256!=(256&d)){Ls(s);try{yr(s),function za(r){return ct.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&Of(r,s,a,2,c);const v=3==(3&d);if(v){const S=r.preOrderCheckHooks;null!==S&&Rr(s,S,null)}else{const S=r.preOrderHooks;null!==S&&Bs(s,S,0,null),Mn(s,0)}if(function Xv(r){for(let s=ji(r);null!==s;s=gl(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],p=d[3];0==(1024&d[2])&&lo(p,1),d[2]|=1024}}}(s),function Qg(r){for(let s=ji(r);null!==s;s=gl(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];Mr(c)&&ba(d,c,d.template,c[8])}}(s),null!==r.contentQueries&&ya(r,s),v){const S=r.contentCheckHooks;null!==S&&Rr(s,S)}else{const S=r.contentHooks;null!==S&&Bs(s,S,1),Mn(s,1)}!function jv(r,s){const a=r.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Us(~d);else{const p=d,v=a[++c],D=a[++c];Ya(v,p),D(2,s[p])}}}finally{Us(-1)}}(r,s);const D=r.components;null!==D&&function or(r,s){for(let a=0;a<s.length;a++)Jg(r,s[a])}(s,D);const C=r.viewQuery;if(null!==C&&e_(2,C,c),v){const S=r.viewCheckHooks;null!==S&&Rr(s,S)}else{const S=r.viewHooks;null!==S&&Bs(s,S,2),Mn(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[2]&=-73,1024&s[2]&&(s[2]&=-1025,lo(s[3],-1))}finally{Ni()}}}function dC(r,s,a,c){const d=s[10],v=Ps(s);try{!v&&d.begin&&d.begin(),v&&_c(r,s,c),ba(r,s,a,c)}finally{!v&&d.end&&d.end()}}function Of(r,s,a,c,d){const p=Pn(),v=2&c;try{Us(-1),v&&s.length>20&&JD(r,s,20,!1),a(c,d)}finally{Us(p)}}function $v(r,s,a){!$a()||(function hI(r,s,a,c){const d=a.directiveStart,p=a.directiveEnd;r.firstCreatePass||us(a,s),Wn(c,s);const v=a.initialInputs;for(let D=d;D<p;D++){const C=r.data[D],S=gr(C);S&&pI(s,a,C);const N=Xi(s,r,D,a);Wn(N,s),null!==v&&Lf(0,D-d,N,C,0,v),S&&(Hn(a.index,s)[8]=N)}}(r,s,a,jn(a,s)),128==(128&a.flags)&&function mC(r,s,a){const c=a.directiveStart,d=a.directiveEnd,v=a.index,D=function zl(){return ct.lFrame.currentDirectiveIndex}();try{Us(v);for(let C=c;C<d;C++){const S=r.data[C],N=s[C];ia(C),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Kg(S,N)}}finally{Us(-1),ia(D)}}(r,s,a))}function Wv(r,s,a=jn){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const v=c[p+1],D=-1===v?a(s,r):r[v];r[d++]=D}}}function hC(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Wg(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):s}function Wg(r,s,a,c,d,p,v,D,C,S){const N=20+c,F=N+d,V=function cI(r,s){const a=[];for(let c=0;c<s;c++)a.push(c<r?null:mt);return a}(N,F),Q="function"==typeof S?S():S;return V[1]={type:r,blueprint:V,template:a,queries:null,viewQuery:D,declTNode:s,data:V.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:Q,incompleteFirstPass:!1}}function zv(r,s,a,c){const d=$f(s);null===a?d.push(c):(d.push(a),r.firstCreatePass&&t_(r).push(c,d.length-1))}function Zv(r,s,a){for(let c in r)if(r.hasOwnProperty(c)){const d=r[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function Hi(r,s,a,c,d,p,v,D){const C=jn(s,a);let N,S=s.inputs;!D&&null!=S&&(N=S[c])?(CC(r,a,N,c,d),Uc(s)&&function xf(r,s){const a=Hn(s,r);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function Kd(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),d=null!=v?v(d,s.value||"",c):d,Gt(p)?p.setProperty(C,c,d):zt(c)||(C.setProperty?C.setProperty(c,d):C[c]=d))}function Yg(r,s,a,c){let d=!1;if($a()){const p=function fI(r,s,a){const c=r.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];Rv(a,v.selectors,!1)&&(d||(d=[]),mi(us(a,s),r,v.type),gr(v)?(kf(r,a),d.unshift(v)):d.push(v))}return d}(r,s,a),v=null===c?null:{"":-1};if(null!==p){d=!0,Pf(a,r.data.length,p.length);for(let N=0;N<p.length;N++){const F=p[N];F.providersResolver&&F.providersResolver(F)}let D=!1,C=!1,S=ku(r,s,p.length,null);for(let N=0;N<p.length;N++){const F=p[N];a.mergedAttrs=sa(a.mergedAttrs,F.hostAttrs),Ff(r,a,s,S,F),Qv(S,F,v),null!==F.contentQueries&&(a.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=128);const V=F.type.prototype;!D&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(a.index),D=!0),!C&&(V.ngOnChanges||V.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(a.index),C=!0),S++}!function Rf(r,s){const c=s.directiveEnd,d=r.data,p=s.attrs,v=[];let D=null,C=null;for(let S=s.directiveStart;S<c;S++){const N=d[S],F=N.inputs,V=null===p||Mv(s)?null:Pu(F,p);v.push(V),D=Zv(F,S,D),C=Zv(N.outputs,S,C)}null!==D&&(D.hasOwnProperty("class")&&(s.flags|=16),D.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=D,s.outputs=C}(r,a)}v&&function vC(r,s,a){if(s){const c=r.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new Ae(-301,!1);c.push(s[d],p)}}}(a,c,v)}return a.mergedAttrs=sa(a.mergedAttrs,a.attrs),d}function qg(r,s,a,c,d,p){const v=p.hostBindings;if(v){let D=r.hostBindingOpCodes;null===D&&(D=r.hostBindingOpCodes=[]);const C=~s.index;(function _C(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(D)!=C&&D.push(C),D.push(c,d,v)}}function Kg(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function kf(r,s){s.flags|=2,(r.components||(r.components=[])).push(s.index)}function Qv(r,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=r;gr(s)&&(a[""]=r)}}function Pf(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}function Ff(r,s,a,c,d){r.data[c]=d;const p=d.factory||(d.factory=ei(d.type)),v=new fo(p,gr(d),null);r.blueprint[c]=v,a[c]=v,qg(r,s,0,c,ku(r,a,d.hostVars,mt),d)}function pI(r,s,a){const c=jn(s,r),d=hC(a),p=r[10],v=Fu(r,Mf(r,d,null,a.onPush?64:16,c,s,p,p.createRenderer(c,a),null,null));r[s.index]=v}function mc(r,s,a,c,d,p,v){if(null==p)Gt(r)?r.removeAttribute(s,d,a):s.removeAttribute(d);else{const D=null==v?he(p):v(p,c||"",d);Gt(r)?r.setAttribute(s,d,D,a):a?s.setAttributeNS(a,d,D):s.setAttribute(d,D)}}function Lf(r,s,a,c,d,p){const v=p[s];if(null!==v){const D=c.setInput;for(let C=0;C<v.length;){const S=v[C++],N=v[C++],F=v[C++];null!==D?c.setInput(a,F,S,N):a[N]=F}}}function Pu(r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;r.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,r[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function Jv(r,s,a,c){return new Array(r,!0,!1,s,null,0,c,a,null,null)}function Jg(r,s){const a=Hn(s,r);if(Mr(a)){const c=a[1];80&a[2]?ba(c,a,c.template,a[8]):a[5]>0&&Bf(a)}}function Bf(r){for(let c=ji(r);null!==c;c=gl(c))for(let d=10;d<c.length;d++){const p=c[d];if(1024&p[2]){const v=p[1];ba(v,p,v.template,p[8])}else p[5]>0&&Bf(p)}const a=r[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=Hn(a[c],r);Mr(d)&&d[5]>0&&Bf(d)}}function Vf(r,s){const a=Hn(s,r),c=a[1];(function ey(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])})(c,a),_c(c,a,a[8])}function Fu(r,s){return r[13]?r[14][4]=s:r[13]=s,r[14]=s,s}function Xg(r){for(;r;){r[2]|=64;const s=st(r);if(xl(r)&&!s)return r;r=s}return null}function Gf(r){!function jf(r){for(let s=0;s<r.components.length;s++){const a=r.components[s],c=kd(a),d=c[1];dC(d,c,d.template,a)}}(r[8])}function e_(r,s,a){Kc(0),s(r,a)}const Qd=(()=>Promise.resolve(null))();function $f(r){return r[7]||(r[7]=[])}function t_(r){return r.cleanup||(r.cleanup=[])}function DC(r,s){const a=r[9],c=a?a.get(Mu,null):null;c&&c.handleError(s)}function CC(r,s,a,c,d){for(let p=0;p<a.length;){const v=a[p++],D=a[p++],C=s[v],S=r.data[v];null!==S.setInput?S.setInput(C,d,c,D):C[D]=d}}function Wf(r,s,a){let c=a?r.styles:null,d=a?r.classes:null,p=0;if(null!==s)for(let v=0;v<s.length;v++){const D=s[v];"number"==typeof D?p=D:1==p?d=ce(d,D):2==p&&(c=ce(c,D+": "+s[++v]+";"))}a?r.styles=c:r.stylesWithoutHost=c,a?r.classes=d:r.classesWithoutHost=d}const zf=new an("INJECTOR",-1);class ry{get(s,a=vs){if(a===vs){const c=new Error(`NullInjectorError: No provider for ${se(s)}!`);throw c.name="NullInjectorError",c}return a}}const n_=new an("Set Injector scope."),Lu={},TC={};let sy;function i_(){return void 0===sy&&(sy=new ry),sy}function oy(r,s=null,a=null,c){const d=r_(r,s,a,c);return d._resolveInjectorDefTypes(),d}function r_(r,s=null,a=null,c){return new IC(r,a,s||i_(),c)}class IC{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&vi(a,D=>this.processProvider(D,s,a)),vi([s],D=>this.processInjectorType(D,[],p)),this.records.set(zf,Uu(void 0,this));const v=this.records.get(n_);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof s?null:se(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=vs,c=lt.Default){this.assertNotDestroyed();const d=fe(this),p=dn(void 0);try{if(!(c&lt.SkipSelf)){let D=this.records.get(s);if(void 0===D){const C=function cy(r){return"function"==typeof r||"object"==typeof r&&r instanceof an}(s)&&wt(s);D=C&&this.injectableDefInScope(C)?Uu(Zf(s),Lu):null,this.records.set(s,D)}if(null!=D)return this.hydrate(s,D)}return(c&lt.Self?i_():this.parent).get(s,a=c&lt.Optional&&a===vs?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[ua]=v[ua]||[]).unshift(se(s)),d)throw v;return function jr(r,s,a,c){const d=r[ua];throw s[U]&&d.unshift(s[U]),r.message=function Cr(r,s,a,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let d=se(s);if(Array.isArray(s))d=s.map(se).join(" -> ");else if("object"==typeof s){let p=[];for(let v in s)if(s.hasOwnProperty(v)){let D=s[v];p.push(v+":"+("string"==typeof D?JSON.stringify(D):se(D)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${r.replace(T,"\n  ")}`}("\n"+r.message,d,a,c),r.ngTokenPath=d,r[ua]=null,r}(v,s,"R3InjectorError",this.source)}throw v}finally{dn(p),fe(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(se(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(s,a,c){if(!(s=te(s)))return!1;let d=hi(s);const p=null==d&&s.ngModule||void 0,v=void 0===p?s:p,D=-1!==c.indexOf(v);if(void 0!==p&&(d=hi(p)),null==d)return!1;if(null!=d.imports&&!D){let N;c.push(v);try{vi(d.imports,F=>{this.processInjectorType(F,a,c)&&(void 0===N&&(N=[]),N.push(F))})}finally{}if(void 0!==N)for(let F=0;F<N.length;F++){const{ngModule:V,providers:Q}=N[F];vi(Q,me=>this.processProvider(me,V,Q||B))}}this.injectorDefTypes.add(v);const C=ei(v)||(()=>new v);this.records.set(v,Uu(C,Lu));const S=d.providers;if(null!=S&&!D){const N=s;vi(S,F=>this.processProvider(F,N,S))}return void 0!==p&&void 0!==s.providers}processProvider(s,a,c){let d=Bu(s=te(s))?s:te(s&&s.provide);const p=function SC(r,s,a){return Yf(r)?Uu(void 0,r.useValue):Uu(s_(r),Lu)}(s);if(Bu(s)||!0!==s.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=Uu(void 0,Lu,!0),v.factory=()=>_t(v.multi),this.records.set(d,v)),d=s,v.multi.push(s)}this.records.set(d,p)}hydrate(s,a){return a.value===Lu&&(a.value=TC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function AC(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=te(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Zf(r){const s=wt(r),a=null!==s?s.factory:ei(r);if(null!==a)return a;if(r instanceof an)throw new Ae(204,!1);if(r instanceof Function)return function ay(r){const s=r.length;if(s>0)throw Ur(s,"?"),new Ae(204,!1);const a=function xi(r){const s=r&&(r[ur]||r[Ci]);if(s){const a=function qn(r){if(r.hasOwnProperty("name"))return r.name;const s=(""+r).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Ae(204,!1)}function s_(r,s,a){let c;if(Bu(r)){const d=te(r);return ei(d)||Zf(d)}if(Yf(r))c=()=>te(r.useValue);else if(function o_(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(..._t(r.deps||[]));else if(function NC(r){return!(!r||!r.useExisting)}(r))c=()=>Qe(te(r.useExisting));else{const d=te(r&&(r.useClass||r.provide));if(!function ly(r){return!!r.deps}(r))return ei(d)||Zf(d);c=()=>new d(..._t(r.deps))}return c}function Uu(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function Yf(r){return null!==r&&"object"==typeof r&&K in r}function Bu(r){return"function"==typeof r}let So=(()=>{class r{static create(a,c){var d;if(Array.isArray(a))return oy({name:""},c,a,"");{const p=null!==(d=a.name)&&void 0!==d?d:"";return oy({name:p},a.parent,a.providers,p)}}}return r.THROW_IF_NOT_FOUND=vs,r.NULL=new ry,r.\u0275prov=kt({token:r,providedIn:"any",factory:()=>Qe(zf)}),r.__NG_ELEMENT_ID__=-1,r})();function wy(r,s){ra(kd(r)[1],Jt())}function Ey(r){let s=function d_(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const c=[r];for(;s;){let d;if(gr(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ae(903,"");d=s.\u0275dir}if(d){if(a){c.push(d);const v=r;v.inputs=Ty(r.inputs),v.declaredInputs=Ty(r.declaredInputs),v.outputs=Ty(r.outputs);const D=d.hostBindings;D&&DI(r,D);const C=d.viewQuery,S=d.contentQueries;if(C&&kC(r,C),S&&PC(r,S),le(r.inputs,d.inputs),le(r.declaredInputs,d.declaredInputs),le(r.outputs,d.outputs),gr(d)&&d.data.animation){const N=r.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let v=0;v<p.length;v++){const D=p[v];D&&D.ngInherit&&D(r),D===Ey&&(a=!1)}}s=Object.getPrototypeOf(s)}!function bI(r){let s=0,a=null;for(let c=r.length-1;c>=0;c--){const d=r[c];d.hostVars=s+=d.hostVars,d.hostAttrs=sa(d.hostAttrs,a=sa(a,d.hostAttrs))}}(c)}function Ty(r){return r===Jn?{}:r===B?[]:r}function kC(r,s){const a=r.viewQuery;r.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function PC(r,s){const a=r.contentQueries;r.contentQueries=a?(c,d,p)=>{s(c,d,p),a(c,d,p)}:s}function DI(r,s){const a=r.hostBindings;r.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let Qf=null;function Da(){if(!Qf){const r=Tt.Symbol;if(r&&r.iterator)Qf=r.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Qf=c)}}}return Qf}function Jd(r){return!!Wr(r)&&(Array.isArray(r)||!(r instanceof Map)&&Da()in r)}function Wr(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function zn(r,s,a){return r[s]=a}function bi(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function Qs(r,s,a,c){const d=bi(r,s,a);return bi(r,s+1,c)||d}function h_(r,s,a,c){const d=Te();return bi(d,as(),s)&&(Et(),function bs(r,s,a,c,d,p){const v=jn(r,s);mc(s[11],v,p,r.value,a,c,d)}(Cn(),d,r,s,a,c)),h_}function Ao(r,s,a,c){return bi(r,as(),a)?s+he(a)+c:mt}function wa(r,s,a,c,d,p,v,D){const C=Te(),S=Et(),N=r+20,F=S.firstCreatePass?function f_(r,s,a,c,d,p,v,D,C){const S=s.consts,N=qd(s,r,4,v||null,Ki(S,D));Yg(s,a,N,Ki(S,C)),ra(s,N);const F=N.tViews=Wg(2,N,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,N),F.queries=s.queries.embeddedTView(N)),N}(N,S,C,s,a,c,d,p,v):S.data[N];Ui(F,!1);const V=C[11].createComment("");Ru(S,C,V,F),Wn(V,C),Fu(C,C[N]=Jv(V,C,V,F)),pr(F)&&$v(S,C,F),null!=v&&Wv(C,F,D)}function Xd(r){return vr(function qc(){return ct.lFrame.contextLView}(),20+r)}function nh(r,s=lt.Default){const a=Te();return null===a?Qe(r,s):_o(Jt(),a,te(r),s)}function Uy(){throw new Error("invalid")}function w_(r,s,a){const c=Te();return bi(c,as(),s)&&Hi(Et(),Cn(),c,r,s,c[11],a,!1),w_}function E_(r,s,a,c,d){const v=d?"class":"style";CC(r,a,s.inputs[v],v,c)}function ip(r,s,a,c){const d=Te(),p=Et(),v=20+r,D=d[11],C=d[v]=yi(D,s,function $h(){return ct.lFrame.currentNamespace}()),S=p.firstCreatePass?function zC(r,s,a,c,d,p,v){const D=s.consts,S=qd(s,r,2,d,Ki(D,p));return Yg(s,a,S,Ki(D,v)),null!==S.attrs&&Wf(S,S.attrs,!1),null!==S.mergedAttrs&&Wf(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(v,p,d,0,s,a,c):p.data[v];Ui(S,!0);const N=S.mergedAttrs;null!==N&&Vt(D,C,N);const F=S.classes;null!==F&&Ag(D,C,F);const V=S.styles;return null!==V&&Sv(D,C,V),64!=(64&S.flags)&&Ru(p,d,C,S),0===function na(){return ct.lFrame.elementDepthCount}()&&Wn(C,d),function Vl(){ct.lFrame.elementDepthCount++}(),pr(S)&&($v(p,d,S),function Gv(r,s,a){if(Ba(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const v=r.data[p];v.contentQueries&&v.contentQueries(1,a[p],p)}}}(p,S,d)),null!==c&&Wv(d,S),ip}function rp(){let r=Jt();Hl()?Gl():(r=r.parent,Ui(r,!1));const s=r;!function Ga(){ct.lFrame.elementDepthCount--}();const a=Et();return a.firstCreatePass&&(ra(a,r),Ba(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Zh(r){return 0!=(16&r.flags)}(s)&&E_(a,s,Te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function nn(r){return 0!=(32&r.flags)}(s)&&E_(a,s,Te(),s.stylesWithoutHost,!1),rp}function T_(r,s,a,c){return ip(r,s,a,c),rp(),T_}function Vy(){return Te()}function jy(r){return!!r&&"function"==typeof r.then}function ih(r){return!!r&&"function"==typeof r.subscribe}const Hy=ih;function S_(r,s,a,c){const d=Te(),p=Et(),v=Jt();return function $y(r,s,a,c,d,p,v,D){const C=pr(c),N=r.firstCreatePass&&t_(r),F=s[8],V=$f(s);let Q=!0;if(3&c.type||D){const Le=jn(c,s),qe=D?D(Le):Le,Ie=V.length,at=D?Nt=>D(Ft(Nt[c.index])):c.index;if(Gt(a)){let Nt=null;if(!D&&C&&(Nt=function ZC(r,s,a,c){const d=r.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const v=d[p];if(v===a&&d[p+1]===c){const D=s[7],C=d[p+2];return D.length>C?D[C]:null}"string"==typeof v&&(p+=2)}return null}(r,s,d,c.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=p,Nt.__ngLastListenerFn__=p,Q=!1;else{p=op(c,s,F,p,!1);const $t=a.listen(qe,d,p);V.push(p,$t),N&&N.push(d,at,Ie,Ie+1)}}else p=op(c,s,F,p,!0),qe.addEventListener(d,p,v),V.push(p),N&&N.push(d,at,Ie,v)}else p=op(c,s,F,p,!1);const me=c.outputs;let Re;if(Q&&null!==me&&(Re=me[d])){const Le=Re.length;if(Le)for(let qe=0;qe<Le;qe+=2){const Zr=s[Re[qe]][Re[qe+1]].subscribe(p),Vo=V.length;V.push(p,Zr),N&&N.push(d,c.index,Vo,-(Vo+1))}}}(p,d,d[11],v,r,s,!!a,c),S_}function Wy(r,s,a,c){try{return!1!==a(c)}catch(d){return DC(r,d),!1}}function op(r,s,a,c,d){return function p(v){if(v===Function)return c;const D=2&r.flags?Hn(r.index,s):s;0==(32&s[2])&&Xg(D);let C=Wy(s,0,c,v),S=p.__ngNextListenerFn__;for(;S;)C=Wy(s,0,S,v)&&C,S=S.__ngNextListenerFn__;return d&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function zy(r=1){return function vd(r){return(ct.lFrame.contextLView=function Zl(r,s){for(;r>0;)s=s[15],r--;return s}(r,ct.lFrame.contextLView))[8]}(r)}function YC(r,s){let a=null;const c=function wf(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(r);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===c?Rv(r,p,!0):Mg(c,p))return d}else a=d}return a}function Zy(r){const s=Te()[16][6];if(!s.projection){const c=s.projection=Ur(r?r.length:1,null),d=c.slice();let p=s.child;for(;null!==p;){const v=r?YC(p,r):0;null!==v&&(d[v]?d[v].projectionNext=p:c[v]=p,d[v]=p),p=p.next}}}function Yy(r,s=0,a){const c=Te(),d=Et(),p=qd(d,20+r,16,null,a||null);null===p.projection&&(p.projection=s),Gl(),64!=(64&p.flags)&&function $D(r,s,a){Iv(s[11],0,s,a,HD(r,a,s),bv(a.parent||s[6],a,s))}(d,c,p)}function qy(r,s,a){return ap(r,"",s,"",a),qy}function ap(r,s,a,c,d){const p=Te(),v=Ao(p,s,a,c);return v!==mt&&Hi(Et(),Cn(),p,r,v,p[11],d,!1),ap}function QC(r,s,a,c,d){const p=r[a+1],v=null===s;let D=c?Zt(p):ma(p),C=!1;for(;0!==D&&(!1===C||v);){const N=r[D+1];JC(r[D],s)&&(C=!0,r[D+1]=c?kg(N):xu(N)),D=c?Zt(N):ma(N)}C&&(r[a+1]=c?xu(p):kg(p))}function JC(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Do(r,s)>=0}const ai={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function s0(r){return r.substring(ai.key,ai.keyEnd)}function o0(r,s){const a=ai.textEnd;return a===s?-1:(s=ai.keyEnd=function xI(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,ai.key=s,a),rh(r,s,a))}function rh(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function c0(r,s,a){return Ro(r,s,a,!1),c0}function u0(r,s){return Ro(r,s,null,!0),u0}function d0(r){!function xo(r,s,a,c){const d=Et(),p=Qi(2);d.firstUpdatePass&&h0(d,null,p,c);const v=Te();if(a!==mt&&bi(v,p,a)){const D=d.data[Pn()];if(g0(D,c)&&!sw(d,p)){let C=c?D.classesWithoutHost:D.stylesWithoutHost;null!==C&&(a=ce(C,a||"")),E_(d,D,v,a,c)}else!function dw(r,s,a,c,d,p,v,D){d===mt&&(d=B);let C=0,S=0,N=0<d.length?d[0]:null,F=0<p.length?p[0]:null;for(;null!==N||null!==F;){const V=C<d.length?d[C+1]:void 0,Q=S<p.length?p[S+1]:void 0;let Re,me=null;N===F?(C+=2,S+=2,V!==Q&&(me=F,Re=Q)):null===F||null!==N&&N<F?(C+=2,me=N):(S+=2,me=F,Re=Q),null!==me&&f0(r,s,a,c,me,Re,v,D),N=C<d.length?d[C]:null,F=S<p.length?p[S]:null}}(d,D,v,v[11],v[p+1],v[p+1]=function cw(r,s,a){if(null==a||""===a)return B;const c=[],d=ir(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)r(c,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&r(c,p,d[p]);else"string"==typeof d&&s(c,d);return c}(r,s,a),c,p)}}(si,Ta,r,!0)}function Ta(r,s){for(let a=function ew(r){return function nw(r){ai.key=0,ai.keyEnd=0,ai.value=0,ai.valueEnd=0,ai.textEnd=r.length}(r),o0(r,rh(r,0,ai.textEnd))}(s);a>=0;a=o0(s,a))si(r,s0(s),!0)}function Ro(r,s,a,c){const d=Te(),p=Et(),v=Qi(2);p.firstUpdatePass&&h0(p,r,v,c),s!==mt&&bi(d,v,s)&&f0(p,p.data[Pn()],d,d[11],r,d[v+1]=function hw(r,s){return null==r||("string"==typeof s?r+=s:"object"==typeof r&&(r=se(ir(r)))),r}(s,a),c,v)}function sw(r,s){return s>=r.expandoStartIndex}function h0(r,s,a,c){const d=r.data;if(null===d[a+1]){const p=d[Pn()],v=sw(r,a);g0(p,c)&&null===s&&!v&&(s=!1),s=function ow(r,s,a,c){const d=function qa(r){const s=ct.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=sh(a=N_(null,r,s,a,c),s.attrs,c),p=null);else{const v=s.directiveStylingLast;if(-1===v||r[v]!==d)if(a=N_(d,r,s,a,c),null===p){let C=function PI(r,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==ma(c))return r[Zt(c)]}(r,s,c);void 0!==C&&Array.isArray(C)&&(C=N_(null,r,s,C[1],c),C=sh(C,s.attrs,c),function aw(r,s,a,c){r[Zt(a?s.classBindings:s.styleBindings)]=c}(r,s,c,C))}else p=function lw(r,s,a){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=sh(c,r[p].hostAttrs,a);return sh(c,s.attrs,a)}(r,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,c),function qC(r,s,a,c,d,p){let v=p?s.classBindings:s.styleBindings,D=Zt(v),C=ma(v);r[c]=a;let N,S=!1;if(Array.isArray(a)){const F=a;N=F[1],(null===N||Do(F,N)>0)&&(S=!0)}else N=a;if(d)if(0!==C){const V=Zt(r[D+1]);r[c+1]=Ef(V,D),0!==V&&(r[V+1]=Rg(r[V+1],c)),r[D+1]=function XD(r,s){return 131071&r|s<<17}(r[D+1],c)}else r[c+1]=Ef(D,0),0!==D&&(r[D+1]=Rg(r[D+1],c)),D=c;else r[c+1]=Ef(C,0),0===D?D=c:r[C+1]=Rg(r[C+1],c),C=c;S&&(r[c+1]=xu(r[c+1])),QC(r,N,c,!0),QC(r,N,c,!1),function KC(r,s,a,c,d){const p=d?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof s&&Do(p,s)>=0&&(a[c+1]=kg(a[c+1]))}(s,N,r,c,p),v=Ef(D,C),p?s.classBindings=v:s.styleBindings=v}(d,p,s,a,v,c)}}function N_(r,s,a,c,d){let p=null;const v=a.directiveEnd;let D=a.directiveStylingLast;for(-1===D?D=a.directiveStart:D++;D<v&&(p=s[D],c=sh(c,p.hostAttrs,d),p!==r);)D++;return null!==r&&(a.directiveStylingLast=D),c}function sh(r,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const v=s[p];"number"==typeof v?d=v:d===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),si(r,v,!!a||s[++p]))}return void 0===r?null:r}function f0(r,s,a,c,d,p,v,D){if(!(3&s.type))return;const C=r.data,S=C[D+1];lp(function xg(r){return 1==(1&r)}(S)?p0(C,s,a,d,ma(S),v):void 0)||(lp(p)||function zd(r){return 2==(2&r)}(S)&&(p=p0(C,null,a,d,D,v)),function zD(r,s,a,c,d){const p=Gt(r);if(s)d?p?r.addClass(a,c):a.classList.add(c):p?r.removeClass(a,c):a.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:O.DashCase;if(null==d)p?r.removeStyle(a,c,v):a.style.removeProperty(c);else{const D="string"==typeof d&&d.endsWith("!important");D&&(d=d.slice(0,-10),v|=O.Important),p?r.setStyle(a,c,d,v):a.style.setProperty(c,d,D?"important":"")}}}(c,v,ss(Pn(),a),d,p))}function p0(r,s,a,c,d,p){const v=null===s;let D;for(;d>0;){const C=r[d],S=Array.isArray(C),N=S?C[1]:C,F=null===N;let V=a[d+1];V===mt&&(V=F?B:void 0);let Q=F?ca(V,c):N===c?V:void 0;if(S&&!lp(Q)&&(Q=ca(C,c)),lp(Q)&&(D=Q,v))return D;const me=r[d+1];d=v?Zt(me):ma(me)}if(null!==s){let C=p?s.residualClasses:s.residualStyles;null!=C&&(D=ca(C,c))}return D}function lp(r){return void 0!==r}function g0(r,s){return 0!=(r.flags&(s?16:32))}function _0(r,s=""){const a=Te(),c=Et(),d=r+20,p=c.firstCreatePass?qd(c,d,1,s,null):c.data[d],v=a[d]=pc(a[11],s);Ru(c,a,v,p),Ui(p,!1)}function A_(r){return cp("",r,""),A_}function cp(r,s,a){const c=Te(),d=Ao(c,r,s,a);return d!==mt&&function bl(r,s,a){const c=ss(s,r);Ou(r[11],c,a)}(c,Pn(),d),cp}function I0(r,s,a){const c=Te();return bi(c,as(),s)&&Hi(Et(),Cn(),c,r,s,c[11],a,!0),I0}const Sc=void 0;var LI=["en",[["a","p"],["AM","PM"],Sc],[["AM","PM"],Sc,Sc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sc,"{1} 'at' {0}",Sc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FI(r){const a=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Zu={};function N0(r){const s=function VI(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Uw(s);if(a)return a;const c=s.split("-")[0];if(a=Uw(c),a)return a;if("en"===c)return LI;throw new Error(`Missing locale data for the locale "${r}".`)}function A0(r){return N0(r)[ht.PluralCase]}function Uw(r){return r in Zu||(Zu[r]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[r]),Zu[r]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const jI=["zero","one","two","few","many"],up="en-US",Nc={marker:"element"},O_={marker:"ICU"};var Rn=(()=>((Rn=Rn||{})[Rn.SHIFT=2]="SHIFT",Rn[Rn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Rn[Rn.COMMENT=2]="COMMENT",Rn))();let ko=up;function x_(r,s,a){const c=s.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?Sg(r,0,a):Ft(a[d])}function Vw(r,s,a,c,d){const p=s.insertBeforeIndex;if(Array.isArray(p)){let v=c,D=null;if(3&s.type||(D=v,v=d),null!==v&&0==(2&s.flags))for(let C=1;C<p.length;C++)vl(r,v,a[p[C]],D,!1)}}function jw(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const c=r[a];Hw(c)||Gw(c,s)&&null===Yu(c)&&$w(c,s.index)}}function Hw(r){return!(64&r.type)}function Gw(r,s){return Hw(s)||r.index>s.index}function Yu(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function $w(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(Cv(x_,Vw),r.insertBeforeIndex=s)}function dp(r,s){const a=r.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function zw(r,s,a){const c=$g(r,a,64,null,null);return jw(s,c),c}function hp(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function qu(r){return r>>>17}function $i(r){return(131070&r)>>>1}let Ku=0,Dl=0;function P_(r,s,a,c){const d=a[11];let v,p=null;for(let D=0;D<s.length;D++){const C=s[D];if("string"==typeof C){const S=s[++D];null===a[S]&&(a[S]=pc(d,C))}else if("number"==typeof C)switch(1&C){case 0:const S=qu(C);let N,F;if(null===p&&(p=S,v=bf(d,c)),S===p?(N=c,F=v):(N=null,F=Ft(a[S])),null!==F){const Re=$i(C);vl(d,F,a[Re],N,!1);const qe=dp(r,Re);if(null!==qe&&"object"==typeof qe){const Ie=hp(qe,a);null!==Ie&&P_(r,qe.create[Ie],a,a[qe.anchorIdx])}}break;case 1:const Q=s[++D],me=s[++D];mc(d,ss(C>>>1,a),null,null,Q,me,null)}else switch(C){case O_:const S=s[++D],N=s[++D];null===a[N]&&Wn(a[N]=mf(d,S),a);break;case Nc:const F=s[++D],V=s[++D];null===a[V]&&Wn(a[V]=yi(d,F,null),a)}}}function F_(r,s,a,c,d){for(let p=0;p<a.length;p++){const v=a[p],D=a[++p];if(v&d){let C="";for(let S=p+1;S<=p+D;S++){const N=a[S];if("string"==typeof N)C+=N;else if("number"==typeof N)if(N<0)C+=he(s[c-N]);else{const F=N>>>2;switch(3&N){case 1:const V=a[++S],Q=a[++S],me=r.data[F];"string"==typeof me?mc(s[11],s[F],null,me,V,C,Q):Hi(r,me,s,V,C,s[11],Q,!1);break;case 0:const Re=s[F];null!==Re&&Ou(s[11],Re,C);break;case 2:Kw(r,dp(r,F),s,C);break;case 3:fp(r,dp(r,F),c,s)}}}}else{const C=a[p+1];if(C>0&&3==(3&C)){const N=dp(r,C>>>2);s[N.currentCaseLViewIndex]<0&&fp(r,N,c,s)}}p+=D}}function fp(r,s,a,c){let d=c[s.currentCaseLViewIndex];if(null!==d){let p=Ku;d<0&&(d=c[s.currentCaseLViewIndex]=~d,p=-1),F_(r,c,s.update[d],a,p)}}function Kw(r,s,a,c){const d=function x0(r,s){let a=r.cases.indexOf(s);if(-1===a)switch(r.type){case 1:{const c=function Bw(r,s){const a=A0(s)(parseInt(r,10)),c=jI[a];return void 0!==c?c:"other"}(s,function Ac(){return ko}());a=r.cases.indexOf(c),-1===a&&"other"!==c&&(a=r.cases.indexOf("other"));break}case 0:a=r.cases.indexOf("other")}return-1===a?null:a}(s,c);if(hp(s,a)!==d&&(L_(r,s,a),a[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const v=a[s.anchorIdx];v&&P_(r,s.create[d],a,v)}}function L_(r,s,a){let c=hp(s,a);if(null!==c){const d=s.remove[c];for(let p=0;p<d.length;p++){const v=d[p];if(v>0){const D=ss(v,a);null!==D&&Ev(a[11],D)}else L_(r,dp(r,~v),a)}}}function GI(){const r=[];let a,c,s=-1;function p(D,C){s=0;const S=hp(D,C);c=null!==S?D.remove[S]:B}function v(){if(s<c.length){const D=c[s++];return D>0?a[D]:(r.push(s,c),p(a[1].data[~D],a),v())}return 0===r.length?null:(c=r.pop(),s=r.pop(),v())}return function d(D,C){for(a=C;r.length;)r.pop();return p(D.value,C),v}}const Qu=/\ufffd(\d+):?\d*\ufffd/gi,Xw=/\ufffd(\d+)\ufffd/,B_=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,$I=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,k0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Cl=/\uE500/g;function ah(r,s,a,c,d,p,v){const D=ku(r,c,1,null);let C=D<<Rn.SHIFT,S=Fs();s===S&&(S=null),null===S&&(C|=Rn.APPEND_EAGERLY),v&&(C|=Rn.COMMENT,function xe(r){void 0===Y&&(Y=r())}(GI)),d.push(C,null===p?"":p);const N=$g(r,D,v?32:1,null===p?"":p,null);jw(a,N);const F=N.index;return Ui(N,!1),null!==S&&s!==S&&function O0(r,s){let a=r.insertBeforeIndex;null===a?(Cv(x_,Vw),a=r.insertBeforeIndex=[null,s]):(function ve(r,s,a){r!=s&&je(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(S,F),N}function eE(r,s,a,c,d,p,v){const D=v.match(Qu),C=ah(r,s,a,p,c,D?null:v,!1);D&&Ju(d,v,C.index,null,0,null)}function Ju(r,s,a,c,d,p){const v=r.length,D=v+1;r.push(null,null);const C=v+2,S=s.split(Qu);let N=0;for(let F=0;F<S.length;F++){const V=S[F];if(1&F){const Q=d+parseInt(V,10);r.push(-1-Q),N|=V_(Q)}else""!==V&&r.push(V)}return r.push(a<<2|(c?1:0)),c&&r.push(c,p),r[v]=N,r[D]=r.length-C,N}function V_(r){return 1<<Math.min(r,31)}function wl(r){let s,p,a="",c=0,d=!1;for(;null!==(s=$I.exec(r));)d?s[0]===`\ufffd/*${p}\ufffd`&&(c=s.index,d=!1):(a+=r.substring(c,s.index+s[0].length),p=s[1],d=!0);return a+=r.substr(c),a}function j_(r,s,a,c,d,p){let v=0;const D={type:d.type,currentCaseLViewIndex:ku(r,s,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function sE(r,s,a){r.push(V_(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,p),function Ww(r,s,a){const c=r.data[s];null===c?r.data[s]=a:c.value=a}(r,p,D);const C=d.values;for(let S=0;S<C.length;S++){const N=C[S],F=[];for(let V=0;V<N.length;V++){const Q=N[V];if("string"!=typeof Q){const me=F.push(Q)-1;N[V]=`\x3c!--\ufffd${me}\ufffd--\x3e`}}v=L0(r,D,s,a,c,d.cases[S],N.join(""),F)|v}v&&function YI(r,s,a){r.push(s,1,a<<2|3)}(a,v,p)}function zI(r){const s=[],a=[];let c=1,d=0;const p=F0(r=r.replace(B_,function(v,D,C){return c="select"===C?0:1,d=parseInt(D.substr(1),10),""}));for(let v=0;v<p.length;){let D=p[v++].trim();1===c&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&s.push(D);const C=F0(p[v++]);s.length>a.length&&a.push(C)}return{type:c,mainBinding:d,cases:s,values:a}}function F0(r){if(!r)return[];let s=0;const a=[],c=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(r);){const D=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const C=r.substring(s,D);B_.test(C)?c.push(zI(C)):c.push(C),s=D+1}}else{if(0==a.length){const C=r.substring(s,D);c.push(C),s=D+1}a.push("{")}}const v=r.substring(s);return c.push(v),c}function L0(r,s,a,c,d,p,v,D){const C=[],S=[],N=[];s.cases.push(p),s.create.push(C),s.remove.push(S),s.update.push(N);const V=function Nd(r){const s=new tf(r);return function bu(){try{return!!(new window.DOMParser).parseFromString(ll(""),"text/html")}catch(r){return!1}}()?new ef(s):s}(mr()).getInertBodyElement(v),Q=function uc(r){return"content"in r&&function Ai(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}(V)||V;return Q?Js(r,s,a,c,C,S,N,Q,d,D,0):0}function Js(r,s,a,c,d,p,v,D,C,S,N){let F=0,V=D.firstChild;for(;V;){const Q=ku(r,a,1,null);switch(V.nodeType){case Node.ELEMENT_NODE:const me=V,Re=me.tagName.toLowerCase();if(ac.hasOwnProperty(Re)){U0(d,Nc,Re,C,Q),r.data[Q]=Re;const at=me.attributes;for(let Nt=0;Nt<at.length;Nt++){const $t=at.item(Nt),Zr=$t.name.toLowerCase();$t.value.match(Qu)?rf.hasOwnProperty(Zr)&&Ju(v,$t.value,Q,$t.name,0,Md[Zr]?sc:Od[Zr]?Ad:null):qI(d,Q,$t)}F=Js(r,s,a,c,d,p,v,V,Q,S,N+1)|F,rE(p,Q,N)}break;case Node.TEXT_NODE:const Le=V.textContent||"",qe=Le.match(Qu);U0(d,null,qe?"":Le,C,Q),rE(p,Q,N),qe&&(F=Ju(v,Le,Q,null,0,null)|F);break;case Node.COMMENT_NODE:const Ie=Xw.exec(V.textContent||"");if(Ie){const Nt=S[parseInt(Ie[1],10)];U0(d,O_,"",C,Q),j_(r,a,c,C,Nt,Q),ZI(p,Q,N)}}V=V.nextSibling}return F}function rE(r,s,a){0===a&&r.push(s)}function ZI(r,s,a){0===a&&(r.push(~s),r.push(s))}function U0(r,s,a,c,d){null!==s&&r.push(s),r.push(a,d,function Zw(r,s,a){return r|s<<17|a<<1}(0,c,d))}function qI(r,s,a){r.push(s<<1|1,a.name,a.value)}function cE(r,s,a=-1){const c=Et(),d=Te(),p=20+r,v=Ki(c.consts,s),D=Fs();c.firstCreatePass&&function oh(r,s,a,c,d,p){const v=Fs(),D=[],C=[],S=[[]];d=function WI(r,s){if(function iE(r){return-1===r}(s))return wl(r);{const a=r.indexOf(`:${s}\ufffd`)+2+s.toString().length,c=r.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return wl(r.substring(a,c))}}(d,p);const N=function P0(r){return r.replace(Cl," ")}(d).split(k0);for(let F=0;F<N.length;F++){let V=N[F];if(0==(1&F)){const Q=F0(V);for(let me=0;me<Q.length;me++){let Re=Q[me];if(0==(1&me)){const Le=Re;""!==Le&&eE(r,v,S[0],D,C,a,Le)}else{const Le=Re;if("object"!=typeof Le)throw new Error(`Unable to parse ICU expression in "${d}" message.`);j_(r,a,C,s,Le,ah(r,v,S[0],a,D,"",!0).index)}}}else{const Q=47===V.charCodeAt(0),Re=(V.charCodeAt(Q?1:0),20+Number.parseInt(V.substring(Q?2:1)));if(Q)S.shift(),Ui(Fs(),!1);else{const Le=zw(r,S[0],Re);S.unshift([]),Ui(Le,!0)}}}r.data[c]={create:D,update:C}}(c,null===D?0:D.index,d,p,v,a);const C=c.data[p],N=ml(c,D===d[6]?null:D,d);(function k_(r,s,a,c){const d=r[11];for(let p=0;p<s.length;p++){const v=s[p++],D=s[p],C=(v&Rn.COMMENT)===Rn.COMMENT,S=(v&Rn.APPEND_EAGERLY)===Rn.APPEND_EAGERLY,N=v>>>Rn.SHIFT;let F=r[N];null===F&&(F=r[N]=C?d.createComment(D):pc(d,D)),S&&null!==a&&vl(d,a,F,c,!1)}})(d,C.create,N,D&&8&D.type?d[D.index]:null),Za(!0)}function B0(r,s,a){cE(r,s,a),function uE(){Za(!1)}()}function V0(r){return function Yw(r){r&&(Ku|=1<<Math.min(Dl,31)),Dl++}(bi(Te(),as(),r)),V0}function j0(r){!function qw(r,s,a){if(Dl>0){const c=r.data[a];F_(r,s,Array.isArray(c)?c:c.update,function Bi(){return ct.lFrame.bindingIndex}()-Dl-1,Ku)}Ku=0,Dl=0}(Et(),Te(),r+20)}function H0(r,s,a,c,d){if(r=te(r),Array.isArray(r))for(let p=0;p<r.length;p++)H0(r[p],s,a,c,d);else{const p=Et(),v=Te();let D=Bu(r)?r:te(r.provide),C=s_(r);const S=Jt(),N=1048575&S.providerIndexes,F=S.directiveStart,V=S.providerIndexes>>20;if(Bu(r)||!r.multi){const Q=new fo(C,d,nh),me=H_(D,s,d?N:N+V,F);-1===me?(mi(us(S,v),p,D),G0(p,r,s.length),s.push(D),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Q),v.push(Q)):(a[me]=Q,v[me]=Q)}else{const Q=H_(D,s,N+V,F),me=H_(D,s,N,N+V),Re=Q>=0&&a[Q],Le=me>=0&&a[me];if(d&&!Le||!d&&!Re){mi(us(S,v),p,D);const qe=function li(r,s,a,c,d){const p=new fo(r,a,nh);return p.multi=[],p.index=s,p.componentProviders=0,dE(p,d,c&&!a),p}(d?oS:sS,a.length,d,c,C);!d&&Le&&(a[me].providerFactory=qe),G0(p,r,s.length,0),s.push(D),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(qe),v.push(qe)}else G0(p,r,Q>-1?Q:me,dE(a[d?me:Q],C,!d&&c));!d&&c&&Le&&a[me].componentProviders++}}}function G0(r,s,a,c){const d=Bu(s),p=function a_(r){return!!r.useClass}(s);if(d||p){const C=(p?te(s.useClass):s).prototype.ngOnDestroy;if(C){const S=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const N=S.indexOf(a);-1===N?S.push(a,[c,C]):S[N+1].push(c,C)}else S.push(a,C)}}}function dE(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function H_(r,s,a,c){for(let d=a;d<c;d++)if(s[d]===r)return d;return-1}function sS(r,s,a,c){return $0(this.multi,[])}function oS(r,s,a,c){const d=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=Xi(a,a[1],this.providerFactory.index,c);p=D.slice(0,v),$0(d,p);for(let C=v;C<D.length;C++)p.push(D[C])}else p=[],$0(d,p);return p}function $0(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function hE(r,s=[]){return a=>{a.providersResolver=(c,d)=>function rS(r,s,a){const c=Et();if(c.firstCreatePass){const d=gr(r);H0(a,c.data,c.blueprint,d,!0),H0(s,c.data,c.blueprint,d,!1)}}(c,d?d(r):r,s)}}class fE{}class gE{resolveComponentFactory(s){throw function lS(r){const s=Error(`No component factory found for ${se(r)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=r,s}(s)}}let gp=(()=>{class r{}return r.NULL=new gE,r})();function _E(){return Mc(Jt(),Te())}function Mc(r,s){return new Xu(jn(r,s))}let Xu=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=_E,r})();function mE(r){return r instanceof Xu?r.nativeElement:r}class W0{}let vE=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function bE(){const r=Te(),a=Hn(Jt().index,r);return function yE(r){return r[11]}(Si(a)?a:r)}(),r})(),DE=(()=>{class r{}return r.\u0275prov=kt({token:r,providedIn:"root",factory:()=>null}),r})();class z0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Z0=new z0("13.3.11"),G_={};function _p(r,s,a,c,d=!1){for(;null!==a;){const p=s[a.index];if(null!==p&&c.push(Ft(p)),fr(p))for(let D=10;D<p.length;D++){const C=p[D],S=C[1].firstChild;null!==S&&_p(C[1],C,S,c)}const v=a.type;if(8&v)_p(r,s,a.child,c);else if(32&v){const D=de(a,s);let C;for(;C=D();)c.push(C)}else if(16&v){const D=wv(s,a);if(Array.isArray(D))c.push(...D);else{const C=st(s[16]);_p(C[1],C,D,c,!0)}}a=d?a.projectionNext:a.next}return c}class ch{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return _p(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(fr(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(vf(s,c),vo(a,c))}this._attachedToViewContainer=!1}gv(this._lView[1],this._lView)}onDestroy(s){zv(this._lView[1],this._lView,null,s)}markForCheck(){Xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Hf(r,s,a){const c=s[10];c.begin&&c.begin();try{ba(r,s,r.template,a)}catch(d){throw DC(s,d),d}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gd(r,s){$d(r,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=s}}class CE extends ch{constructor(s){super(s),this._view=s}detectChanges(){Gf(this._view)}checkNoChanges(){}get context(){return null}}class $_ extends gp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Nn(s);return new z_(a,this.ngModule)}}function W_(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class z_ extends fE{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Pv(r){return r.map(kv).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return W_(this.componentDef.inputs)}get outputs(){return W_(this.componentDef.outputs)}create(s,a,c,d){const p=(d=d||this.ngModule)?function uS(r,s){return{get:(a,c,d)=>{const p=r.get(a,G_,d);return p!==G_||c===G_?p:s.get(a,c,d)}}}(s,d.injector):s,v=p.get(W0,Xo),D=p.get(DE,null),C=v.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=c?function zg(r,s,a){if(Gt(r))return r.selectRootElement(s,a===St.ShadowDom);let c="string"==typeof s?r.querySelector(s):s;return c.textContent="",c}(C,c,this.componentDef.encapsulation):yi(v.createRenderer(null,this.componentDef),S,function wE(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(S)),F=this.componentDef.onPush?576:528,V=function Cy(r,s){return{components:[],scheduler:r||Bd,clean:Qd,playerHandler:s||null,flags:0}}(),Q=Wg(0,null,null,1,0,null,null,null,null,null),me=Mf(null,Q,V,F,null,null,v,C,D,p);let Re,Le;Ls(me);try{const qe=function Dy(r,s,a,c,d,p){const v=a[1];a[20]=r;const C=qd(v,20,2,"#host",null),S=C.mergedAttrs=s.hostAttrs;null!==S&&(Wf(C,S,!0),null!==r&&(Vt(d,r,S),null!==C.classes&&Ag(d,r,C.classes),null!==C.styles&&Sv(d,r,C.styles)));const N=c.createRenderer(r,s),F=Mf(a,hC(s),null,s.onPush?64:16,a[20],C,c,N,p||null,null);return v.firstCreatePass&&(mi(us(C,a),v,s.type),kf(v,C),Pf(C,a.length,1)),Fu(a,F),a[20]=F}(N,this.componentDef,me,v,C);if(N)if(c)Vt(C,N,["ng-version",Z0.full]);else{const{attrs:Ie,classes:at}=function QD(r){const s=[],a=[];let c=1,d=2;for(;c<r.length;){let p=r[c];if("string"==typeof p)2===d?""!==p&&s.push(p,r[++c]):8===d&&a.push(p);else{if(!Ks(d))break;d=p}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ie&&Vt(C,N,Ie),at&&at.length>0&&Ag(C,N,at.join(" "))}if(Le=tn(Q,20),void 0!==a){const Ie=Le.projection=[];for(let at=0;at<this.ngContentSelectors.length;at++){const Nt=a[at];Ie.push(null!=Nt?Array.from(Nt):null)}}Re=function u_(r,s,a,c,d){const p=a[1],v=function Kv(r,s,a){const c=Jt();r.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Ff(r,c,s,ku(r,s,1,null),a));const d=Xi(s,r,c.directiveStart,c);Wn(d,s);const p=jn(c,s);return p&&Wn(p,s),d}(p,a,s);if(c.components.push(v),r[8]=v,d&&d.forEach(C=>C(v,s)),s.contentQueries){const C=Jt();s.contentQueries(1,v,C.directiveStart)}const D=Jt();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Us(D.index),qg(a[1],D,0,D.directiveStart,D.directiveEnd,s),Kg(s,v)),v}(qe,this.componentDef,me,V,[wy]),_c(Q,me,null)}finally{Ni()}return new EE(this.componentType,Re,Mc(Le,me),me,Le)}}class EE extends class aS{}{constructor(s,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new CE(d),this.componentType=s}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class uh{}class TE{}const dh=new Map;class NE extends uh{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $_(this);const c=An(s);this._bootstrapComponents=m(c.bootstrap),this._r3Injector=r_(s,a,[{provide:uh,useValue:this},{provide:gp,useValue:this.componentFactoryResolver}],se(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=So.THROW_IF_NOT_FOUND,c=lt.Default){return s===So||s===uh||s===zf?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Y0 extends TE{constructor(s){super(),this.moduleType=s,null!==An(s)&&function fS(r){const s=new Set;!function a(c){const d=An(c,!0),p=d.id;null!==p&&(function IE(r,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${r} - ${se(s)} vs ${se(s.name)}`)}(p,dh.get(p),c),dh.set(p,c));const v=m(d.imports);for(const D of v)s.has(D)||(s.add(D),a(D))}(r)}(s)}create(s){return new NE(this.moduleType,s)}}function AE(r,s,a,c){return function ws(r,s,a,c,d,p){const v=s+a;return bi(r,v,d)?zn(r,v+1,p?c.call(p,d):c(d)):mp(r,v+1)}(Te(),ni(),r,s,a,c)}function q0(r,s,a,c,d){return ln(Te(),ni(),r,s,a,c,d)}function ME(r,s,a,c,d,p){return function vp(r,s,a,c,d,p,v,D){const C=s+a;return function Ca(r,s,a,c,d){const p=Qs(r,s,a,c);return bi(r,s+2,d)||p}(r,C,d,p,v)?zn(r,C+3,D?c.call(D,d,p,v):c(d,p,v)):mp(r,C+3)}(Te(),ni(),r,s,a,c,d,p)}function mp(r,s){const a=r[s];return a===mt?void 0:a}function ln(r,s,a,c,d,p,v){const D=s+a;return Qs(r,D,d,p)?zn(r,D+2,v?c.call(v,d,p):c(d,p)):mp(r,D+2)}function Q0(r,s){const a=Et();let c;const d=r+20;a.firstCreatePass?(c=function OE(r,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(r===c.name)return c}}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const p=c.factory||(c.factory=ei(c.type)),v=dn(nh);try{const D=ut(!1),C=p();return ut(D),function wc(r,s,a,c){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=c}(a,Te(),d,C),C}finally{dn(v)}}function RE(r,s,a,c){const d=r+20,p=Te(),v=vr(p,d);return function fh(r,s){return r[1].data[s].pure}(p,d)?ln(p,ni(),s,v.transform,a,c,v):v.transform(a,c)}function q_(r){return s=>{setTimeout(r,void 0,s)}}const Po=class xE extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,p,v;let D=s,C=a||(()=>null),S=c;if(s&&"object"==typeof s){const F=s;D=null===(d=F.next)||void 0===d?void 0:d.bind(F),C=null===(p=F.error)||void 0===p?void 0:p.bind(F),S=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(C=q_(C),D&&(D=q_(D)),S&&(S=q_(S)));const N=super.subscribe({next:D,error:C,complete:S});return s instanceof J.w0&&s.add(N),N}};function ed(){return this._results[Da()]()}class Ia{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Da(),c=Ia.prototype;c[a]||(c[a]=ed)}get changes(){return this._changes||(this._changes=new Po)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=ri(s);(this._changesDetected=!function Dd(r,s,a){if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++){let d=r[c],p=s[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Sa=(()=>{class r{}return r.__NG_ELEMENT_ID__=Cp,r})();const Dp=Sa,X0=class extends Dp{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=Mf(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(a)),_c(a,c,s),new ch(c)}};function Cp(){return Fo(Jt(),Te())}function Fo(r,s){return 4&r.type?new X0(s,r,Mc(r,s)):null}let ph=(()=>{class r{}return r.__NG_ELEMENT_ID__=bS,r})();function bS(){return FE(Jt(),Te())}const DS=ph,kE=class extends DS{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Mc(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){const s=Gn(this._hostTNode,this._hostLView);if(po(s)){const a=cs(s,this._hostLView),c=ls(s);return new gs(a[1].data[c+8],a)}return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=PE(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,p){const v=s&&!function il(r){return"function"==typeof r}(s);let D;if(v)D=a;else{const F=a||{};D=F.index,c=F.injector,d=F.projectableNodes,p=F.ngModuleRef}const C=v?s:new z_(Nn(s)),S=c||this.parentInjector;if(!p&&null==C.ngModule){const V=(v?S:this.parentInjector).get(uh,null);V&&(p=V)}const N=C.create(S,d,void 0,p);return this.insert(N.hostView,D),N}insert(s,a){const c=s._lView,d=c[1];if(function ta(r){return fr(r[3])}(c)){const N=this.indexOf(s);if(-1!==N)this.detach(N);else{const F=c[3],V=new kE(F,F[6],F[3]);V.detach(V.indexOf(s))}}const p=this._adjustIndex(a),v=this._lContainer;!function _l(r,s,a,c){const d=10+c,p=a.length;c>0&&(a[d-1][4]=s),c<p-10?(s[4]=a[d],la(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const v=s[17];null!==v&&a!==v&&function fv(r,s){const a=r[9];s[16]!==s[3][3][16]&&(r[2]=!0),null===a?r[9]=[s]:a.push(s)}(v,s);const D=s[19];null!==D&&D.insertView(r),s[2]|=128}(d,c,v,p);const D=Cf(p,v),C=c[11],S=bf(C,v[7]);return null!==S&&function Hd(r,s,a,c,d,p){c[0]=d,c[6]=s,$d(r,c,a,1,d,p)}(d,v[6],C,c,S,D),s.attachToViewContainerRef(),la(eb(v),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=PE(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=vf(this._lContainer,a);c&&(vo(eb(this._lContainer),a),gv(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=vf(this._lContainer,a);return c&&null!=vo(eb(this._lContainer),a)?new ch(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function PE(r){return r[8]}function eb(r){return r[8]||(r[8]=[])}function FE(r,s){let a;const c=s[r.index];if(fr(c))a=c;else{let d;if(8&r.type)d=Ft(c);else{const p=s[11];d=p.createComment("");const v=jn(r,s);vl(p,bf(p,v),d,function GD(r,s){return Gt(r)?r.nextSibling(s):s.nextSibling}(p,v),!1)}s[r.index]=a=Jv(c,s,d,r),Fu(s,a)}return new kE(a,r,s)}class tb{constructor(s){this.queryList=s,this.matches=null}clone(){return new tb(this.queryList)}setDirty(){this.queryList.setDirty()}}class nb{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const v=a.getByIndex(p);d.push(this.queries[v.indexInDeclarationView].clone())}return new nb(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==J_(s,a).matches&&this.queries[a].setDirty()}}class LE{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class ib{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new ib(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class rb{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new rb(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,a,ES(a,p)),this.matchTNodeWithReadOption(s,a,oa(a,s,p,!1,!1))}else c===Sa?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,oa(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Xu||d===ph||d===Sa&&4&a.type)this.addMatch(a.index,-2);else{const p=oa(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function ES(r,s){const a=r.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function UE(r,s,a,c){return-1===a?function sb(r,s){return 11&r.type?Mc(r,s):4&r.type?Fo(r,s):null}(s,r):-2===a?function K_(r,s,a){return a===Xu?Mc(s,r):a===Sa?Fo(s,r):a===ph?FE(s,r):void 0}(r,s,c):Xi(r,r[1],a,s)}function Q_(r,s,a,c){const d=s[19].queries[c];if(null===d.matches){const p=r.data,v=a.matches,D=[];for(let C=0;C<v.length;C+=2){const S=v[C];D.push(S<0?null:UE(s,p[S],v[C+1],a.metadata.read))}d.matches=D}return d.matches}function wp(r,s,a,c){const d=r.queries.getByIndex(a),p=d.matches;if(null!==p){const v=Q_(r,s,d,a);for(let D=0;D<p.length;D+=2){const C=p[D];if(C>0)c.push(v[D/2]);else{const S=p[D+1],N=s[-C];for(let F=10;F<N.length;F++){const V=N[F];V[17]===V[3]&&wp(V[1],V,S,c)}if(null!==N[9]){const F=N[9];for(let V=0;V<F.length;V++){const Q=F[V];wp(Q[1],Q,S,c)}}}}}return c}function gh(r){const s=Te(),a=Et(),c=Ka();Kc(c+1);const d=J_(a,c);if(r.dirty&&Ps(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const p=d.crossesNgTemplate?wp(a,s,c,[]):Q_(a,s,d,c);r.reset(p,mE),r.notifyOnChanges()}return!0}return!1}function ob(r,s,a){const c=Et();c.firstCreatePass&&(VE(c,new LE(r,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),El(c,Te(),s)}function _h(r,s,a,c){const d=Et();if(d.firstCreatePass){const p=Jt();VE(d,new LE(s,a,c),p.index),function jE(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}El(d,Te(),a)}function BE(){return function ab(r,s){return r[19].queries[s].queryList}(Te(),Ka())}function El(r,s,a){const c=new Ia(4==(4&a));zv(r,s,c,c.destroy),null===s[19]&&(s[19]=new nb),s[19].queries.push(new tb(c))}function VE(r,s,a){null===r.queries&&(r.queries=new ib),r.queries.track(new rb(s,a))}function J_(r,s){return r.queries.getByIndex(s)}function lb(r,s){return Fo(r,s)}function sm(...r){}const wb=new an("Application Initializer");let Eb=(()=>{class r{constructor(a){this.appInits=a,this.resolve=sm,this.reject=sm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(jy(p))a.push(p);else if(Hy(p)){const v=new Promise((D,C)=>{p.subscribe({complete:D,error:C})});a.push(v)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(Qe(wb,8))},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const eT=new an("AppId",{providedIn:"root",factory:function om(){return`${Tb()}${Tb()}${Tb()}`}});function Tb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tT=new an("Platform Initializer"),MS=new an("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nT=new an("appBootstrapListener");let OS=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const Ib=new an("LocaleId",{providedIn:"root",factory:()=>Rt(Ib,lt.Optional|lt.SkipSelf)||function RS(){return"undefined"!=typeof $localize&&$localize.locale||up}()}),xS=new an("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class kS{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let PS=(()=>{class r{compileModuleSync(a){return new Y0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=m(An(a).declarations).reduce((v,D)=>{const C=Nn(D);return C&&v.push(new z_(C)),v},[]);return new kS(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const FS=(()=>Promise.resolve(0))();function Sb(r){"undefined"==typeof Zone?FS.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Es{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Po(!1),this.onMicrotaskEmpty=new Po(!1),this.onStable=new Po(!1),this.onError=new Po(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function LS(){let r=Tt.requestAnimationFrame,s=Tt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function VS(r){const s=()=>{!function BS(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Tt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Ab(r),r.isCheckStableRunning=!0,Nb(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Ab(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,v,D)=>{try{return oT(r),a.invokeTask(d,p,v,D)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&s(),aT(r)}},onInvoke:(a,c,d,p,v,D,C)=>{try{return oT(r),a.invoke(d,p,v,D,C)}finally{r.shouldCoalesceRunChangeDetection&&s(),aT(r)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,Ab(r),Nb(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Es.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Es.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+d,s,US,sm,sm);try{return p.runTask(v,a,c)}finally{p.cancelTask(v)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const US={};function Nb(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Ab(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function oT(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function aT(r){r._nesting--,Nb(r)}class jS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Po,this.onMicrotaskEmpty=new Po,this.onStable=new Po,this.onError=new Po}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let am=(()=>{class r{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Es.assertNotInAngularZone(),Sb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sb(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return r.\u0275fac=function(a){return new(a||r)(Qe(Es))},r.\u0275prov=kt({token:r,factory:r.\u0275fac}),r})(),lT=(()=>{class r{constructor(){this._applications=new Map,lm.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return lm.findTestabilityInTree(this,a,c)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();class cT{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function Mb(r){lm=r}let lm=new cT,Oc=null;const Ob=new an("AllowMultipleToken"),Wi=new an("PlatformOnDestroy");class uT{constructor(s,a){this.name=s,this.token=a}}function cm(r,s,a=[]){const c=`Platform: ${s}`,d=new an(c);return(p=[])=>{let v=Un();if(!v||v.injector.get(Ob,!1)){const D=[...a,...p,{provide:d,useValue:!0}];r?r(D):function dT(r){if(Oc&&!Oc.get(Ob,!1))throw new Ae(400,"");Oc=r;const s=r.get(um),a=r.get(tT,null);a&&a.forEach(c=>c())}(function Pb(r=[],s){return So.create({name:s,providers:[{provide:n_,useValue:"platform"},{provide:Wi,useValue:()=>Oc=null},...r]})}(D,c))}return function kb(r){const s=Un();if(!s)throw new Ae(401,"");return s}()}}function Un(){var r;return null!==(r=null==Oc?void 0:Oc.get(um))&&void 0!==r?r:null}let um=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const D=function Np(r,s){let a;return a="noop"===r?new jS:("zone.js"===r?void 0:r)||new Es({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:Es,useValue:D}];return D.run(()=>{const S=So.create({providers:C,parent:this.injector,name:a.moduleType.name}),N=a.create(S),F=N.injector.get(Mu,null);if(!F)throw new Ae(402,"");return D.runOutsideAngular(()=>{const V=D.onError.subscribe({next:Q=>{F.handleError(Q)}});N.onDestroy(()=>{Dh(this._modules,N),V.unsubscribe()})}),function hT(r,s,a){try{const c=a();return jy(c)?c.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>r.handleError(c)),c}}(F,D,()=>{const V=N.injector.get(Eb);return V.runInitializers(),V.donePromise.then(()=>(function R_(r){(function Ct(r,s){null==r&&je(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(ko=r.toLowerCase().replace(/_/g,"-"))}(N.injector.get(Ib,up)||up),this._moduleDoBootstrap(N),N))})})}bootstrapModule(a,c=[]){const d=fT({},c);return function Rb(r,s,a){const c=new Y0(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(dm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Ae(403,"");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Wi,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(Qe(So))},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function fT(r,s){return Array.isArray(s)?s.reduce(fT,r):Object.assign(Object.assign({},r),s)}let dm=(()=>{class r{constructor(a,c,d,p){this._zone=a,this._injector=c,this._exceptionHandler=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),D=new k.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Es.assertNotInAngularZone(),Sb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Es.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ae.T)(v,D.pipe((0,ie.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Ae(405,"");let d;d=a instanceof fE?a:this._injector.get(gp).resolveComponentFactory(a),this.componentTypes.push(d.componentType);const p=function Sp(r){return r.isBoundToModule}(d)?void 0:this._injector.get(uh),D=d.create(So.NULL,[],c||d.selector,p),C=D.location.nativeElement,S=D.injector.get(am,null),N=S&&D.injector.get(lT);return S&&N&&N.registerApplication(C,S),D.onDestroy(()=>{this.detachView(D.hostView),Dh(this.components,D),N&&N.unregisterApplication(C)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Dh(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(nT,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(a){return new(a||r)(Qe(Es),Qe(So),Qe(Mu),Qe(Eb))},r.\u0275prov=kt({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Dh(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}let Lb=!0,Ub=!1;function GS(){return Ub=!0,Lb}function $S(){if(Ub)throw new Error("Cannot enable prod mode after platform setup.");Lb=!1}let WS=(()=>{class r{}return r.__NG_ELEMENT_ID__=zS,r})();function zS(r){return function ZS(r,s,a){if(Uc(r)&&!a){const c=Hn(r.index,s);return new ch(c,c)}return 47&r.type?new ch(s[16],s):null}(Jt(),Te(),16==(16&r))}class mm{constructor(){}supports(s){return Jd(s)}create(s){return new vm(s)}}const vT=(r,s)=>s;class vm{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||vT}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const v=!c||a&&a.currentIndex<Vb(c,d,p)?a:c,D=Vb(v,d,p),C=v.currentIndex;if(v===c)d--,c=c._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{p||(p=[]);const S=D-d,N=C-d;if(S!=N){for(let V=0;V<S;V++){const Q=V<p.length?p[V]:p[V]=0,me=Q+V;N<=me&&me<S&&(p[V]=Q+1)}p[v.previousIndex]=N-S}}D!==C&&s(v,D,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Jd(s))throw new Ae(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,v,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let D=0;D<this.length;D++)p=s[D],v=this._trackByFn(D,p),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,p,v,D)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,v,D),c=!0),a=a._next}else d=0,function $r(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Da()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,D=>{v=this._trackByFn(d,D),null!==a&&Object.is(a.trackById,v)?(c&&(a=this._verifyReinsertion(a,D,v,d)),Object.is(a.item,D)||this._addIdentityChange(a,D)):(a=this._mismatch(a,D,v,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new xp(a,c),p,d),s}_verifyReinsertion(s,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new kp),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kp),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class xp{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ym{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class kp{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new ym,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vb(r,s,a){const c=r.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class jb{constructor(){}supports(s){return s instanceof Map||Wr(s)}create(){return new yT}}class yT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Wr(s)))throw new Ae(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,v=d._next;return p&&(p._next=v),v&&(v._prev=p),d._next=null,d._prev=null,d}const c=new bT(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class bT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hb(){return new Rc([new mm])}let Rc=(()=>{class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||Hb()),deps:[[r,new ys,new oi]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Ae(901,"")}}return r.\u0275prov=kt({token:r,providedIn:"root",factory:Hb}),r})();function Ch(){return new Pp([new jb])}let Pp=(()=>{class r{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||Ch()),deps:[[r,new ys,new oi]]}}find(a){const c=this.factories.find(p=>p.supports(a));if(c)return c;throw new Ae(901,"")}}return r.\u0275prov=kt({token:r,providedIn:"root",factory:Ch}),r})();const Gb=cm(null,"core",[]);let bm=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(Qe(dm))},r.\u0275mod=fi({type:r}),r.\u0275inj=Ot({}),r})()},3942:(We,_e,x)=>{x.d(_e,{Z:()=>Ae});var u=x(2090),J=x(4859),k=x(9681),ae=x(1877);class ie{constructor(he,De){this._delegate=he,this.firebase=De,(0,k._addComponent)(he,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(he,De=k._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const $e=this._delegate.container.getProvider(he);return!$e.isInitialized()&&"EXPLICIT"===(null===(Be=$e.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&$e.initialize(),$e.getImmediate({identifier:De})}_removeServiceInstance(he,De=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(De)}_addComponent(he){(0,k._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,k._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const le=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ce(){const ke=function se(ke){const he={},De={__esModule:!0,initializeApp:function Ee(Fe,H={}){const ve=k.initializeApp(Fe,H);if((0,u.r3)(he,ve.name))return he[ve.name];const q=new ke(ve,De);return he[ve.name]=q,q},app:$e,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function be(Fe){const H=Fe.name,ve=H.replace("-compat","");if(k._registerComponent(Fe)&&"PUBLIC"===Fe.type){const q=(re=$e())=>{if("function"!=typeof re[ve])throw le.create("invalid-app-argument",{appName:H});return re[ve]()};void 0!==Fe.serviceProps&&(0,u.ZB)(q,Fe.serviceProps),De[ve]=q,ke.prototype[ve]=function(...re){return this._getService.bind(this,H).apply(this,Fe.multipleInstances?re:[])}}return"PUBLIC"===Fe.type?De[ve]:null},removeApp:function Be(Fe){delete he[Fe]},useAsService:function Pe(Fe,H){return"serverAuth"===H?null:H},modularAPIs:k}};function $e(Fe){if(!(0,u.r3)(he,Fe=Fe||k._DEFAULT_ENTRY_NAME))throw le.create("no-app",{appName:Fe});return he[Fe]}return De.default=De,Object.defineProperty(De,"apps",{get:function ye(){return Object.keys(he).map(Fe=>he[Fe])}}),$e.App=ke,De}(ie);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function he(De){(0,u.ZB)(ke,De)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ke}(),j=new ae.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=G;!function Se(ke){(0,k.registerVersion)("@firebase/app-compat","0.1.26",ke)}()},9681:(We,_e,x)=>{x.r(_e),x.d(_e,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>ur,_DEFAULT_ENTRY_NAME:()=>Ct,_addComponent:()=>Ut,_addOrOverwriteComponent:()=>kt,_apps:()=>Lt,_clearComponents:()=>cr,_components:()=>un,_getProvider:()=>Ot,_registerComponent:()=>di,_removeServiceInstance:()=>wt,deleteApp:()=>lt,getApp:()=>Ci,getApps:()=>Yi,initializeApp:()=>Qr,onLog:()=>dn,registerVersion:()=>rn,setLogLevel:()=>Jr});var u=x(5861),J=x(4859),k=x(1877),ae=x(2090),ie=x(8766);class pe{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Ne=>{if(function le($){const X=$.getComponent();return"VERSION"===(null==X?void 0:X.type)}(Ne)){const Ze=Ne.getImmediate();return`${Ze.library}/${Ze.version}`}return null}).filter(Ne=>Ne).join(" ")}}const se="@firebase/app",G=new k.Yd("@firebase/app"),Ct="[DEFAULT]",je={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lt=new Map,un=new Map;function Ut($,X){try{$.container.addComponent(X)}catch(Ne){G.debug(`Component ${X.name} failed to register with FirebaseApp ${$.name}`,Ne)}}function kt($,X){$.container.addOrOverwriteComponent(X)}function di($){const X=$.name;if(un.has(X))return G.debug(`There were multiple attempts to register component ${X}.`),!1;un.set(X,$);for(const Ne of Lt.values())Ut(Ne,$);return!0}function Ot($,X){const Ne=$.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),$.container.getProvider(X)}function wt($,X,Ne=Ct){Ot($,X).clearInstance(Ne)}function cr(){un.clear()}const qn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class hi{constructor(X,Ne,Ze){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=Ze,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}const ur="9.8.2";function Qr($,X={}){"object"!=typeof X&&(X={name:X});const Ne=Object.assign({name:Ct,automaticDataCollectionEnabled:!1},X),Ze=Ne.name;if("string"!=typeof Ze||!Ze)throw qn.create("bad-app-name",{appName:String(Ze)});const ot=Lt.get(Ze);if(ot){if((0,ae.vZ)($,ot.options)&&(0,ae.vZ)(Ne,ot.config))return ot;throw qn.create("duplicate-app",{appName:Ze})}const pt=new J.H0(Ze);for(const ft of un.values())pt.addComponent(ft);const Yt=new hi($,Ne,pt);return Lt.set(Ze,Yt),Yt}function Ci($=Ct){const X=Lt.get($);if(!X)throw qn.create("no-app",{appName:$});return X}function Yi(){return Array.from(Lt.values())}function lt($){return ki.apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*($){const X=$.name;Lt.has(X)&&(Lt.delete(X),yield Promise.all($.container.getProviders().map(Ne=>Ne.delete())),$.isDeleted=!0)})).apply(this,arguments)}function rn($,X,Ne){var Ze;let ot=null!==(Ze=je[$])&&void 0!==Ze?Ze:$;Ne&&(ot+=`-${Ne}`);const pt=ot.match(/\s|\//),Yt=X.match(/\s|\//);if(pt||Yt){const ft=[`Unable to register library "${ot}" with version "${X}":`];return pt&&ft.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),pt&&Yt&&ft.push("and"),Yt&&ft.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void G.warn(ft.join(" "))}di(new J.wA(`${ot}-version`,()=>({library:ot,version:X}),"VERSION"))}function dn($,X){if(null!==$&&"function"!=typeof $)throw qn.create("invalid-log-argument");(0,k.Am)($,X)}function Jr($){(0,k.Ub)($)}const hn="firebase-heartbeat-store";let Pi=null;function Ns(){return Pi||(Pi=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:($,X)=>{0===X&&$.createObjectStore(hn)}}).catch($=>{throw qn.create("storage-open",{originalErrorMessage:$.message})})),Pi}function Je(){return(Je=(0,u.Z)(function*($){try{return(yield Ns()).transaction(hn).objectStore(hn).get(Fi($))}catch(X){throw qn.create("storage-get",{originalErrorMessage:X.message})}})).apply(this,arguments)}function dt($,X){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*($,X){try{const Ze=(yield Ns()).transaction(hn,"readwrite");return yield Ze.objectStore(hn).put(X,Fi($)),Ze.done}catch(Ne){throw qn.create("storage-set",{originalErrorMessage:Ne.message})}})).apply(this,arguments)}function Fi($){return`${$.name}!${$.options.appId}`}class Qn{constructor(X){this.container=X,this._heartbeatsCache=null;const Ne=this.container.getProvider("app").getImmediate();this._storage=new W(Ne),this._heartbeatsCachePromise=this._storage.read().then(Ze=>(this._heartbeatsCache=Ze,Ze))}triggerHeartbeat(){var X=this;return(0,u.Z)(function*(){const Ze=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=Jn();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==ot&&!X._heartbeatsCache.heartbeats.some(pt=>pt.date===ot))return X._heartbeatsCache.heartbeats.push({date:ot,agent:Ze}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(pt=>{const Yt=new Date(pt.date).valueOf();return Date.now()-Yt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,u.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const Ne=Jn(),{heartbeatsToSend:Ze,unsentEntries:ot}=function B($,X=1024){const Ne=[];let Ze=$.slice();for(const ot of $){const pt=Ne.find(Yt=>Yt.agent===ot.agent);if(pt){if(pt.dates.push(ot.date),Z(Ne)>X){pt.dates.pop();break}}else if(Ne.push({agent:ot.agent,dates:[ot.date]}),Z(Ne)>X){Ne.pop();break}Ze=Ze.slice(1)}return{heartbeatsToSend:Ne,unsentEntries:Ze}}(X._heartbeatsCache.heartbeats),pt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ze}));return X._heartbeatsCache.lastSentHeartbeatDate=Ne,ot.length>0?(X._heartbeatsCache.heartbeats=ot,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),pt})()}}function Jn(){return(new Date).toISOString().substring(0,10)}class W{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,u.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function St($){return Je.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var Ne=this;return(0,u.Z)(function*(){var Ze;if(yield Ne._canUseIndexedDBPromise){const pt=yield Ne.read();return dt(Ne.app,{lastSentHeartbeatDate:null!==(Ze=X.lastSentHeartbeatDate)&&void 0!==Ze?Ze:pt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Ne=this;return(0,u.Z)(function*(){var Ze;if(yield Ne._canUseIndexedDBPromise){const pt=yield Ne.read();return dt(Ne.app,{lastSentHeartbeatDate:null!==(Ze=X.lastSentHeartbeatDate)&&void 0!==Ze?Ze:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...X.heartbeats]})}})()}}function Z($){return(0,ae.L)(JSON.stringify({version:2,heartbeats:$})).length}!function Ce($){di(new J.wA("platform-logger",X=>new pe(X),"PRIVATE")),di(new J.wA("heartbeat",X=>new Qn(X),"PRIVATE")),rn(se,"0.7.25",$),rn(se,"0.7.25","esm2017"),rn("fire-js","")}("")},4859:(We,_e,x)=>{x.d(_e,{H0:()=>se,wA:()=>k,zt:()=>ie});var u=x(5861),J=x(2090);class k{constructor(G,j,te){this.name=G,this.instanceFactory=j,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ae="[DEFAULT]";class ie{constructor(G,j){this.name=G,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const j=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(j)){const te=new J.BH;if(this.instancesDeferred.set(j,te),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:j});Ue&&te.resolve(Ue)}catch(Ue){}}return this.instancesDeferred.get(j).promise}getImmediate(G){var j;const te=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Ue=null!==(j=null==G?void 0:G.optional)&&void 0!==j&&j;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Se){if(Ue)return null;throw Se}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function le(ce){return"EAGER"===ce.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(j){}for(const[j,te]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(j);try{const Se=this.getOrInitializeService({instanceIdentifier:Ue});te.resolve(Se)}catch(Se){}}}}clearInstance(G=ae){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,u.Z)(function*(){const j=Array.from(G.instances.values());yield Promise.all([...j.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...j.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ae){return this.instances.has(G)}getOptions(G=ae){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:j={}}=G,te=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:te,options:j});for(const[Se,Ae]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Se)&&Ae.resolve(Ue);return Ue}onInit(G,j){var te;const Ue=this.normalizeInstanceIdentifier(j),Se=null!==(te=this.onInitCallbacks.get(Ue))&&void 0!==te?te:new Set;Se.add(G),this.onInitCallbacks.set(Ue,Se);const Ae=this.instances.get(Ue);return Ae&&G(Ae,Ue),()=>{Se.delete(G)}}invokeOnInitCallbacks(G,j){const te=this.onInitCallbacks.get(j);if(te)for(const Ue of te)try{Ue(G,j)}catch(Se){}}getOrInitializeService({instanceIdentifier:G,options:j={}}){let te=this.instances.get(G);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=G,ce===ae?void 0:ce),options:j}),this.instances.set(G,te),this.instancesOptions.set(G,j),this.invokeOnInitCallbacks(te,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,te)}catch(Ue){}var ce;return te||null}normalizeInstanceIdentifier(G=ae){return this.component?this.component.multipleInstances?G:ae:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const j=this.getProvider(G.name);if(j.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);j.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const j=new ie(G,this);return this.providers.set(G,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(We,_e,x)=>{x.d(_e,{Am:()=>ce,Ub:()=>se,Yd:()=>le,in:()=>J});const u=[];var J=(()=>{return(G=J||(J={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",J;var G})();const k={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},ae=J.INFO,ie={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},pe=(G,j,...te)=>{if(j<G.logLevel)return;const Ue=(new Date).toISOString(),Se=ie[j];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Se](`[${Ue}]  ${G.name}:`,...te)};class le{constructor(j){this.name=j,this._logLevel=ae,this._logHandler=pe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in J))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?k[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...j),this._logHandler(this,J.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...j),this._logHandler(this,J.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,J.INFO,...j),this._logHandler(this,J.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,J.WARN,...j),this._logHandler(this,J.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...j),this._logHandler(this,J.ERROR,...j)}}function se(G){u.forEach(j=>{j.setLogLevel(G)})}function ce(G,j){for(const te of u){let Ue=null;j&&j.level&&(Ue=k[j.level]),te.userLogHandler=null===G?null:(Se,Ae,...ke)=>{const he=ke.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(Be){return null}}).filter(De=>De).join(" ");Ae>=(null!=Ue?Ue:Se.logLevel)&&G({level:J[Ae].toLowerCase(),message:he,args:ke,type:Se.name})}}}},8766:(We,_e,x)=>{x.d(_e,{Lj:()=>Ee,X3:()=>$e});var u=x(5861);let k,ae;const le=new WeakMap,se=new WeakMap,ce=new WeakMap,G=new WeakMap,j=new WeakMap;let Se={get(H,ve,q){if(H instanceof IDBTransaction){if("done"===ve)return se.get(H);if("objectStoreNames"===ve)return H.objectStoreNames||ce.get(H);if("store"===ve)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return De(H[ve])},set:(H,ve,q)=>(H[ve]=q,!0),has:(H,ve)=>H instanceof IDBTransaction&&("done"===ve||"store"===ve)||ve in H};function he(H){return"function"==typeof H?function ke(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...ve){return H.apply(Be(this),ve),De(le.get(this))}:function(...ve){return De(H.apply(Be(this),ve))}:function(ve,...q){const re=H.call(Be(this),ve,...q);return ce.set(re,ve.sort?ve.sort():[ve]),De(re)}}(H):(H instanceof IDBTransaction&&function Ue(H){if(se.has(H))return;const ve=new Promise((q,re)=>{const ee=()=>{H.removeEventListener("complete",ge),H.removeEventListener("error",oe),H.removeEventListener("abort",oe)},ge=()=>{q(),ee()},oe=()=>{re(H.error||new DOMException("AbortError","AbortError")),ee()};H.addEventListener("complete",ge),H.addEventListener("error",oe),H.addEventListener("abort",oe)});se.set(H,ve)}(H),((H,ve)=>ve.some(q=>H instanceof q))(H,function ie(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Se):H)}function De(H){if(H instanceof IDBRequest)return function te(H){const ve=new Promise((q,re)=>{const ee=()=>{H.removeEventListener("success",ge),H.removeEventListener("error",oe)},ge=()=>{q(De(H.result)),ee()},oe=()=>{re(H.error),ee()};H.addEventListener("success",ge),H.addEventListener("error",oe)});return ve.then(q=>{q instanceof IDBCursor&&le.set(q,H)}).catch(()=>{}),j.set(ve,H),ve}(H);if(G.has(H))return G.get(H);const ve=he(H);return ve!==H&&(G.set(H,ve),j.set(ve,H)),ve}const Be=H=>j.get(H);function $e(H,ve,{blocked:q,upgrade:re,blocking:ee,terminated:ge}={}){const oe=indexedDB.open(H,ve),Me=De(oe);return re&&oe.addEventListener("upgradeneeded",tt=>{re(De(oe.result),tt.oldVersion,tt.newVersion,De(oe.transaction))}),q&&oe.addEventListener("blocked",()=>q()),Me.then(tt=>{ge&&tt.addEventListener("close",()=>ge()),ee&&tt.addEventListener("versionchange",()=>ee())}).catch(()=>{}),Me}function Ee(H,{blocked:ve}={}){const q=indexedDB.deleteDatabase(H);return ve&&q.addEventListener("blocked",()=>ve()),De(q).then(()=>{})}const ye=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],Pe=new Map;function Fe(H,ve){if(!(H instanceof IDBDatabase)||ve in H||"string"!=typeof ve)return;if(Pe.get(ve))return Pe.get(ve);const q=ve.replace(/FromIndex$/,""),re=ve!==q,ee=be.includes(q);if(!(q in(re?IDBIndex:IDBObjectStore).prototype)||!ee&&!ye.includes(q))return;const ge=function(){var oe=(0,u.Z)(function*(Me,...tt){const It=this.transaction(Me,ee?"readwrite":"readonly");let Ct=It.store;return re&&(Ct=Ct.index(tt.shift())),(yield Promise.all([Ct[q](...tt),ee&&It.done]))[0]});return function(tt){return oe.apply(this,arguments)}}();return Pe.set(ve,ge),ge}!function Ae(H){Se=H(Se)}(H=>SO(IO({},H),{get:(ve,q,re)=>Fe(ve,q)||H.get(ve,q,re),has:(ve,q)=>!!Fe(ve,q)||H.has(ve,q)}))},5861:(We,_e,x)=>{function u(k,ae,ie,pe,le,se,ce){try{var G=k[se](ce),j=G.value}catch(te){return void ie(te)}G.done?ae(j):Promise.resolve(j).then(pe,le)}function J(k){return function(){var ae=this,ie=arguments;return new Promise(function(pe,le){var se=k.apply(ae,ie);function ce(j){u(se,pe,le,ce,G,"next",j)}function G(j){u(se,pe,le,ce,G,"throw",j)}ce(void 0)})}}x.d(_e,{Z:()=>J})}},We=>{We(We.s=7838)}]);